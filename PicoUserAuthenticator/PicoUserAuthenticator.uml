<?xml version="1.0" encoding="UTF-8"?>
<xmi:XMI xmi:version="20110701" xmlns:xmi="http://www.omg.org/spec/XMI/20110701" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:UMLLabProfile="http:///schemas/UMLLabProfile/NS/0" xmlns:ecore="http://www.eclipse.org/emf/2002/Ecore" xmlns:uml="http://www.eclipse.org/uml2/4.0.0/UML" xsi:schemaLocation="http:///schemas/UMLLabProfile/NS/0 pathmap://UMLLAB_PROFILES/UMLLab.profile.uml#UMLLabProfile-Annotation_2-UMLLabProfile">
  <uml:Model xmi:id="_PkN7YO8yEeOflObM3pPwYg" name="PicoUserAuthenticator">
    <eAnnotations xmi:id="_PuSdYO8yEeOflObM3pPwYg" source="http://ns.yatta.de/umllab">
      <contents xmi:type="ecore:EAnnotation" xmi:id="_PuSdYe8yEeOflObM3pPwYg" source="codegen">
        <details xmi:id="_PuSdYu8yEeOflObM3pPwYg" key="codegenDirectory" value="/PicoUserAuthenticator/src"/>
        <details xmi:id="_R3zHkO8yEeOflObM3pPwYg" key="AssociatedSourceCode" value="/PicoUserAuthenticator/src/com/fyp/activities/FaceActivity.java;1093990200/1;/PicoUserAuthenticator/src/com/fyp/activities/LocationActivity.java;1230895216/1;/PicoUserAuthenticator/src/com/fyp/activities/PicoMainActivity.java;751606603/1;/PicoUserAuthenticator/src/com/fyp/activities/util/SystemUiHider.java;3668678304/1;/PicoUserAuthenticator/src/com/fyp/activities/util/SystemUiHiderBase.java;278251744/1;/PicoUserAuthenticator/src/com/fyp/activities/util/SystemUiHiderHoneycomb.java;1607558873/1;/PicoUserAuthenticator/src/com/fyp/activities/util/face/CameraPreview.java;295302009/1;/PicoUserAuthenticator/src/com/fyp/activities/util/face/OwnerPictureCallback.java;1439980403/1;/PicoUserAuthenticator/src/com/fyp/authenticator/AuthMech.java;988823234/1;/PicoUserAuthenticator/src/com/fyp/authenticator/voice/VoiceAuthMediator.java;2530732646/1;/PicoUserAuthenticator/src/com/fyp/authenticator/location/LocationAuthMediator.java;2252198972/1;/PicoUserAuthenticator/src/com/fyp/authenticator/UserAuthenticator.java;1172958397/1;/PicoUserAuthenticator/src/com/fyp/authenticator/dummy/DummyAuthMediator.java;4015114913/1;/PicoUserAuthenticator/src/com/fyp/authenticator/dummy/DummyService.java;2485625171/1;/PicoUserAuthenticator/src/com/fyp/authenticator/face/FaceAuthMediator.java;2349100440/1;/PicoUserAuthenticator/src/com/fyp/authenticator/face/FaceDAO.java;1237088386/1;/PicoUserAuthenticator/src/com/fyp/authenticator/face/FaceService.java;3325119881/1;/PicoUserAuthenticator/src/com/fyp/authenticator/UAService.java;4092733477/1;/PicoUserAuthenticator/src/com/fyp/authenticator/location/LocationDAO.java;3763509935/1;/PicoUserAuthenticator/src/com/fyp/authenticator/location/LocationService.java;3206446664/1;/PicoUserAuthenticator/src/com/fyp/authenticator/AuthMechService.java;3196947903/1;/PicoUserAuthenticator/src/com/fyp/authenticator/voice/VoiceDAO.java;2026743886/1;/PicoUserAuthenticator/src/com/fyp/authenticator/voice/VoiceService.java;3048431177/1;/PicoUserAuthenticator/src/com/fyp/ctypto/KeyManager.java;2826996977/1;"/>
      </contents>
    </eAnnotations>
    <elementImport xmi:id="_Q0pogO8yEeOflObM3pPwYg">
      <importedElement xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
    </elementImport>
    <elementImport xmi:id="_Q0qPkO8yEeOflObM3pPwYg">
      <importedElement xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#byte"/>
    </elementImport>
    <elementImport xmi:id="_Q0qPke8yEeOflObM3pPwYg">
      <importedElement xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#char"/>
    </elementImport>
    <elementImport xmi:id="_Q0qPku8yEeOflObM3pPwYg">
      <importedElement xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
    </elementImport>
    <elementImport xmi:id="_Q0q2oO8yEeOflObM3pPwYg">
      <importedElement xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
    </elementImport>
    <elementImport xmi:id="_Q0q2oe8yEeOflObM3pPwYg">
      <importedElement xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
    </elementImport>
    <elementImport xmi:id="_Q0q2ou8yEeOflObM3pPwYg">
      <importedElement xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#long"/>
    </elementImport>
    <elementImport xmi:id="_Q0q2o-8yEeOflObM3pPwYg">
      <importedElement xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#short"/>
    </elementImport>
    <elementImport xmi:id="_Q0sEwO8yEeOflObM3pPwYg">
      <importedElement xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
    </elementImport>
    <packagedElement xmi:type="uml:Package" xmi:id="_QzyF0O8yEeOflObM3pPwYg" name="com">
      <packagedElement xmi:type="uml:Package" xmi:id="_QzyF0e8yEeOflObM3pPwYg" name="fyp">
        <packagedElement xmi:type="uml:Package" xmi:id="_Qz4zgO8yEeOflObM3pPwYg" name="activities">
          <packagedElement xmi:type="uml:Package" xmi:id="_Qz5akO8yEeOflObM3pPwYg" name="util">
            <packagedElement xmi:type="uml:Package" xmi:id="_Qz5ake8yEeOflObM3pPwYg" name="face">
              <packagedElement xmi:type="uml:Class" xmi:id="_Q7xkMO8yEeOflObM3pPwYg" clientDependency="_Q74R4O8yEeOflObM3pPwYg" name="CameraPreview">
                <ownedComment xmi:id="_RXUQsO8yEeOflObM3pPwYg">
                  <body>Author: http://developer.android.com/guide/topics/media/camera.html</body>
                </ownedComment>
                <generalization xmi:id="_RSJc0O8yEeOflObM3pPwYg" general="_RP290O8yEeOflObM3pPwYg"/>
                <ownedAttribute xmi:id="_RT5JQO8yEeOflObM3pPwYg" name="TAG" visibility="private" isLeaf="true" isStatic="true" isReadOnly="true">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_RT5JQe8yEeOflObM3pPwYg" value="&quot;CameraPreview&quot;"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_RT5JQu8yEeOflObM3pPwYg" name="mHolder" visibility="private" type="_RP2WwO8yEeOflObM3pPwYg" association="_RYfVYe8yEeOflObM3pPwYg"/>
                <ownedAttribute xmi:id="_RT5wUe8yEeOflObM3pPwYg" name="mCamera" visibility="private" type="_RPGI0e8yEeOflObM3pPwYg" association="_RYf8ce8yEeOflObM3pPwYg"/>
                <interfaceRealization xmi:id="_Q74R4O8yEeOflObM3pPwYg" client="_Q7xkMO8yEeOflObM3pPwYg" supplier="_Q7yyUO8yEeOflObM3pPwYg" contract="_Q7yyUO8yEeOflObM3pPwYg"/>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RWbf4O8yEeOflObM3pPwYg" name="CameraPreview" specification="_RSGZgO8yEeOflObM3pPwYg">
                  <ownedParameter xmi:id="_RWbf4e8yEeOflObM3pPwYg" name="context" type="_RPULQe8yEeOflObM3pPwYg"/>
                  <ownedParameter xmi:id="_RWbf4u8yEeOflObM3pPwYg" name="camera" type="_RPGI0e8yEeOflObM3pPwYg"/>
                  <ownedParameter xmi:id="_RWbf4-8yEeOflObM3pPwYg" type="_Q7xkMO8yEeOflObM3pPwYg" direction="return"/>
                  <language>java</language>
                  <body>super(context);&#xD;
		mCamera = camera;&#xD;
&#xD;
		// Install a SurfaceHolder.Callback so we get notified when the&#xD;
		// underlying surface is created and destroyed.&#xD;
		mHolder = getHolder();&#xD;
		mHolder.addCallback(this);&#xD;
&#xD;
		// deprecated setting, but required on Android versions prior to 3.0&#xD;
		mHolder.setType(SurfaceHolder.SURFACE_TYPE_PUSH_BUFFERS);&#xD;
	</body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RWcG8O8yEeOflObM3pPwYg" name="surfaceCreated" specification="_RSHnoO8yEeOflObM3pPwYg">
                  <ownedParameter xmi:id="_RWcG8e8yEeOflObM3pPwYg" name="holder" type="_RP2WwO8yEeOflObM3pPwYg"/>
                  <language>java</language>
                  <body>// The Surface has been created, now tell the camera where to draw the&#xD;
		// preview.&#xD;
		try {&#xD;
			mCamera.setPreviewDisplay(holder);&#xD;
			mCamera.startPreview();&#xD;
		} catch (IOException e) {&#xD;
			Log.d(TAG, &quot;Error setting camera preview: &quot; + e.getMessage());&#xD;
		}&#xD;
	</body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RWcG8u8yEeOflObM3pPwYg" name="surfaceDestroyed" specification="_RSIOsO8yEeOflObM3pPwYg">
                  <ownedParameter xmi:id="_RWcG8-8yEeOflObM3pPwYg" name="holder" type="_RP2WwO8yEeOflObM3pPwYg"/>
                  <language>java</language>
                  <body>// empty. Take care of releasing the Camera preview in your activity.&#xD;
	</body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RWcuAO8yEeOflObM3pPwYg" name="surfaceChanged" specification="_RSIOsu8yEeOflObM3pPwYg">
                  <ownedParameter xmi:id="_RWcuAe8yEeOflObM3pPwYg" name="holder" type="_RP2WwO8yEeOflObM3pPwYg"/>
                  <ownedParameter xmi:id="_RWcuAu8yEeOflObM3pPwYg" name="format">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  </ownedParameter>
                  <ownedParameter xmi:id="_RWcuA-8yEeOflObM3pPwYg" name="w">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  </ownedParameter>
                  <ownedParameter xmi:id="_RWcuBO8yEeOflObM3pPwYg" name="h">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  </ownedParameter>
                  <language>java</language>
                  <body>// If your preview can change or rotate, take care of those events here.&#xD;
		// Make sure to stop the preview before resizing or reformatting it.&#xD;
&#xD;
		if (mHolder.getSurface() == null) {&#xD;
			// preview surface does not exist&#xD;
			return;&#xD;
		}&#xD;
&#xD;
		// stop preview before making changes&#xD;
		try {&#xD;
			mCamera.stopPreview();&#xD;
		} catch (Exception e) {&#xD;
			// ignore: tried to stop a non-existent preview&#xD;
		}&#xD;
&#xD;
		// set preview size and make any resize, rotate or&#xD;
		// reformatting changes here&#xD;
&#xD;
		// start preview with new settings&#xD;
		try {&#xD;
			mCamera.setPreviewDisplay(mHolder);&#xD;
			mCamera.startPreview();&#xD;
&#xD;
		} catch (Exception e) {&#xD;
			Log.d(TAG, &quot;Error starting camera preview: &quot; + e.getMessage());&#xD;
		}&#xD;
	</body>
                </ownedBehavior>
                <ownedOperation xmi:id="_RSGZgO8yEeOflObM3pPwYg" name="CameraPreview" method="_RWbf4O8yEeOflObM3pPwYg">
                  <eAnnotations xmi:id="_RSHAke8yEeOflObM3pPwYg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                    <details xmi:id="_RSHAku8yEeOflObM3pPwYg" key="create"/>
                  </eAnnotations>
                  <ownedParameter xmi:id="_RSGZge8yEeOflObM3pPwYg" name="context" type="_RPULQe8yEeOflObM3pPwYg"/>
                  <ownedParameter xmi:id="_RSHAkO8yEeOflObM3pPwYg" name="camera" type="_RPGI0e8yEeOflObM3pPwYg"/>
                  <ownedParameter xmi:id="_RSHAk-8yEeOflObM3pPwYg" type="_Q7xkMO8yEeOflObM3pPwYg" direction="return"/>
                </ownedOperation>
                <ownedOperation xmi:id="_RSHnoO8yEeOflObM3pPwYg" name="surfaceCreated" method="_RWcG8O8yEeOflObM3pPwYg">
                  <ownedParameter xmi:id="_RSHnoe8yEeOflObM3pPwYg" name="holder" type="_RP2WwO8yEeOflObM3pPwYg"/>
                </ownedOperation>
                <ownedOperation xmi:id="_RSIOsO8yEeOflObM3pPwYg" name="surfaceDestroyed" method="_RWcG8u8yEeOflObM3pPwYg">
                  <ownedParameter xmi:id="_RSIOse8yEeOflObM3pPwYg" name="holder" type="_RP2WwO8yEeOflObM3pPwYg"/>
                </ownedOperation>
                <ownedOperation xmi:id="_RSIOsu8yEeOflObM3pPwYg" name="surfaceChanged" method="_RWcuAO8yEeOflObM3pPwYg">
                  <ownedParameter xmi:id="_RSIOs-8yEeOflObM3pPwYg" name="holder" type="_RP2WwO8yEeOflObM3pPwYg"/>
                  <ownedParameter xmi:id="_RSI1wO8yEeOflObM3pPwYg" name="format">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  </ownedParameter>
                  <ownedParameter xmi:id="_RSI1we8yEeOflObM3pPwYg" name="w">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  </ownedParameter>
                  <ownedParameter xmi:id="_RSI1wu8yEeOflObM3pPwYg" name="h">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  </ownedParameter>
                </ownedOperation>
              </packagedElement>
              <packagedElement xmi:type="uml:Class" xmi:id="_Q7-_kO8yEeOflObM3pPwYg" clientDependency="_RSKD4O8yEeOflObM3pPwYg" name="OwnerPictureCallback">
                <ownedAttribute xmi:id="_RT6-cO8yEeOflObM3pPwYg" name="mFaceDetector" visibility="private" type="_RP9Ece8yEeOflObM3pPwYg" association="_RYhKkO8yEeOflObM3pPwYg">
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_RT7lgO8yEeOflObM3pPwYg" value="null"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_RT7lgu8yEeOflObM3pPwYg" name="fileName" visibility="private">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_RT8MkO8yEeOflObM3pPwYg" value="null"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_RT8Mku8yEeOflObM3pPwYg" name="filePath" visibility="private">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_RT8zoO8yEeOflObM3pPwYg" value="null"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_RT8zou8yEeOflObM3pPwYg" name="TAG" visibility="private" isLeaf="true" isStatic="true" isReadOnly="true">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_RT9asO8yEeOflObM3pPwYg" value="&quot;OwnerPictureCallback&quot;"/>
                </ownedAttribute>
                <interfaceRealization xmi:id="_RSKD4O8yEeOflObM3pPwYg" client="_Q7-_kO8yEeOflObM3pPwYg" supplier="_RP8dYe8yEeOflObM3pPwYg" contract="_RP8dYe8yEeOflObM3pPwYg"/>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RWejMO8yEeOflObM3pPwYg" name="OwnerPictureCallback" specification="_RSLSAO8yEeOflObM3pPwYg">
                  <ownedParameter xmi:id="_RWejMe8yEeOflObM3pPwYg" name="ctx" type="_RPULQe8yEeOflObM3pPwYg"/>
                  <ownedParameter xmi:id="_RWejMu8yEeOflObM3pPwYg" type="_Q7-_kO8yEeOflObM3pPwYg" direction="return"/>
                  <language>java</language>
                  <body>this.filePath = ctx.getFilesDir().toString();&#xD;
		this.fileName = &quot;owner&quot; + getNextOwner() + &quot;.png&quot;;&#xD;
	</body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RWfKQO8yEeOflObM3pPwYg" name="getNextOwner" specification="_Q8Bb0O8yEeOflObM3pPwYg">
                  <ownedParameter xmi:id="_RWfKQe8yEeOflObM3pPwYg" direction="return">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  </ownedParameter>
                  <language>java</language>
                  <body>int lastOwner = 0;&#xD;
		File dir = new File (this.filePath);&#xD;
		&#xD;
		if (!dir.exists() || !dir.isDirectory()) {&#xD;
			Log.e(TAG, &quot;Error with owner file!&quot;);&#xD;
			return 0;&#xD;
		}&#xD;
		&#xD;
		for(File file : dir.listFiles()) {&#xD;
			String name = file.getName();&#xD;
&#xD;
			if (file.isDirectory() || !name.endsWith(&quot;.png&quot;)) {&#xD;
				continue;&#xD;
			}&#xD;
&#xD;
			if (name.startsWith(&quot;owner&quot;)) {&#xD;
				int owner = 0;&#xD;
				for (int i = 5; Character.isDigit(name.charAt(i)); i++) {&#xD;
					owner *= 10;&#xD;
					owner += name.charAt(i);&#xD;
				}&#xD;
				&#xD;
				if (owner > lastOwner) {&#xD;
					lastOwner = owner;&#xD;
				}&#xD;
			}&#xD;
		}&#xD;
		&#xD;
		Log.d(TAG, &quot;next owner: &quot; + lastOwner + 1);&#xD;
		return lastOwner + 1;&#xD;
	</body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RWfxUO8yEeOflObM3pPwYg" name="onPictureTaken" specification="_RSL5EO8yEeOflObM3pPwYg">
                  <ownedParameter xmi:id="_RWfxUe8yEeOflObM3pPwYg" name="data">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#byte"/>
                    <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_RWfxUu8yEeOflObM3pPwYg" value="*"/>
                  </ownedParameter>
                  <ownedParameter xmi:id="_RWfxU-8yEeOflObM3pPwYg" name="camera" type="_RPGI0e8yEeOflObM3pPwYg"/>
                  <language>java</language>
                  <body>camera.stopPreview();&#xD;
		camera.release();&#xD;
&#xD;
		Bitmap bmp = null;&#xD;
		BitmapFactory.Options options = new BitmapFactory.Options();&#xD;
		options.inPreferredConfig = Bitmap.Config.RGB_565;	&#xD;
		&#xD;
		if (data == null) {&#xD;
			Log.e(&quot;FaceService&quot;, &quot;null data&quot;);&#xD;
			return;&#xD;
		}&#xD;
&#xD;
		bmp = BitmapFactory.decodeByteArray(data, 0, data.length, options);&#xD;
		if (bmp == null) {&#xD;
			Log.e(&quot;FaceService&quot;, &quot;Decoded bmp is null!&quot;);&#xD;
			return;&#xD;
		} else {&#xD;
			Log.d(&quot;FaceService&quot;, &quot;Decoded bmp is ok!&quot;);&#xD;
		}&#xD;
		&#xD;
		Matrix rotMatrix = new Matrix();&#xD;
		rotMatrix.postRotate(270);&#xD;
		&#xD;
		bmp = Bitmap.createBitmap(bmp, 0, 0, bmp.getWidth(), bmp.getHeight(), rotMatrix, true);&#xD;
		bmp = Bitmap.createScaledBitmap(bmp, &#xD;
				(int) (0.5 * bmp.getWidth()), &#xD;
				(int) (0.5 * bmp.getHeight()), true);&#xD;
		&#xD;
		&#xD;
		// TODO: extract face and save face only!&#xD;
		FaceDetector.Face[] faces = new FaceDetector.Face[10];&#xD;
		this.mFaceDetector = new FaceDetector(bmp.getWidth(), bmp.getHeight(), 10);&#xD;
		int numFaces = this.mFaceDetector.findFaces(bmp, faces);&#xD;
&#xD;
		Log.d(TAG, &quot;Found &quot; + numFaces + &quot; faces.&quot;);&#xD;
		if (numFaces == 1) {&#xD;
&#xD;
			try {&#xD;
				Log.d(TAG, &quot;writing to &quot; + getAbsoluteFilePath());&#xD;
&#xD;
				FileOutputStream fos = new FileOutputStream(getAbsoluteFilePath());&#xD;
				bmp.compress(Bitmap.CompressFormat.PNG, 100, fos);&#xD;
&#xD;
				fos.flush();&#xD;
				fos.close();&#xD;
&#xD;
			} catch (FileNotFoundException e) {&#xD;
				Log.e(TAG, e.getMessage());&#xD;
				e.printStackTrace();&#xD;
&#xD;
			} catch (IOException e) {&#xD;
				Log.e(TAG, e.getMessage());&#xD;
				e.printStackTrace();&#xD;
			}&#xD;
			&#xD;
		} else {&#xD;
			Log.e(TAG, &quot;Too many faces!&quot;);&#xD;
		}&#xD;
&#xD;
		Log.d(TAG, &quot;Terminated ok-&quot;);&#xD;
	</body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RWgYYO8yEeOflObM3pPwYg" name="getAbsoluteFilePath" specification="_Q8CC4O8yEeOflObM3pPwYg">
                  <ownedParameter xmi:id="_RWgYYe8yEeOflObM3pPwYg" direction="return">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  </ownedParameter>
                  <language>java</language>
                  <body>return this.filePath + &quot;/&quot; + this.fileName;&#xD;
	</body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RWgYYu8yEeOflObM3pPwYg" name="getSdAbsoulteFilePath" specification="_Q8DRAO8yEeOflObM3pPwYg">
                  <ownedParameter xmi:id="_RWgYY-8yEeOflObM3pPwYg" direction="return">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  </ownedParameter>
                  <language>java</language>
                  <body>File root = Environment.getExternalStorageDirectory();&#xD;
		File dir = new File(root.getAbsolutePath() + &quot;/test-faces&quot;);&#xD;
&#xD;
		if (!dir.exists() &amp;&amp; dir.mkdirs() == false) {&#xD;
			Log.e(TAG, &quot;could not create dirs..&quot;);&#xD;
		}&#xD;
&#xD;
		File file = new File(dir, &quot;owner.png&quot;);&#xD;
&#xD;
		return file.getAbsolutePath();&#xD;
	</body>
                </ownedBehavior>
                <ownedOperation xmi:id="_Q8Bb0O8yEeOflObM3pPwYg" name="getNextOwner" visibility="private" method="_RWfKQO8yEeOflObM3pPwYg">
                  <ownedParameter xmi:id="_Q8Bb0e8yEeOflObM3pPwYg" direction="return">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  </ownedParameter>
                </ownedOperation>
                <ownedOperation xmi:id="_Q8CC4O8yEeOflObM3pPwYg" name="getAbsoluteFilePath" visibility="private" method="_RWgYYO8yEeOflObM3pPwYg">
                  <ownedParameter xmi:id="_Q8Cp8O8yEeOflObM3pPwYg" direction="return">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  </ownedParameter>
                </ownedOperation>
                <ownedOperation xmi:id="_Q8DRAO8yEeOflObM3pPwYg" name="getSdAbsoulteFilePath" visibility="private" method="_RWgYYu8yEeOflObM3pPwYg">
                  <ownedParameter xmi:id="_Q8DRAe8yEeOflObM3pPwYg" direction="return">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  </ownedParameter>
                </ownedOperation>
                <ownedOperation xmi:id="_RSLSAO8yEeOflObM3pPwYg" name="OwnerPictureCallback" method="_RWejMO8yEeOflObM3pPwYg">
                  <eAnnotations xmi:id="_RSLSAu8yEeOflObM3pPwYg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                    <details xmi:id="_RSLSA-8yEeOflObM3pPwYg" key="create"/>
                  </eAnnotations>
                  <ownedParameter xmi:id="_RSLSAe8yEeOflObM3pPwYg" name="ctx" type="_RPULQe8yEeOflObM3pPwYg"/>
                  <ownedParameter xmi:id="_RSLSBO8yEeOflObM3pPwYg" type="_Q7-_kO8yEeOflObM3pPwYg" direction="return"/>
                </ownedOperation>
                <ownedOperation xmi:id="_RSL5EO8yEeOflObM3pPwYg" name="onPictureTaken" method="_RWfxUO8yEeOflObM3pPwYg">
                  <ownedParameter xmi:id="_RSL5Ee8yEeOflObM3pPwYg" name="data">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#byte"/>
                    <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_RSMgIe8yEeOflObM3pPwYg" value="*"/>
                  </ownedParameter>
                  <ownedParameter xmi:id="_RSL5Eu8yEeOflObM3pPwYg" name="camera" type="_RPGI0e8yEeOflObM3pPwYg"/>
                </ownedOperation>
              </packagedElement>
              <packagedElement xmi:type="uml:Association" xmi:id="_RYfVYe8yEeOflObM3pPwYg" name="" memberEnd="_RYfVYu8yEeOflObM3pPwYg _RT5JQu8yEeOflObM3pPwYg">
                <ownedEnd xmi:id="_RYfVYu8yEeOflObM3pPwYg" name="" type="_Q7xkMO8yEeOflObM3pPwYg" association="_RYfVYe8yEeOflObM3pPwYg"/>
              </packagedElement>
              <packagedElement xmi:type="uml:Association" xmi:id="_RYf8ce8yEeOflObM3pPwYg" name="" memberEnd="_RYf8cu8yEeOflObM3pPwYg _RT5wUe8yEeOflObM3pPwYg">
                <ownedEnd xmi:id="_RYf8cu8yEeOflObM3pPwYg" name="" type="_Q7xkMO8yEeOflObM3pPwYg" association="_RYf8ce8yEeOflObM3pPwYg"/>
              </packagedElement>
              <packagedElement xmi:type="uml:Association" xmi:id="_RYhKkO8yEeOflObM3pPwYg" name="" memberEnd="_RYhKke8yEeOflObM3pPwYg _RT6-cO8yEeOflObM3pPwYg">
                <ownedEnd xmi:id="_RYhKke8yEeOflObM3pPwYg" name="" type="_Q7-_kO8yEeOflObM3pPwYg" association="_RYhKkO8yEeOflObM3pPwYg"/>
              </packagedElement>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_Q7LuUO8yEeOflObM3pPwYg" name="SystemUiHider" isAbstract="true">
              <ownedComment xmi:id="_RXSbgO8yEeOflObM3pPwYg">
                <body>A utility class that helps with showing and hiding system UI such as the
status bar and navigation/system bar. This class uses backward-compatibility
techniques described in &lt;a href=
&quot;http://developer.android.com/training/backward-compatible-ui/index.html&quot;>
Creating Backward-Compatible UIs&lt;/a> to ensure that devices running any
version of ndroid OS are supported. More specifically, there are separate
implementations of this abstract class: for newer devices,
{@link #getInstance} will return a {@link SystemUiHiderHoneycomb} instance,
while on older devices {@link #getInstance} will return a
{@link SystemUiHiderBase} instance.
&lt;p>
For more on system bars, see &lt;a href=
&quot;http://developer.android.com/design/get-started/ui-overview.html#system-bars&quot;
> System Bars&lt;/a>.

@see android.view.View#setSystemUiVisibility(int)
@see android.view.WindowManager.LayoutParams#FLAG_FULLSCREEN</body>
              </ownedComment>
              <ownedAttribute xmi:id="_RTvYQO8yEeOflObM3pPwYg" name="FLAG_LAYOUT_IN_SCREEN_OLDER_DEVICES" isLeaf="true" isStatic="true" isReadOnly="true">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_RTvYQe8yEeOflObM3pPwYg" value="0x1"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_RTv_UO8yEeOflObM3pPwYg" name="FLAG_FULLSCREEN" isLeaf="true" isStatic="true" isReadOnly="true">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_RTv_Ue8yEeOflObM3pPwYg" value="0x2"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_RTv_Uu8yEeOflObM3pPwYg" name="FLAG_HIDE_NAVIGATION" isLeaf="true" isStatic="true" isReadOnly="true">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_RTwmYO8yEeOflObM3pPwYg" value="FLAG_FULLSCREEN | 0x4"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_RTwmYe8yEeOflObM3pPwYg" name="mActivity" visibility="protected" type="_RPE6sO8yEeOflObM3pPwYg" association="_RYac4e8yEeOflObM3pPwYg"/>
              <ownedAttribute xmi:id="_RTxNce8yEeOflObM3pPwYg" name="mAnchorView" visibility="protected" type="_RPH-Ae8yEeOflObM3pPwYg" association="_RYbrAe8yEeOflObM3pPwYg"/>
              <ownedAttribute xmi:id="_RTx0ge8yEeOflObM3pPwYg" name="mFlags" visibility="protected">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_RTybkO8yEeOflObM3pPwYg" name="mOnVisibilityChangeListener" visibility="protected" type="_Q7VfUO8yEeOflObM3pPwYg" association="_RYc5IO8yEeOflObM3pPwYg">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_RTybke8yEeOflObM3pPwYg" value="sDummyListener"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_RTzCoO8yEeOflObM3pPwYg" name="sDummyListener" visibility="private" isStatic="true" type="_Q7VfUO8yEeOflObM3pPwYg" association="_RYdgMe8yEeOflObM3pPwYg">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_RTzCoe8yEeOflObM3pPwYg" value="new OnVisibilityChangeListener() {&#xA;        @Override&#xA;        public void onVisibilityChange(boolean visible) {&#xA;        }&#xA;    }"/>
              </ownedAttribute>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RWSV8O8yEeOflObM3pPwYg" name="getInstance" specification="_RR_EwO8yEeOflObM3pPwYg">
                <ownedParameter xmi:id="_RWSV8e8yEeOflObM3pPwYg" name="activity" type="_RPE6sO8yEeOflObM3pPwYg"/>
                <ownedParameter xmi:id="_RWSV8u8yEeOflObM3pPwYg" name="anchorView" type="_RPH-Ae8yEeOflObM3pPwYg"/>
                <ownedParameter xmi:id="_RWSV8-8yEeOflObM3pPwYg" name="flags">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_RWSV9O8yEeOflObM3pPwYg" type="_Q7LuUO8yEeOflObM3pPwYg" direction="return"/>
                <language>java</language>
                <body>if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.HONEYCOMB) {
         return new SystemUiHiderHoneycomb(activity, anchorView, flags);
     } else {
         return new SystemUiHiderBase(activity, anchorView, flags);
     }
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RWS9AO8yEeOflObM3pPwYg" name="SystemUiHider" specification="_RSAS4O8yEeOflObM3pPwYg">
                <ownedParameter xmi:id="_RWS9Ae8yEeOflObM3pPwYg" name="activity" type="_RPE6sO8yEeOflObM3pPwYg"/>
                <ownedParameter xmi:id="_RWS9Au8yEeOflObM3pPwYg" name="anchorView" type="_RPH-Ae8yEeOflObM3pPwYg"/>
                <ownedParameter xmi:id="_RWS9A-8yEeOflObM3pPwYg" name="flags">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_RWS9BO8yEeOflObM3pPwYg" type="_Q7LuUO8yEeOflObM3pPwYg" direction="return"/>
                <language>java</language>
                <body>mActivity = activity;
     mAnchorView = anchorView;
     mFlags = flags;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RWTkEO8yEeOflObM3pPwYg" name="toggle" specification="_Q7R08O8yEeOflObM3pPwYg">
                <language>java</language>
                <body>if (isVisible()) {
         hide();
     } else {
         show();
     }
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RWTkEe8yEeOflObM3pPwYg" name="setOnVisibilityChangeListener" specification="_RPqwkO8yEeOflObM3pPwYg">
                <ownedParameter xmi:id="_RWTkEu8yEeOflObM3pPwYg" name="listener" type="_Q7VfUO8yEeOflObM3pPwYg"/>
                <language>java</language>
                <body>if (listener == null) {
         listener = sDummyListener;
     }

     mOnVisibilityChangeListener = listener;
 </body>
              </ownedBehavior>
              <ownedOperation xmi:id="_Q7PYsO8yEeOflObM3pPwYg" name="setup" isAbstract="true">
                <ownedComment xmi:id="_RXSbgu8yEeOflObM3pPwYg">
                  <body>Sets up the system UI hider. Should be called from
     * {@link Activity#onCreate}.</body>
                </ownedComment>
              </ownedOperation>
              <ownedOperation xmi:id="_Q7P_wO8yEeOflObM3pPwYg" name="isVisible" isAbstract="true">
                <ownedComment xmi:id="_RXSbg-8yEeOflObM3pPwYg">
                  <body>Returns whether or not the system UI is visible.</body>
                </ownedComment>
                <ownedParameter xmi:id="_Q7Qm0O8yEeOflObM3pPwYg" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_Q7Qm0e8yEeOflObM3pPwYg" name="hide" isAbstract="true">
                <ownedComment xmi:id="_RXSbhO8yEeOflObM3pPwYg">
                  <body>Hide the system UI.</body>
                </ownedComment>
              </ownedOperation>
              <ownedOperation xmi:id="_Q7RN4O8yEeOflObM3pPwYg" name="show" isAbstract="true">
                <ownedComment xmi:id="_RXTCkO8yEeOflObM3pPwYg">
                  <body>Show the system UI.</body>
                </ownedComment>
              </ownedOperation>
              <ownedOperation xmi:id="_Q7R08O8yEeOflObM3pPwYg" name="toggle" method="_RWTkEO8yEeOflObM3pPwYg">
                <ownedComment xmi:id="_RXTCke8yEeOflObM3pPwYg">
                  <body>Toggle the visibility of the system UI.</body>
                </ownedComment>
              </ownedOperation>
              <ownedOperation xmi:id="_RPqwkO8yEeOflObM3pPwYg" name="setOnVisibilityChangeListener" method="_RWTkEe8yEeOflObM3pPwYg">
                <ownedComment xmi:id="_RXTCku8yEeOflObM3pPwYg">
                  <body>Registers a callback, to be triggered when the system UI visibility
     * changes.</body>
                </ownedComment>
                <ownedParameter xmi:id="_RPqwke8yEeOflObM3pPwYg" name="listener" type="_Q7VfUO8yEeOflObM3pPwYg"/>
              </ownedOperation>
              <ownedOperation xmi:id="_RR_EwO8yEeOflObM3pPwYg" name="getInstance" isStatic="true" method="_RWSV8O8yEeOflObM3pPwYg">
                <ownedComment xmi:id="_RXSbge8yEeOflObM3pPwYg">
                  <body>Creates and returns an instance of {@link SystemUiHider} that is
     * appropriate for this device. The object will be either a
     * {@link SystemUiHiderBase} or {@link SystemUiHiderHoneycomb} depending on
     * the device.
     * 
     * @param activity The activity whose window's system UI should be
     *            controlled by this class.
     * @param anchorView The view on which
     *            {@link View#setSystemUiVisibility(int)} will be called.
     * @param flags Either 0 or any combination of {@link #FLAG_FULLSCREEN},
     *            {@link #FLAG_HIDE_NAVIGATION}, and
     *            {@link #FLAG_LAYOUT_IN_SCREEN_OLDER_DEVICES}.</body>
                </ownedComment>
                <ownedParameter xmi:id="_RR_Ewe8yEeOflObM3pPwYg" name="activity" type="_RPE6sO8yEeOflObM3pPwYg"/>
                <ownedParameter xmi:id="_RR_Ewu8yEeOflObM3pPwYg" name="anchorView" type="_RPH-Ae8yEeOflObM3pPwYg"/>
                <ownedParameter xmi:id="_RR_Ew-8yEeOflObM3pPwYg" name="flags">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_RR_r0O8yEeOflObM3pPwYg" type="_Q7LuUO8yEeOflObM3pPwYg" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_RSAS4O8yEeOflObM3pPwYg" name="SystemUiHider" visibility="protected" method="_RWS9AO8yEeOflObM3pPwYg">
                <eAnnotations xmi:id="_RSAS5O8yEeOflObM3pPwYg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_RSAS5e8yEeOflObM3pPwYg" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_RSAS4e8yEeOflObM3pPwYg" name="activity" type="_RPE6sO8yEeOflObM3pPwYg"/>
                <ownedParameter xmi:id="_RSAS4u8yEeOflObM3pPwYg" name="anchorView" type="_RPH-Ae8yEeOflObM3pPwYg"/>
                <ownedParameter xmi:id="_RSAS4-8yEeOflObM3pPwYg" name="flags">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_RSA58O8yEeOflObM3pPwYg" type="_Q7LuUO8yEeOflObM3pPwYg" direction="return"/>
              </ownedOperation>
              <nestedClassifier xmi:type="uml:Interface" xmi:id="_Q7VfUO8yEeOflObM3pPwYg" name="OnVisibilityChangeListener">
                <ownedComment xmi:id="_RXTCk-8yEeOflObM3pPwYg">
                  <body>A callback interface used to listen for system UI visibility changes.</body>
                </ownedComment>
                <ownedOperation xmi:id="_Q7WtcO8yEeOflObM3pPwYg" name="onVisibilityChange">
                  <ownedComment xmi:id="_RXTClO8yEeOflObM3pPwYg">
                    <body>Called when the system UI visibility has changed.
         * 
         * @param visible True if the system UI is visible.</body>
                  </ownedComment>
                  <ownedParameter xmi:id="_Q7XUgO8yEeOflObM3pPwYg" name="visible">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                  </ownedParameter>
                </ownedOperation>
              </nestedClassifier>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_Q7epQO8yEeOflObM3pPwYg" name="SystemUiHiderBase">
              <ownedComment xmi:id="_RXTCle8yEeOflObM3pPwYg">
                <body>A base implementation of {@link SystemUiHider}. Uses APIs available in all
API levels to show and hide the status bar.</body>
              </ownedComment>
              <generalization xmi:id="_RPw3MO8yEeOflObM3pPwYg" general="_Q7LuUO8yEeOflObM3pPwYg"/>
              <ownedAttribute xmi:id="_RT030O8yEeOflObM3pPwYg" name="mVisible" visibility="private">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_RT030e8yEeOflObM3pPwYg" value="true"/>
              </ownedAttribute>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RWVZQO8yEeOflObM3pPwYg" name="SystemUiHiderBase" specification="_RSCvIO8yEeOflObM3pPwYg">
                <ownedParameter xmi:id="_RWVZQe8yEeOflObM3pPwYg" name="activity" type="_RPE6sO8yEeOflObM3pPwYg"/>
                <ownedParameter xmi:id="_RWVZQu8yEeOflObM3pPwYg" name="anchorView" type="_RPH-Ae8yEeOflObM3pPwYg"/>
                <ownedParameter xmi:id="_RWVZQ-8yEeOflObM3pPwYg" name="flags">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_RWVZRO8yEeOflObM3pPwYg" type="_Q7epQO8yEeOflObM3pPwYg" direction="return"/>
                <language>java</language>
                <body>super(activity, anchorView, flags);
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RWWAUO8yEeOflObM3pPwYg" name="setup" specification="_Q7gecO8yEeOflObM3pPwYg">
                <language>java</language>
                <body>if ((mFlags &amp; FLAG_LAYOUT_IN_SCREEN_OLDER_DEVICES) == 0) {
         mActivity.getWindow().setFlags(
                 WindowManager.LayoutParams.FLAG_LAYOUT_IN_SCREEN
                         | WindowManager.LayoutParams.FLAG_LAYOUT_NO_LIMITS,
                 WindowManager.LayoutParams.FLAG_LAYOUT_IN_SCREEN
                         | WindowManager.LayoutParams.FLAG_LAYOUT_NO_LIMITS);
     }
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RWWAUe8yEeOflObM3pPwYg" name="isVisible" specification="_Q7hskO8yEeOflObM3pPwYg">
                <ownedParameter xmi:id="_RWWAUu8yEeOflObM3pPwYg" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>return mVisible;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RWWnYO8yEeOflObM3pPwYg" name="hide" specification="_Q7i6su8yEeOflObM3pPwYg">
                <language>java</language>
                <body>if ((mFlags &amp; FLAG_FULLSCREEN) != 0) {
         mActivity.getWindow().setFlags(
                 WindowManager.LayoutParams.FLAG_FULLSCREEN,
                 WindowManager.LayoutParams.FLAG_FULLSCREEN);
     }
     mOnVisibilityChangeListener.onVisibilityChange(false);
     mVisible = false;
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RWWnYe8yEeOflObM3pPwYg" name="show" specification="_Q7kI0O8yEeOflObM3pPwYg">
                <language>java</language>
                <body>if ((mFlags &amp; FLAG_FULLSCREEN) != 0) {
         mActivity.getWindow().setFlags(
                 0,
                 WindowManager.LayoutParams.FLAG_FULLSCREEN);
     }
     mOnVisibilityChangeListener.onVisibilityChange(true);
     mVisible = true;
 </body>
              </ownedBehavior>
              <ownedOperation xmi:id="_Q7gecO8yEeOflObM3pPwYg" name="setup" method="_RWWAUO8yEeOflObM3pPwYg"/>
              <ownedOperation xmi:id="_Q7hskO8yEeOflObM3pPwYg" name="isVisible" method="_RWWAUe8yEeOflObM3pPwYg">
                <ownedParameter xmi:id="_Q7hske8yEeOflObM3pPwYg" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_Q7i6su8yEeOflObM3pPwYg" name="hide" method="_RWWnYO8yEeOflObM3pPwYg"/>
              <ownedOperation xmi:id="_Q7kI0O8yEeOflObM3pPwYg" name="show" method="_RWWnYe8yEeOflObM3pPwYg"/>
              <ownedOperation xmi:id="_RSCvIO8yEeOflObM3pPwYg" name="SystemUiHiderBase" visibility="protected" method="_RWVZQO8yEeOflObM3pPwYg">
                <eAnnotations xmi:id="_RSCvJO8yEeOflObM3pPwYg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_RSCvJe8yEeOflObM3pPwYg" key="create"/>
                </eAnnotations>
                <ownedComment xmi:id="_RXTClu8yEeOflObM3pPwYg">
                  <body>Constructor not intended to be called by clients. Use
     * {@link SystemUiHider#getInstance} to obtain an instance.</body>
                </ownedComment>
                <ownedParameter xmi:id="_RSCvIe8yEeOflObM3pPwYg" name="activity" type="_RPE6sO8yEeOflObM3pPwYg"/>
                <ownedParameter xmi:id="_RSCvIu8yEeOflObM3pPwYg" name="anchorView" type="_RPH-Ae8yEeOflObM3pPwYg"/>
                <ownedParameter xmi:id="_RSCvI-8yEeOflObM3pPwYg" name="flags">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_RSCvJu8yEeOflObM3pPwYg" type="_Q7epQO8yEeOflObM3pPwYg" direction="return"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_Q7mlEO8yEeOflObM3pPwYg" name="SystemUiHiderHoneycomb">
              <generalization xmi:id="_RPz6ge8yEeOflObM3pPwYg" general="_Q7epQO8yEeOflObM3pPwYg"/>
              <ownedAttribute xmi:id="_RT2F8O8yEeOflObM3pPwYg" name="mShowFlags" visibility="private">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_RT2tAO8yEeOflObM3pPwYg" name="mHideFlags" visibility="private">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_RT2tAe8yEeOflObM3pPwYg" name="mTestFlags" visibility="private">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_RT3UEO8yEeOflObM3pPwYg" name="mVisible" visibility="private">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_RT3UEe8yEeOflObM3pPwYg" value="true"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_RT37IO8yEeOflObM3pPwYg" name="mSystemUiVisibilityChangeListener" visibility="private" type="_RPzTcO8yEeOflObM3pPwYg" association="_RYeHQe8yEeOflObM3pPwYg">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_RT37Ie8yEeOflObM3pPwYg" value="new View.OnSystemUiVisibilityChangeListener() {&#xA;        @Override&#xA;        public void onSystemUiVisibilityChange(int vis) {&#xA;            // Test against mTestFlags to see if the system UI is visible.&#xA;            if ((vis &amp; mTestFlags) != 0) {&#xA;                if (Build.VERSION.SDK_INT &lt; Build.VERSION_CODES.JELLY_BEAN) {&#xA;                    // Pre-Jelly Bean, we must manually hide the action bar&#xA;                    // and use the old window flags API.&#xA;                    mActivity.getActionBar().hide();&#xA;                    mActivity.getWindow().setFlags(&#xA;                            WindowManager.LayoutParams.FLAG_FULLSCREEN,&#xA;                            WindowManager.LayoutParams.FLAG_FULLSCREEN);&#xA;                }&#xA;&#xA;                // Trigger the registered listener and cache the visibility&#xA;                // state.&#xA;                mOnVisibilityChangeListener.onVisibilityChange(false);&#xA;                mVisible = false;&#xA;&#xA;            } else {&#xA;                mAnchorView.setSystemUiVisibility(mShowFlags);&#xA;                if (Build.VERSION.SDK_INT &lt; Build.VERSION_CODES.JELLY_BEAN) {&#xA;                    // Pre-Jelly Bean, we must manually show the action bar&#xA;                    // and use the old window flags API.&#xA;                    mActivity.getActionBar().show();&#xA;                    mActivity.getWindow().setFlags(&#xA;                            0,&#xA;                            WindowManager.LayoutParams.FLAG_FULLSCREEN);&#xA;                }&#xA;&#xA;                // Trigger the registered listener and cache the visibility&#xA;                // state.&#xA;                mOnVisibilityChangeListener.onVisibilityChange(true);&#xA;                mVisible = true;&#xA;            }&#xA;        }&#xA;    }"/>
              </ownedAttribute>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RWX1gO8yEeOflObM3pPwYg" name="SystemUiHiderHoneycomb" specification="_RSD9QO8yEeOflObM3pPwYg">
                <ownedParameter xmi:id="_RWX1ge8yEeOflObM3pPwYg" name="activity" type="_RPE6sO8yEeOflObM3pPwYg"/>
                <ownedParameter xmi:id="_RWX1gu8yEeOflObM3pPwYg" name="anchorView" type="_RPH-Ae8yEeOflObM3pPwYg"/>
                <ownedParameter xmi:id="_RWX1g-8yEeOflObM3pPwYg" name="flags">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_RWX1hO8yEeOflObM3pPwYg" type="_Q7mlEO8yEeOflObM3pPwYg" direction="return"/>
                <language>java</language>
                <body>super(activity, anchorView, flags);

     mShowFlags = View.SYSTEM_UI_FLAG_VISIBLE;
     mHideFlags = View.SYSTEM_UI_FLAG_LOW_PROFILE;
     mTestFlags = View.SYSTEM_UI_FLAG_LOW_PROFILE;

     if ((mFlags &amp; FLAG_FULLSCREEN) != 0) {
         // If the client requested fullscreen, add flags relevant to hiding
         // the status bar. Note that some of these constants are new as of
         // API 16 (Jelly Bean). It is safe to use them, as they are inlined
         // at compile-time and do nothing on pre-Jelly Bean devices.
         mShowFlags |= View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN;
         mHideFlags |= View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN
                 | View.SYSTEM_UI_FLAG_FULLSCREEN;
     }

     if ((mFlags &amp; FLAG_HIDE_NAVIGATION) != 0) {
         // If the client requested hiding navigation, add relevant flags.
         mShowFlags |= View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION;
         mHideFlags |= View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION
                 | View.SYSTEM_UI_FLAG_HIDE_NAVIGATION;
         mTestFlags |= View.SYSTEM_UI_FLAG_HIDE_NAVIGATION;
     }
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RWYckO8yEeOflObM3pPwYg" name="setup" specification="_Q7pBUO8yEeOflObM3pPwYg">
                <language>java</language>
                <body>mAnchorView.setOnSystemUiVisibilityChangeListener(mSystemUiVisibilityChangeListener);
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RWZDoO8yEeOflObM3pPwYg" name="hide" specification="_Q7qPcu8yEeOflObM3pPwYg">
                <language>java</language>
                <body>mAnchorView.setSystemUiVisibility(mHideFlags);
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RWZDoe8yEeOflObM3pPwYg" name="show" specification="_Q7rdkO8yEeOflObM3pPwYg">
                <language>java</language>
                <body>mAnchorView.setSystemUiVisibility(mShowFlags);
 </body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RWZqsO8yEeOflObM3pPwYg" name="isVisible" specification="_Q7sEoe8yEeOflObM3pPwYg">
                <ownedParameter xmi:id="_RWZqse8yEeOflObM3pPwYg" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>return mVisible;
 </body>
              </ownedBehavior>
              <ownedOperation xmi:id="_Q7pBUO8yEeOflObM3pPwYg" name="setup" method="_RWYckO8yEeOflObM3pPwYg"/>
              <ownedOperation xmi:id="_Q7qPcu8yEeOflObM3pPwYg" name="hide" method="_RWZDoO8yEeOflObM3pPwYg"/>
              <ownedOperation xmi:id="_Q7rdkO8yEeOflObM3pPwYg" name="show" method="_RWZDoe8yEeOflObM3pPwYg"/>
              <ownedOperation xmi:id="_Q7sEoe8yEeOflObM3pPwYg" name="isVisible" method="_RWZqsO8yEeOflObM3pPwYg">
                <ownedParameter xmi:id="_Q7sEou8yEeOflObM3pPwYg" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_RSD9QO8yEeOflObM3pPwYg" name="SystemUiHiderHoneycomb" visibility="protected" method="_RWX1gO8yEeOflObM3pPwYg">
                <eAnnotations xmi:id="_RSEkUu8yEeOflObM3pPwYg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_RSEkU-8yEeOflObM3pPwYg" key="create"/>
                </eAnnotations>
                <ownedComment xmi:id="_RXTpoe8yEeOflObM3pPwYg">
                  <body>Constructor not intended to be called by clients. Use
     * {@link SystemUiHider#getInstance} to obtain an instance.</body>
                </ownedComment>
                <ownedParameter xmi:id="_RSD9Qe8yEeOflObM3pPwYg" name="activity" type="_RPE6sO8yEeOflObM3pPwYg"/>
                <ownedParameter xmi:id="_RSEkUO8yEeOflObM3pPwYg" name="anchorView" type="_RPH-Ae8yEeOflObM3pPwYg"/>
                <ownedParameter xmi:id="_RSEkUe8yEeOflObM3pPwYg" name="flags">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <ownedParameter xmi:id="_RSEkVO8yEeOflObM3pPwYg" type="_Q7mlEO8yEeOflObM3pPwYg" direction="return"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_RYac4e8yEeOflObM3pPwYg" name="" memberEnd="_RYac4u8yEeOflObM3pPwYg _RTwmYe8yEeOflObM3pPwYg">
              <ownedEnd xmi:id="_RYac4u8yEeOflObM3pPwYg" name="" type="_Q7LuUO8yEeOflObM3pPwYg" association="_RYac4e8yEeOflObM3pPwYg"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_RYbrAe8yEeOflObM3pPwYg" name="" memberEnd="_RYbrAu8yEeOflObM3pPwYg _RTxNce8yEeOflObM3pPwYg">
              <ownedEnd xmi:id="_RYbrAu8yEeOflObM3pPwYg" name="" type="_Q7LuUO8yEeOflObM3pPwYg" association="_RYbrAe8yEeOflObM3pPwYg"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_RYc5IO8yEeOflObM3pPwYg" name="" memberEnd="_RYc5Ie8yEeOflObM3pPwYg _RTybkO8yEeOflObM3pPwYg">
              <ownedEnd xmi:id="_RYc5Ie8yEeOflObM3pPwYg" name="" type="_Q7LuUO8yEeOflObM3pPwYg" association="_RYc5IO8yEeOflObM3pPwYg"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_RYdgMe8yEeOflObM3pPwYg" name="" memberEnd="_RYdgMu8yEeOflObM3pPwYg _RTzCoO8yEeOflObM3pPwYg">
              <ownedEnd xmi:id="_RYdgMu8yEeOflObM3pPwYg" name="" type="_Q7LuUO8yEeOflObM3pPwYg" association="_RYdgMe8yEeOflObM3pPwYg"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_RYeHQe8yEeOflObM3pPwYg" name="" memberEnd="_RYeuUO8yEeOflObM3pPwYg _RT37IO8yEeOflObM3pPwYg">
              <ownedEnd xmi:id="_RYeuUO8yEeOflObM3pPwYg" name="" type="_Q7mlEO8yEeOflObM3pPwYg" association="_RYeHQe8yEeOflObM3pPwYg"/>
            </packagedElement>
          </packagedElement>
          <packagedElement xmi:type="uml:Class" xmi:id="_Q6Ds8O8yEeOflObM3pPwYg" name="FaceActivity">
            <generalization xmi:id="_RRsw4O8yEeOflObM3pPwYg" general="_RPE6sO8yEeOflObM3pPwYg"/>
            <ownedAttribute xmi:id="_RTTTYO8yEeOflObM3pPwYg" name="mCamera" visibility="private" type="_RPGI0e8yEeOflObM3pPwYg" association="_RYA0QO8yEeOflObM3pPwYg">
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_RTT6cO8yEeOflObM3pPwYg" value="null"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_RTUhgO8yEeOflObM3pPwYg" name="mPreview" visibility="private" type="_Q7xkMO8yEeOflObM3pPwYg" association="_RYCCYe8yEeOflObM3pPwYg">
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_RTUhge8yEeOflObM3pPwYg" value="null"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_RTUhg-8yEeOflObM3pPwYg" name="mPictureButton" visibility="private" type="_RPJzMe8yEeOflObM3pPwYg" association="_RYDQgO8yEeOflObM3pPwYg">
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_RTVIkO8yEeOflObM3pPwYg" value="null"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_RTVIku8yEeOflObM3pPwYg" name="clickerPicture" visibility="package" type="_RPJMIO8yEeOflObM3pPwYg" association="_RYEeoO8yEeOflObM3pPwYg">
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_RTVIk-8yEeOflObM3pPwYg" value="new OnClickListener() {&#xD;&#xA;&#x9;&#x9;public void onClick(View v) {&#xD;&#xA;&#x9;&#x9;&#x9;mCamera.takePicture(null, null, new OwnerPictureCallback(FaceActivity.this));&#xD;&#xA;&#x9;&#x9;}&#xD;&#xA;&#x9;}"/>
            </ownedAttribute>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RWJMAO8yEeOflObM3pPwYg" name="onCreate" specification="_RRq7sO8yEeOflObM3pPwYg">
              <ownedParameter xmi:id="_RWJMAe8yEeOflObM3pPwYg" name="icicle" type="_RPHW8e8yEeOflObM3pPwYg"/>
              <language>java</language>
              <body>super.onCreate(icicle);&#xD;
&#xD;
		setContentView(R.layout.activity_face);&#xD;
&#xD;
		mCamera = new FaceDAO(this).getCameraInstance();&#xD;
		mPreview = new CameraPreview(this, mCamera);&#xD;
		&#xD;
		FrameLayout previewLayout = (FrameLayout) findViewById(R.id.camera_preview);&#xD;
		previewLayout.addView(mPreview);&#xD;
&#xD;
		this.mPictureButton = (Button) findViewById(R.id.ButtonFaceCapture);&#xD;
		this.mPictureButton.setOnClickListener(clickerPicture);&#xD;
	</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RWLoQO8yEeOflObM3pPwYg" name="onPause" specification="_Q6M24O8yEeOflObM3pPwYg">
              <language>java</language>
              <body>if (mCamera != null) {&#xD;
			mCamera.release();&#xD;
			mCamera = null;&#xD;
		}&#xD;
&#xD;
		super.onPause();&#xD;
	</body>
            </ownedBehavior>
            <ownedOperation xmi:id="_Q6M24O8yEeOflObM3pPwYg" name="onPause" visibility="protected" method="_RWLoQO8yEeOflObM3pPwYg"/>
            <ownedOperation xmi:id="_RRq7sO8yEeOflObM3pPwYg" name="onCreate" method="_RWJMAO8yEeOflObM3pPwYg">
              <ownedParameter xmi:id="_RRq7se8yEeOflObM3pPwYg" name="icicle" type="_RPHW8e8yEeOflObM3pPwYg"/>
            </ownedOperation>
          </packagedElement>
          <packagedElement xmi:type="uml:Class" xmi:id="_Q6dVkO8yEeOflObM3pPwYg" name="LocationActivity">
            <generalization xmi:id="_RRv0MO8yEeOflObM3pPwYg" general="_RPE6sO8yEeOflObM3pPwYg"/>
            <ownedAttribute xmi:id="_RTWWsO8yEeOflObM3pPwYg" name="TAG" visibility="protected" isLeaf="true" isStatic="true" isReadOnly="true">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_RTWWse8yEeOflObM3pPwYg" value="&quot;LocationActivity&quot;"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_RTWWsu8yEeOflObM3pPwYg" name="locUtil" visibility="private" type="_Q965QO8yEeOflObM3pPwYg" association="_RYFFse8yEeOflObM3pPwYg">
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_RTWWs-8yEeOflObM3pPwYg" value="null"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_RTW9we8yEeOflObM3pPwYg" name="mStartButton" visibility="private" type="_RPJzMe8yEeOflObM3pPwYg" association="_RYGT0e8yEeOflObM3pPwYg">
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_RTW9wu8yEeOflObM3pPwYg" value="null"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_RTXk0e8yEeOflObM3pPwYg" name="mStopButton" visibility="private" type="_RPJzMe8yEeOflObM3pPwYg" association="_RYHh8O8yEeOflObM3pPwYg">
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_RTXk0u8yEeOflObM3pPwYg" value="null"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_RTYL4e8yEeOflObM3pPwYg" name="mStartListener" visibility="package" type="_RPJMIO8yEeOflObM3pPwYg" association="_RYIJAe8yEeOflObM3pPwYg">
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_RTYL4u8yEeOflObM3pPwYg" value="new OnClickListener() {&#xA;&#x9;&#x9;@Override&#xA;&#x9;&#x9;public void onClick(View v) {&#xA;&#x9;&#x9;&#x9;Log.d(TAG, &quot;StartListener+&quot;);&#xA;&#x9;&#x9;&#x9;&#xA;&#x9;&#x9;&#x9;if (locUtil != null) {&#xA;&#x9;&#x9;&#x9;&#x9;Log.d(TAG, &quot;Listener already started.&quot;);&#xA;&#x9;&#x9;&#x9;&#x9;return;&#xA;&#x9;&#x9;&#x9;}&#xA;&#x9;&#x9;&#x9;&#xA;&#x9;&#x9;&#x9;locUtil = new LocationDAO(LocationActivity.this);&#xA;&#x9;&#x9;&#x9;locUtil.startCollectingLocations(2000);&#xA;&#xA;&#x9;&#x9;&#x9;Log.d(TAG, &quot;StartListener-&quot;);&#xA;&#x9;&#x9;}&#xA;&#x9;}"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_RTYy8O8yEeOflObM3pPwYg" name="mStopListener" visibility="package" type="_RPJMIO8yEeOflObM3pPwYg" association="_RYJXIe8yEeOflObM3pPwYg">
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_RTYy8e8yEeOflObM3pPwYg" value="new OnClickListener() {&#xA;&#x9;&#x9;@Override&#xA;&#x9;&#x9;public void onClick(View v) {&#xA;&#x9;&#x9;&#x9;Log.d(TAG, &quot;StopListener+&quot;);&#xA;&#xA;&#x9;&#x9;&#x9;if (locUtil != null) {&#xA;&#x9;&#x9;&#x9;&#x9;locUtil.stopCollectingLocations();&#xA;&#x9;&#x9;&#x9;&#x9;locUtil.saveCollectedLocations(&quot;owner-locations.dat&quot;);&#xA;&#x9;&#x9;&#x9;&#x9;&#xA;&#x9;&#x9;&#x9;&#x9;new LocationAuthMediator(LocationActivity.this, &quot;owner-locations.dat&quot;).loadOwnerData();&#xA;&#x9;&#x9;&#x9;&#x9;&#xA;&#x9;&#x9;&#x9;&#x9;locUtil = null;&#xA;&#x9;&#x9;&#x9;}&#xA;&#x9;&#x9;&#x9;&#xA;&#x9;&#x9;&#x9;Log.d(TAG, &quot;StopListener-&quot;);&#xA;&#x9;&#x9;}&#xA;&#x9;}"/>
            </ownedAttribute>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RWMPUO8yEeOflObM3pPwYg" name="onCreate" specification="_RRumEO8yEeOflObM3pPwYg">
              <ownedParameter xmi:id="_RWMPUe8yEeOflObM3pPwYg" name="icicle" type="_RPHW8e8yEeOflObM3pPwYg"/>
              <language>java</language>
              <body>super.onCreate(icicle);

		setContentView(R.layout.activity_location);

		this.mStartButton = (Button) findViewById(R.id.ButtonLocationStart);
		this.mStartButton.setOnClickListener(mStartListener);

		this.mStopButton = (Button) findViewById(R.id.ButtonLocationStop);
		this.mStopButton.setOnClickListener(mStopListener);

	</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RWM2YO8yEeOflObM3pPwYg" name="onPause" specification="_Q6gY4O8yEeOflObM3pPwYg">
              <language>java</language>
              <body>super.onPause();
	</body>
            </ownedBehavior>
            <ownedOperation xmi:id="_Q6gY4O8yEeOflObM3pPwYg" name="onPause" visibility="protected" method="_RWM2YO8yEeOflObM3pPwYg"/>
            <ownedOperation xmi:id="_RRumEO8yEeOflObM3pPwYg" name="onCreate" method="_RWMPUO8yEeOflObM3pPwYg">
              <ownedParameter xmi:id="_RRumEe8yEeOflObM3pPwYg" name="icicle" type="_RPHW8e8yEeOflObM3pPwYg"/>
            </ownedOperation>
          </packagedElement>
          <packagedElement xmi:type="uml:Class" xmi:id="_Q6oUsO8yEeOflObM3pPwYg" name="PicoMainActivity">
            <ownedComment xmi:id="_RXOxIO8yEeOflObM3pPwYg">
              <body>An example full-screen activity that shows and hides the system UI (i.e.
status bar and navigation/system bar) with user interaction.

@see SystemUiHider</body>
            </ownedComment>
            <generalization xmi:id="_RR3wAO8yEeOflObM3pPwYg" general="_RPE6sO8yEeOflObM3pPwYg"/>
            <ownedAttribute xmi:id="_RTaBEO8yEeOflObM3pPwYg" name="controlsView" visibility="private" type="_RPH-Ae8yEeOflObM3pPwYg" association="_RYKlQO8yEeOflObM3pPwYg"/>
            <ownedAttribute xmi:id="_RTbPMO8yEeOflObM3pPwYg" name="contentView" visibility="private" type="_RPZq0e8yEeOflObM3pPwYg" association="_RYLMUe8yEeOflObM3pPwYg"/>
            <ownedAttribute xmi:id="_RTb2Qe8yEeOflObM3pPwYg" name="messageReceiver" visibility="private" isLeaf="true" type="_RPYcse8yEeOflObM3pPwYg" isReadOnly="true" association="_RYMace8yEeOflObM3pPwYg">
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_RTb2Qu8yEeOflObM3pPwYg" value="new Messenger(&#xA;&#x9;&#x9;&#x9;new IncomingHandler(this))"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_RTcdUe8yEeOflObM3pPwYg" name="messageService" visibility="private" type="_RPYcse8yEeOflObM3pPwYg" association="_RYNokO8yEeOflObM3pPwYg">
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_RTdEYO8yEeOflObM3pPwYg" value="null"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_RTdrcO8yEeOflObM3pPwYg" name="boundService" visibility="private">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_RTdrce8yEeOflObM3pPwYg" value="false"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_RTeSgO8yEeOflObM3pPwYg" name="buttonStartListener" visibility="package" type="_RPa48O8yEeOflObM3pPwYg" association="_RYOPoe8yEeOflObM3pPwYg">
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_RTeSge8yEeOflObM3pPwYg" value="new View.OnClickListener() {&#xA;&#x9;&#x9;@Override&#xA;&#x9;&#x9;public void onClick(View v) {&#xA;&#x9;&#x9;&#x9;if (!boundService) {&#xA;&#x9;&#x9;&#x9;&#x9;doBindService();&#xA;&#x9;&#x9;&#x9;} else {&#xA;&#x9;&#x9;&#x9;&#x9;contentView.append(&quot;Pico service already bound. \n&quot;);&#xA;&#x9;&#x9;&#x9;}&#xA;&#x9;&#x9;}&#xA;&#x9;}"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_RTe5ke8yEeOflObM3pPwYg" name="buttonStopListener" visibility="package" type="_RPa48O8yEeOflObM3pPwYg" association="_RYPdwe8yEeOflObM3pPwYg">
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_RTfgoO8yEeOflObM3pPwYg" value="new View.OnClickListener() {&#xA;&#x9;&#x9;@Override&#xA;&#x9;&#x9;public void onClick(View v) {&#xA;&#x9;&#x9;&#x9;if (boundService) {&#xA;&#x9;&#x9;&#x9;&#x9;doUnbindService();&#xA;&#x9;&#x9;&#x9;&#x9;doStopService();&#xA;&#x9;&#x9;&#x9;&#x9;&#xA;&#x9;&#x9;&#x9;&#x9;contentView.append(&quot;Pico service stopped. \n&quot;);&#xA;&#x9;&#x9;&#x9;}&#xA;&#xA;&#x9;&#x9;}&#xA;&#x9;}"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_RTgHsO8yEeOflObM3pPwYg" name="buttonAudioListener" visibility="package" type="_RPa48O8yEeOflObM3pPwYg" association="_RYQr4O8yEeOflObM3pPwYg">
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_RTgHse8yEeOflObM3pPwYg" value="new View.OnClickListener() {&#xA;&#x9;&#x9;@Override&#xA;&#x9;&#x9;public void onClick(View v) {&#xA;&#x9;&#x9;&#x9;startActivity(new Intent(PicoMainActivity.this,&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;VoiceActivity.class));&#xA;&#x9;&#x9;}&#xA;&#x9;}"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_RTguwe8yEeOflObM3pPwYg" name="buttonFaceListener" visibility="package" type="_RPa48O8yEeOflObM3pPwYg" association="_RYRS8e8yEeOflObM3pPwYg">
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_RTguwu8yEeOflObM3pPwYg" value="new View.OnClickListener() {&#xA;&#x9;&#x9;@Override&#xA;&#x9;&#x9;public void onClick(View v) {&#xA;&#x9;&#x9;&#x9;startActivity(new Intent(PicoMainActivity.this, FaceActivity.class));&#xA;&#x9;&#x9;}&#xA;&#x9;}"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_RThV0e8yEeOflObM3pPwYg" name="buttonLocationListener" visibility="package" type="_RPa48O8yEeOflObM3pPwYg" association="_RYShEe8yEeOflObM3pPwYg">
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_RThV0u8yEeOflObM3pPwYg" value="new View.OnClickListener() {&#xA;&#x9;&#x9;@Override&#xA;&#x9;&#x9;public void onClick(View v) {&#xA;&#x9;&#x9;&#x9;startActivity(new Intent(PicoMainActivity.this, LocationActivity.class));&#xA;&#x9;&#x9;}&#xA;&#x9;}"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_RTkZIO8yEeOflObM3pPwYg" name="serviceConnection" visibility="private" type="_RPWAce8yEeOflObM3pPwYg" association="_RYUWQe8yEeOflObM3pPwYg">
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_RTlAMO8yEeOflObM3pPwYg" value="new ServiceConnection() {&#xA;&#x9;&#x9;public void onServiceConnected(ComponentName className, IBinder service) {&#xA;&#x9;&#x9;&#x9;messageService = new Messenger(service);&#xA;&#xA;&#x9;&#x9;&#x9;try {&#xA;&#x9;&#x9;&#x9;&#x9;// arg1 is the threshold for the client authentication.&#xA;&#x9;&#x9;&#x9;&#x9;Message msg = Message.obtain(null,&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;UAService.MSG_REGISTER_CLIENT);&#xA;&#x9;&#x9;&#x9;&#x9;msg.replyTo = messageReceiver;&#xA;&#x9;&#x9;&#x9;&#x9;msg.arg1 = 50;&#xA;&#xA;&#x9;&#x9;&#x9;&#x9;messageService.send(msg);&#xA;&#xA;&#x9;&#x9;&#x9;} catch (RemoteException e) {&#xA;&#x9;&#x9;&#x9;&#x9;e.printStackTrace();&#xA;&#x9;&#x9;&#x9;}&#xA;&#xA;&#x9;&#x9;}&#xA;&#xA;&#x9;&#x9;public void onServiceDisconnected(ComponentName className) {&#xA;&#x9;&#x9;&#x9;messageService = null;&#xA;&#x9;&#x9;}&#xA;&#x9;}"/>
            </ownedAttribute>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RWNdcO8yEeOflObM3pPwYg" name="onCreate" specification="_RRxpYO8yEeOflObM3pPwYg">
              <ownedParameter xmi:id="_RWNdce8yEeOflObM3pPwYg" name="savedInstanceState" type="_RPHW8e8yEeOflObM3pPwYg"/>
              <language>java</language>
              <body>super.onCreate(savedInstanceState);

		setContentView(R.layout.activity_pico_main);

		this.controlsView = findViewById(R.id.fullscreen_content_controls);
		this.contentView = (TextView) findViewById(R.id.text);

		findViewById(R.id.Button01).setOnClickListener(buttonStartListener);
		findViewById(R.id.Button03).setOnClickListener(buttonStopListener);

		findViewById(R.id.ButtonVoice).setOnClickListener(buttonAudioListener);
		findViewById(R.id.ButtonFace).setOnClickListener(buttonFaceListener);
		findViewById(R.id.ButtonLocation).setOnClickListener(buttonLocationListener);
	</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RWNdcu8yEeOflObM3pPwYg" name="onPostCreate" specification="_RRy3gu8yEeOflObM3pPwYg">
              <ownedParameter xmi:id="_RWNdc-8yEeOflObM3pPwYg" name="savedInstanceState" type="_RPHW8e8yEeOflObM3pPwYg"/>
              <language>java</language>
              <body>super.onPostCreate(savedInstanceState);
	</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RWOEgO8yEeOflObM3pPwYg" name="onResume" specification="_Q6r_EO8yEeOflObM3pPwYg">
              <language>java</language>
              <body>super.onResume();
//		doBindService();
	</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RWOEge8yEeOflObM3pPwYg" name="onPause" specification="_Q6tNMu8yEeOflObM3pPwYg">
              <language>java</language>
              <body>super.onPause();
//		doUnbindService();
	</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RWOEgu8yEeOflObM3pPwYg" name="doBindService" specification="_Q6vCYu8yEeOflObM3pPwYg">
              <language>java</language>
              <body>Intent i = new Intent(this, UAService.class);

		startService(i);
		bindService(i, serviceConnection, Context.BIND_AUTO_CREATE);

		boundService = true;
	</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RWOEg-8yEeOflObM3pPwYg" name="doUnbindService" specification="_Q6vpcO8yEeOflObM3pPwYg">
              <language>java</language>
              <body>if (boundService) {
			unbindService(serviceConnection);
			boundService = false;
		}
	</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RWOrkO8yEeOflObM3pPwYg" name="doStopService" specification="_Q6wQgO8yEeOflObM3pPwYg">
              <language>java</language>
              <body>Intent i = new Intent(this, UAService.class);
		stopService(i);
	</body>
            </ownedBehavior>
            <ownedOperation xmi:id="_Q6r_EO8yEeOflObM3pPwYg" name="onResume" visibility="protected" method="_RWOEgO8yEeOflObM3pPwYg"/>
            <ownedOperation xmi:id="_Q6tNMu8yEeOflObM3pPwYg" name="onPause" visibility="protected" method="_RWOEge8yEeOflObM3pPwYg"/>
            <ownedOperation xmi:id="_Q6vCYu8yEeOflObM3pPwYg" name="doBindService" visibility="private" method="_RWOEgu8yEeOflObM3pPwYg"/>
            <ownedOperation xmi:id="_Q6vpcO8yEeOflObM3pPwYg" name="doUnbindService" visibility="private" method="_RWOEg-8yEeOflObM3pPwYg"/>
            <ownedOperation xmi:id="_Q6wQgO8yEeOflObM3pPwYg" name="doStopService" visibility="private" method="_RWOrkO8yEeOflObM3pPwYg">
              <ownedComment xmi:id="_RXR0cO8yEeOflObM3pPwYg">
                <body>Only works if no other clients are connected to the service.</body>
              </ownedComment>
            </ownedOperation>
            <ownedOperation xmi:id="_RRxpYO8yEeOflObM3pPwYg" name="onCreate" visibility="protected" method="_RWNdcO8yEeOflObM3pPwYg">
              <ownedParameter xmi:id="_RRyQcO8yEeOflObM3pPwYg" name="savedInstanceState" type="_RPHW8e8yEeOflObM3pPwYg"/>
            </ownedOperation>
            <ownedOperation xmi:id="_RRy3gu8yEeOflObM3pPwYg" name="onPostCreate" visibility="protected" method="_RWNdcu8yEeOflObM3pPwYg">
              <ownedParameter xmi:id="_RRzekO8yEeOflObM3pPwYg" name="savedInstanceState" type="_RPHW8e8yEeOflObM3pPwYg"/>
            </ownedOperation>
            <nestedClassifier xmi:type="uml:Class" xmi:id="_Q6yFsO8yEeOflObM3pPwYg" name="IncomingHandler" visibility="package">
              <eAnnotations xmi:id="_Q6yswO8yEeOflObM3pPwYg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                <details xmi:id="_Q6zT0O8yEeOflObM3pPwYg" key="static"/>
              </eAnnotations>
              <generalization xmi:id="_RR3I8u8yEeOflObM3pPwYg" general="_RPWnge8yEeOflObM3pPwYg"/>
              <ownedAttribute xmi:id="_RTh84e8yEeOflObM3pPwYg" name="amwr" visibility="package" type="_RPRvAO8yEeOflObM3pPwYg" association="_RYTvMe8yEeOflObM3pPwYg"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RWPSoO8yEeOflObM3pPwYg" name="IncomingHandler" specification="_RPcuIO8yEeOflObM3pPwYg">
                <ownedParameter xmi:id="_RWPSoe8yEeOflObM3pPwYg" name="am" type="_Q6oUsO8yEeOflObM3pPwYg"/>
                <ownedParameter xmi:id="_RWPSou8yEeOflObM3pPwYg" type="_Q6yFsO8yEeOflObM3pPwYg" direction="return">
                  <name xsi:nil="true"/>
                </ownedParameter>
                <language>java</language>
                <body>this.amwr = new WeakReference&lt;PicoMainActivity>(am);
		</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RWPSo-8yEeOflObM3pPwYg" name="handleMessage" specification="_RR160O8yEeOflObM3pPwYg">
                <ownedParameter xmi:id="_RWPSpO8yEeOflObM3pPwYg" name="msg" type="_RPX1oe8yEeOflObM3pPwYg"/>
                <language>java</language>
                <body>switch (msg.what) {

			case UAService.MSG_CONFIDENCE_UPDATE:
				// boolean authenticated = (msg.arg1 == 1);
				// amwr.get().contentView.append(&quot;Received from service: &quot; +
				// authenticated
				// + &quot;\n&quot;);

				int confidence = msg.arg1;
				amwr.get().contentView.append(&quot;Confidence level: &quot; + confidence
						+ &quot;\n&quot;);

				break;

			default:
				super.handleMessage(msg);
			}
		</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_RPcuIO8yEeOflObM3pPwYg" name="IncomingHandler" method="_RWPSoO8yEeOflObM3pPwYg">
                <eAnnotations xmi:id="_RPdVMO8yEeOflObM3pPwYg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_RPdVMe8yEeOflObM3pPwYg" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_RPcuIe8yEeOflObM3pPwYg" name="am" type="_Q6oUsO8yEeOflObM3pPwYg"/>
                <ownedParameter xmi:id="_RPdVMu8yEeOflObM3pPwYg" type="_Q6yFsO8yEeOflObM3pPwYg" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_RR160O8yEeOflObM3pPwYg" name="handleMessage" method="_RWPSo-8yEeOflObM3pPwYg">
                <ownedParameter xmi:id="_RR160e8yEeOflObM3pPwYg" name="msg" type="_RPX1oe8yEeOflObM3pPwYg"/>
              </ownedOperation>
            </nestedClassifier>
          </packagedElement>
          <packagedElement xmi:type="uml:Class" xmi:id="_Q7DLcO8yEeOflObM3pPwYg" name="RecognitoActivity"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_RPS9Ie8yEeOflObM3pPwYg" name="R"/>
          <packagedElement xmi:type="uml:Association" xmi:id="_RYA0QO8yEeOflObM3pPwYg" name="" memberEnd="_RYA0Qe8yEeOflObM3pPwYg _RTTTYO8yEeOflObM3pPwYg">
            <ownedEnd xmi:id="_RYA0Qe8yEeOflObM3pPwYg" name="" type="_Q6Ds8O8yEeOflObM3pPwYg" association="_RYA0QO8yEeOflObM3pPwYg"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_RYCCYe8yEeOflObM3pPwYg" name="" memberEnd="_RYCCYu8yEeOflObM3pPwYg _RTUhgO8yEeOflObM3pPwYg">
            <ownedEnd xmi:id="_RYCCYu8yEeOflObM3pPwYg" name="" type="_Q6Ds8O8yEeOflObM3pPwYg" association="_RYCCYe8yEeOflObM3pPwYg"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_RYDQgO8yEeOflObM3pPwYg" name="" memberEnd="_RYDQge8yEeOflObM3pPwYg _RTUhg-8yEeOflObM3pPwYg">
            <ownedEnd xmi:id="_RYDQge8yEeOflObM3pPwYg" name="" type="_Q6Ds8O8yEeOflObM3pPwYg" association="_RYDQgO8yEeOflObM3pPwYg"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_RYEeoO8yEeOflObM3pPwYg" name="" memberEnd="_RYEeoe8yEeOflObM3pPwYg _RTVIku8yEeOflObM3pPwYg">
            <ownedEnd xmi:id="_RYEeoe8yEeOflObM3pPwYg" name="" type="_Q6Ds8O8yEeOflObM3pPwYg" association="_RYEeoO8yEeOflObM3pPwYg"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_RYFFse8yEeOflObM3pPwYg" name="" memberEnd="_RYFFsu8yEeOflObM3pPwYg _RTWWsu8yEeOflObM3pPwYg">
            <ownedEnd xmi:id="_RYFFsu8yEeOflObM3pPwYg" name="" type="_Q6dVkO8yEeOflObM3pPwYg" association="_RYFFse8yEeOflObM3pPwYg"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_RYGT0e8yEeOflObM3pPwYg" name="" memberEnd="_RYGT0u8yEeOflObM3pPwYg _RTW9we8yEeOflObM3pPwYg">
            <ownedEnd xmi:id="_RYGT0u8yEeOflObM3pPwYg" name="" type="_Q6dVkO8yEeOflObM3pPwYg" association="_RYGT0e8yEeOflObM3pPwYg"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_RYHh8O8yEeOflObM3pPwYg" name="" memberEnd="_RYHh8e8yEeOflObM3pPwYg _RTXk0e8yEeOflObM3pPwYg">
            <ownedEnd xmi:id="_RYHh8e8yEeOflObM3pPwYg" name="" type="_Q6dVkO8yEeOflObM3pPwYg" association="_RYHh8O8yEeOflObM3pPwYg"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_RYIJAe8yEeOflObM3pPwYg" name="" memberEnd="_RYIJAu8yEeOflObM3pPwYg _RTYL4e8yEeOflObM3pPwYg">
            <ownedEnd xmi:id="_RYIJAu8yEeOflObM3pPwYg" name="" type="_Q6dVkO8yEeOflObM3pPwYg" association="_RYIJAe8yEeOflObM3pPwYg"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_RYJXIe8yEeOflObM3pPwYg" name="" memberEnd="_RYJXIu8yEeOflObM3pPwYg _RTYy8O8yEeOflObM3pPwYg">
            <ownedEnd xmi:id="_RYJXIu8yEeOflObM3pPwYg" name="" type="_Q6dVkO8yEeOflObM3pPwYg" association="_RYJXIe8yEeOflObM3pPwYg"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_RYKlQO8yEeOflObM3pPwYg" name="" memberEnd="_RYKlQe8yEeOflObM3pPwYg _RTaBEO8yEeOflObM3pPwYg">
            <ownedEnd xmi:id="_RYKlQe8yEeOflObM3pPwYg" name="" type="_Q6oUsO8yEeOflObM3pPwYg" association="_RYKlQO8yEeOflObM3pPwYg"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_RYLMUe8yEeOflObM3pPwYg" name="" memberEnd="_RYLMUu8yEeOflObM3pPwYg _RTbPMO8yEeOflObM3pPwYg">
            <ownedEnd xmi:id="_RYLMUu8yEeOflObM3pPwYg" name="" type="_Q6oUsO8yEeOflObM3pPwYg" association="_RYLMUe8yEeOflObM3pPwYg"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_RYMace8yEeOflObM3pPwYg" name="" memberEnd="_RYMacu8yEeOflObM3pPwYg _RTb2Qe8yEeOflObM3pPwYg">
            <ownedEnd xmi:id="_RYMacu8yEeOflObM3pPwYg" name="" type="_Q6oUsO8yEeOflObM3pPwYg" association="_RYMace8yEeOflObM3pPwYg"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_RYNokO8yEeOflObM3pPwYg" name="" memberEnd="_RYNoke8yEeOflObM3pPwYg _RTcdUe8yEeOflObM3pPwYg">
            <ownedEnd xmi:id="_RYNoke8yEeOflObM3pPwYg" name="" type="_Q6oUsO8yEeOflObM3pPwYg" association="_RYNokO8yEeOflObM3pPwYg"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_RYOPoe8yEeOflObM3pPwYg" name="" memberEnd="_RYOPou8yEeOflObM3pPwYg _RTeSgO8yEeOflObM3pPwYg">
            <ownedEnd xmi:id="_RYOPou8yEeOflObM3pPwYg" name="" type="_Q6oUsO8yEeOflObM3pPwYg" association="_RYOPoe8yEeOflObM3pPwYg"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_RYPdwe8yEeOflObM3pPwYg" name="" memberEnd="_RYPdwu8yEeOflObM3pPwYg _RTe5ke8yEeOflObM3pPwYg">
            <ownedEnd xmi:id="_RYPdwu8yEeOflObM3pPwYg" name="" type="_Q6oUsO8yEeOflObM3pPwYg" association="_RYPdwe8yEeOflObM3pPwYg"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_RYQr4O8yEeOflObM3pPwYg" name="" memberEnd="_RYQr4e8yEeOflObM3pPwYg _RTgHsO8yEeOflObM3pPwYg">
            <ownedEnd xmi:id="_RYQr4e8yEeOflObM3pPwYg" name="" type="_Q6oUsO8yEeOflObM3pPwYg" association="_RYQr4O8yEeOflObM3pPwYg"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_RYRS8e8yEeOflObM3pPwYg" name="" memberEnd="_RYRS8u8yEeOflObM3pPwYg _RTguwe8yEeOflObM3pPwYg">
            <ownedEnd xmi:id="_RYRS8u8yEeOflObM3pPwYg" name="" type="_Q6oUsO8yEeOflObM3pPwYg" association="_RYRS8e8yEeOflObM3pPwYg"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_RYShEe8yEeOflObM3pPwYg" name="" memberEnd="_RYShEu8yEeOflObM3pPwYg _RThV0e8yEeOflObM3pPwYg">
            <ownedEnd xmi:id="_RYShEu8yEeOflObM3pPwYg" name="" type="_Q6oUsO8yEeOflObM3pPwYg" association="_RYShEe8yEeOflObM3pPwYg"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_RYTvMe8yEeOflObM3pPwYg" name="" memberEnd="_RYTvMu8yEeOflObM3pPwYg _RTh84e8yEeOflObM3pPwYg">
            <ownedEnd xmi:id="_RYTvMu8yEeOflObM3pPwYg" name="" type="_Q6yFsO8yEeOflObM3pPwYg" association="_RYTvMe8yEeOflObM3pPwYg"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_RYUWQe8yEeOflObM3pPwYg" name="" memberEnd="_RYUWQu8yEeOflObM3pPwYg _RTkZIO8yEeOflObM3pPwYg">
            <ownedEnd xmi:id="_RYUWQu8yEeOflObM3pPwYg" name="" type="_Q6oUsO8yEeOflObM3pPwYg" association="_RYUWQe8yEeOflObM3pPwYg"/>
          </packagedElement>
        </packagedElement>
        <packagedElement xmi:type="uml:Package" xmi:id="_Qz6osO8yEeOflObM3pPwYg" name="authenticator">
          <packagedElement xmi:type="uml:Package" xmi:id="_Qz6ose8yEeOflObM3pPwYg" name="face">
            <packagedElement xmi:type="uml:Class" xmi:id="_Q9KEQO8yEeOflObM3pPwYg" name="FaceAuthMediator">
              <ownedAttribute xmi:id="_RUgNQO8yEeOflObM3pPwYg" name="faceRec" visibility="private" type="_RQXUIO8yEeOflObM3pPwYg" association="_RYsJsO8yEeOflObM3pPwYg">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_RUg0UO8yEeOflObM3pPwYg" value="null"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_RUhbYO8yEeOflObM3pPwYg" name="trainDirectory" visibility="private">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_RUhbYe8yEeOflObM3pPwYg" value="null"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_RUipgO8yEeOflObM3pPwYg" name="ownerImage" visibility="private" isReadOnly="true">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_RUipgu8yEeOflObM3pPwYg" value="null"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_RUj3oe8yEeOflObM3pPwYg" name="NUM_FACES" visibility="private" isLeaf="true" isStatic="true" isReadOnly="true">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_RUkesO8yEeOflObM3pPwYg" value="&quot;1&quot;"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_RUkese8yEeOflObM3pPwYg" name="THRESHOLD" visibility="private" isLeaf="true" isStatic="true" isReadOnly="true">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_RUkesu8yEeOflObM3pPwYg" value="&quot;2&quot;"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_RUlFwO8yEeOflObM3pPwYg" name="TAG" visibility="private" isLeaf="true" isStatic="true" isReadOnly="true">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_RUlFwe8yEeOflObM3pPwYg" value="&quot;FaceDAO&quot;"/>
              </ownedAttribute>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RWr-kO8yEeOflObM3pPwYg" name="FaceAuthMediator" specification="_RSfbEO8yEeOflObM3pPwYg">
                <ownedParameter xmi:id="_RWr-ke8yEeOflObM3pPwYg" name="ctx" type="_RPULQe8yEeOflObM3pPwYg"/>
                <ownedParameter xmi:id="_RWr-ku8yEeOflObM3pPwYg" type="_Q9KEQO8yEeOflObM3pPwYg" direction="return">
                  <name xsi:nil="true"/>
                </ownedParameter>
                <language>java</language>
                <body>Log.d(TAG, &quot;FaceDAO+&quot;);&#xD;
&#xD;
		this.faceRec = new FaceRec(ctx);&#xD;
&#xD;
		this.trainDirectory = ctx.getFilesDir().toString();&#xD;
		this.ownerImage = getOwnerImage();&#xD;
&#xD;
		this.trainFaceRecognizer();&#xD;
&#xD;
		Log.d(TAG, &quot;FaceDAO-&quot;);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RWr-k-8yEeOflObM3pPwYg" name="trainFaceRecognizer" specification="_Q9L5cO8yEeOflObM3pPwYg">
                <language>java</language>
                <body>Log.d(TAG, &quot;trainFaceRecognizer+&quot;);&#xD;
&#xD;
		MatchResult r = this.faceRec.processSelections(getAbsoluteFilePath(),&#xD;
				trainDirectory, NUM_FACES, THRESHOLD);&#xD;
		printMatch(r);&#xD;
&#xD;
		Log.d(TAG, &quot;trainFaceRecognizer-&quot;);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RWr-lO8yEeOflObM3pPwYg" name="getMatch" specification="_RSgpMO8yEeOflObM3pPwYg">
                <ownedParameter xmi:id="_RWr-le8yEeOflObM3pPwYg" name="faceObject" type="_RP7PQO8yEeOflObM3pPwYg"/>
                <ownedParameter xmi:id="_RWr-lu8yEeOflObM3pPwYg" direction="return">
                  <name xsi:nil="true"/>
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <language>java</language>
                <body>double result = 0;&#xD;
		MatchResult r = null;&#xD;
&#xD;
		Log.d(TAG, &quot;getMatch+&quot;);&#xD;
&#xD;
		r = this.faceRec.findMatchResult(faceObject,&#xD;
				Integer.parseInt(NUM_FACES), Double.parseDouble(THRESHOLD));&#xD;
		printMatch(r);&#xD;
&#xD;
		if (r.getMatchSuccess() == false) {&#xD;
			Log.d(TAG, &quot;getMatch: No match found!&quot;);&#xD;
			result = -1;&#xD;
		} else {&#xD;
			Log.d(TAG, &quot;getMatch: Match found!&quot;);&#xD;
			result = r.getMatchDistance();&#xD;
		}&#xD;
&#xD;
		Log.d(TAG, &quot;getMatch- &quot; + result);&#xD;
		return result;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RWsloO8yEeOflObM3pPwYg" name="getAbsoluteFilePath" specification="_Q9MggO8yEeOflObM3pPwYg">
                <ownedParameter xmi:id="_RWsloe8yEeOflObM3pPwYg" direction="return">
                  <name xsi:nil="true"/>
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>String res = this.trainDirectory + &quot;/&quot; + ownerImage;&#xD;
		Log.d(TAG, res);&#xD;
&#xD;
		File test = new File(res);&#xD;
		if (test.exists()) {&#xD;
			Log.d(TAG, &quot;File exists.&quot;);&#xD;
		} else {&#xD;
			Log.d(TAG, &quot;File does not exist.&quot;);&#xD;
		}&#xD;
&#xD;
		return res;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RWslou8yEeOflObM3pPwYg" name="printMatch" specification="_RShQQO8yEeOflObM3pPwYg">
                <ownedParameter xmi:id="_RWslo-8yEeOflObM3pPwYg" name="r" type="_RQX7MO8yEeOflObM3pPwYg"/>
                <language>java</language>
                <body>if (r != null) {&#xD;
			Log.d(TAG, &quot;MatchResult success: &quot; + r.getMatchSuccess());&#xD;
			Log.d(TAG, &quot;MatchResult distance: &quot; + r.getMatchDistance());&#xD;
&#xD;
			String aux;&#xD;
			aux = r.getMatchFileName() == null ? r.getMatchFileName() : &quot;&quot;;&#xD;
			Log.d(TAG, &quot;MatchResult file name: &quot; + aux);&#xD;
&#xD;
			aux = r.getMatchMessage() == null ? r.getMatchFileName() : &quot;&quot;;&#xD;
			Log.d(TAG, &quot;MatchResult message: &quot; + aux);&#xD;
		}&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_lrvH4O_9EeOro6Du1a1f1w" name="hasFace" specification="_lqaSMO_9EeOro6Du1a1f1w">
                <ownedParameter xmi:id="_lrvH4e_9EeOro6Du1a1f1w" name="img" type="_RP7PQO8yEeOflObM3pPwYg"/>
                <ownedParameter xmi:id="_lrvH4u_9EeOro6Du1a1f1w" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>int maxFaces = 10;&#xD;
&#xD;
		Face[] faces = new Face[maxFaces];&#xD;
&#xD;
		FaceDetector fr = new FaceDetector(img.getWidth() - img.getWidth() % 2,&#xD;
				img.getHeight(), maxFaces);&#xD;
&#xD;
		fr.findFaces(img, faces);&#xD;
&#xD;
		return faces.length != 0;&#xD;
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_Q9L5cO8yEeOflObM3pPwYg" name="trainFaceRecognizer" method="_RWr-k-8yEeOflObM3pPwYg"/>
              <ownedOperation xmi:id="_Q9MggO8yEeOflObM3pPwYg" name="getAbsoluteFilePath" visibility="private" method="_RWsloO8yEeOflObM3pPwYg">
                <ownedParameter xmi:id="_Q9NHkO8yEeOflObM3pPwYg" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_RSfbEO8yEeOflObM3pPwYg" name="FaceAuthMediator" method="_RWr-kO8yEeOflObM3pPwYg">
                <eAnnotations xmi:id="_RSgCIe8yEeOflObM3pPwYg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_RSgCIu8yEeOflObM3pPwYg" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_RSgCIO8yEeOflObM3pPwYg" name="ctx" type="_RPULQe8yEeOflObM3pPwYg"/>
                <ownedParameter xmi:id="_RSgCI-8yEeOflObM3pPwYg" type="_Q9KEQO8yEeOflObM3pPwYg" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_RSgpMO8yEeOflObM3pPwYg" name="getMatch" method="_RWr-lO8yEeOflObM3pPwYg">
                <ownedParameter xmi:id="_RSgpMe8yEeOflObM3pPwYg" name="faceObject" type="_RP7PQO8yEeOflObM3pPwYg"/>
                <ownedParameter xmi:id="_RSgpMu8yEeOflObM3pPwYg" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_RShQQO8yEeOflObM3pPwYg" name="printMatch" visibility="private" isStatic="true" method="_RWslou8yEeOflObM3pPwYg">
                <ownedParameter xmi:id="_RShQQe8yEeOflObM3pPwYg" name="r" type="_RQX7MO8yEeOflObM3pPwYg"/>
              </ownedOperation>
              <ownedOperation xmi:id="_lqaSMO_9EeOro6Du1a1f1w" name="hasFace" isStatic="true" method="_lrvH4O_9EeOro6Du1a1f1w">
                <ownedComment xmi:id="_RXa-YO8yEeOflObM3pPwYg">
                  <body>Checks if the supplied image contains at least one face.&#xD;
	 * &#xD;
	 * This method is used by the FaceService in order to check if the sampled&#xD;
	 * data is valid for face recognition.&#xD;
	 * &#xD;
	 * @param img&#xD;
	 * @return</body>
                </ownedComment>
                <ownedParameter xmi:id="_lqa5QO_9EeOro6Du1a1f1w" name="img" type="_RP7PQO8yEeOflObM3pPwYg"/>
                <ownedParameter xmi:id="_lrepMO_9EeOro6Du1a1f1w" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_Q9RZAO8yEeOflObM3pPwYg" name="FaceDAO">
              <ownedAttribute xmi:id="_RUmT4O8yEeOflObM3pPwYg" name="camera" visibility="private" type="_RPGI0e8yEeOflObM3pPwYg" association="_RYsJs-8yEeOflObM3pPwYg">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_RUm68O8yEeOflObM3pPwYg" value="null"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_RUniAO8yEeOflObM3pPwYg" name="TAG" visibility="private" isLeaf="true" isStatic="true" isReadOnly="true">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_RUniAe8yEeOflObM3pPwYg" value="&quot;CameraUtil&quot;"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_RUoJEO8yEeOflObM3pPwYg" name="context" visibility="private" type="_RPULQe8yEeOflObM3pPwYg" association="_RYswwu8yEeOflObM3pPwYg">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_RUoJEe8yEeOflObM3pPwYg" value="null"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_RUowIe8yEeOflObM3pPwYg" name="picture" visibility="private" type="_RP7PQO8yEeOflObM3pPwYg" association="_RYtX0e8yEeOflObM3pPwYg">
                <eAnnotations xmi:id="_RUowIu8yEeOflObM3pPwYg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_RUowI-8yEeOflObM3pPwYg" key="volatile"/>
                </eAnnotations>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_RUowJO8yEeOflObM3pPwYg" value="null"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_RUp-QO8yEeOflObM3pPwYg" name="faceReady" visibility="private" type="_RQaXcO8yEeOflObM3pPwYg" association="_RYt-4e8yEeOflObM3pPwYg">
                <eAnnotations xmi:id="_RUp-Qe8yEeOflObM3pPwYg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_RUp-Qu8yEeOflObM3pPwYg" key="volatile"/>
                </eAnnotations>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_RUp-Q-8yEeOflObM3pPwYg" value="new AtomicBoolean(false)"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_RUqlUe8yEeOflObM3pPwYg" name="dummyTexture" visibility="private" isLeaf="true" type="_RQblke8yEeOflObM3pPwYg" isReadOnly="true" association="_RYul8e8yEeOflObM3pPwYg">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_RUrMYO8yEeOflObM3pPwYg" value="new SurfaceTexture(1)"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_RUrzcO8yEeOflObM3pPwYg" name="jpgCallpack" visibility="package" type="_RP8dYe8yEeOflObM3pPwYg" association="_RYvNAe8yEeOflObM3pPwYg">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_RUrzce8yEeOflObM3pPwYg" value="new PictureCallback() {&#xD;&#xA;&#x9;&#x9;public void onPictureTaken(byte[] data, Camera camera) {&#xD;&#xA;&#x9;&#x9;&#x9;Log.d(&quot;CAMERA&quot;, &quot;jpgCallpack&quot;);&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;camera.stopPreview();&#xD;&#xA;&#x9;&#x9;&#x9;camera.unlock();&#xD;&#xA;&#x9;&#x9;&#x9;camera.release();&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;Bitmap bmp = null;&#xD;&#xA;&#x9;&#x9;&#x9;BitmapFactory.Options options = new BitmapFactory.Options();&#xD;&#xA;&#x9;&#x9;&#x9;options.inPreferredConfig = Bitmap.Config.RGB_565;&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;if (data == null) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;Log.e(&quot;FaceService&quot;, &quot;null data&quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;FaceDAO.this.picture = null;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;return;&#xD;&#xA;&#x9;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;bmp = BitmapFactory.decodeByteArray(data, 0, data.length, options);&#xD;&#xA;&#x9;&#x9;&#x9;if (bmp == null) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;Log.e(&quot;FaceService&quot;, &quot;Decoded bmp is null!&quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;FaceDAO.this.picture = null;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;return;&#xD;&#xA;&#x9;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;Matrix rotMatrix = new Matrix();&#xD;&#xA;&#x9;&#x9;&#x9;rotMatrix.postRotate(270);&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;bmp = Bitmap.createBitmap(bmp, 0, 0, bmp.getWidth(),&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;bmp.getHeight(), rotMatrix, true);&#xD;&#xA;&#x9;&#x9;&#x9;bmp = Bitmap.createScaledBitmap(bmp, (int) (0.5 * bmp.getWidth()),&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;(int) (0.5 * bmp.getHeight()), true);&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;FaceDAO.this.picture = bmp;&#xD;&#xA;&#x9;&#x9;&#x9;FaceDAO.this.faceReady.set(true);&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;Log.d(&quot;FaceService&quot;, &quot;normal exit-&quot;);&#xD;&#xA;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;}"/>
              </ownedAttribute>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RWtMsO8yEeOflObM3pPwYg" name="FaceDAO" specification="_RSjFcO8yEeOflObM3pPwYg">
                <ownedParameter xmi:id="_RWtMse8yEeOflObM3pPwYg" name="context" type="_RPULQe8yEeOflObM3pPwYg"/>
                <ownedParameter xmi:id="_RWtMsu8yEeOflObM3pPwYg" type="_Q9RZAO8yEeOflObM3pPwYg" direction="return"/>
                <language>java</language>
                <body>this.context = context;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RWtMs-8yEeOflObM3pPwYg" name="getCameraInstance" specification="_Q9UcUO8yEeOflObM3pPwYg">
                <ownedParameter xmi:id="_RWtMtO8yEeOflObM3pPwYg" type="_RPGI0e8yEeOflObM3pPwYg" direction="return"/>
                <language>java</language>
                <body>Camera camera = null;&#xD;
		&#xD;
		try {&#xD;
			camera = Camera.open(Camera.CameraInfo.CAMERA_FACING_FRONT);&#xD;
&#xD;
			if (this.context.getResources().getConfiguration().orientation != &#xD;
					Configuration.ORIENTATION_LANDSCAPE) {&#xD;
				camera.setDisplayOrientation(90);&#xD;
			} else {&#xD;
				camera.setDisplayOrientation(0);&#xD;
			}&#xD;
			&#xD;
		} catch (Exception e) {&#xD;
			e.printStackTrace();&#xD;
		}&#xD;
		&#xD;
		return camera;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RWtzwO8yEeOflObM3pPwYg" name="initialiseCamera" specification="_Q9VqcO8yEeOflObM3pPwYg">
                <ownedParameter xmi:id="_RWtzwe8yEeOflObM3pPwYg" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>boolean success = false;&#xD;
&#xD;
		Log.d(TAG, &quot;initialiseCamera+&quot;);&#xD;
&#xD;
		try {&#xD;
			Log.d(TAG, &quot;initialiseCamera: open&quot;);&#xD;
			this.camera = getCameraInstance();&#xD;
&#xD;
			this.camera.setPreviewTexture(dummyTexture);&#xD;
			this.camera.startPreview();&#xD;
&#xD;
			success = true;&#xD;
&#xD;
		} catch (Exception e) {&#xD;
			e.printStackTrace();&#xD;
			this.camera.stopPreview();&#xD;
			this.camera.release();&#xD;
		}&#xD;
&#xD;
		Log.d(TAG, &quot;initialiseCamera- &quot; + success);&#xD;
		return success;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RWtzwu8yEeOflObM3pPwYg" name="takePicture" specification="_Q9WRgO8yEeOflObM3pPwYg">
                <ownedParameter xmi:id="_RWtzw-8yEeOflObM3pPwYg" type="_RP7PQO8yEeOflObM3pPwYg" direction="return"/>
                <language>java</language>
                <body>this.camera.takePicture(null, null, jpgCallpack);&#xD;
&#xD;
		// get match based on image&#xD;
		while (this.faceReady.compareAndSet(true, false) || picture == null) {&#xD;
			Log.d(TAG, &quot;waiting for picture...&quot;);&#xD;
&#xD;
			try {&#xD;
				Thread.sleep(50);&#xD;
			} catch (InterruptedException e) {&#xD;
				e.printStackTrace();&#xD;
			}&#xD;
		}&#xD;
&#xD;
		return this.picture;&#xD;
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_Q9UcUO8yEeOflObM3pPwYg" name="getCameraInstance" method="_RWtMs-8yEeOflObM3pPwYg">
                <ownedComment xmi:id="_RXXUAO8yEeOflObM3pPwYg">
                  <body>A safe way to get an instance of the Camera object.</body>
                </ownedComment>
                <ownedParameter xmi:id="_RSjsg-8yEeOflObM3pPwYg" type="_RPGI0e8yEeOflObM3pPwYg" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_Q9VqcO8yEeOflObM3pPwYg" name="initialiseCamera" method="_RWtzwO8yEeOflObM3pPwYg">
                <ownedParameter xmi:id="_Q9Vqce8yEeOflObM3pPwYg" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_Q9WRgO8yEeOflObM3pPwYg" name="takePicture" method="_RWtzwu8yEeOflObM3pPwYg">
                <ownedParameter xmi:id="_RSkTkO8yEeOflObM3pPwYg" type="_RP7PQO8yEeOflObM3pPwYg" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_RSjFcO8yEeOflObM3pPwYg" name="FaceDAO" method="_RWtMsO8yEeOflObM3pPwYg">
                <eAnnotations xmi:id="_RSjsgO8yEeOflObM3pPwYg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_RSjsge8yEeOflObM3pPwYg" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_RSjFce8yEeOflObM3pPwYg" name="context" type="_RPULQe8yEeOflObM3pPwYg"/>
                <ownedParameter xmi:id="_RSjsgu8yEeOflObM3pPwYg" type="_Q9RZAO8yEeOflObM3pPwYg" direction="return"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_Q9bxEO8yEeOflObM3pPwYg" name="FaceService">
              <ownedComment xmi:id="_RXXUAe8yEeOflObM3pPwYg">
                <body>Face recognition mechanism used in the proposed scheme.

@author cristi
 *</body>
              </ownedComment>
              <generalization xmi:id="_RQhFIO8yEeOflObM3pPwYg" general="_Q-m1wO8yEeOflObM3pPwYg"/>
              <ownedAttribute xmi:id="_RUtBkO8yEeOflObM3pPwYg" name="faceThread" visibility="private" type="_Q9gpkO8yEeOflObM3pPwYg" association="_RYv0Ee8yEeOflObM3pPwYg">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_RUtBke8yEeOflObM3pPwYg" value="null"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_RUtooe8yEeOflObM3pPwYg" name="TAG" visibility="private" isLeaf="true" isStatic="true" isReadOnly="true">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_RUuPsO8yEeOflObM3pPwYg" value="&quot;FaceService&quot;"/>
              </ownedAttribute>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RWua0O8yEeOflObM3pPwYg" name="onCreate" specification="_Q9dmQO8yEeOflObM3pPwYg">
                <language>java</language>
                <body>Log.d(TAG, &quot;onCreate+&quot;);

		this.initialWeight = 8000;

		if (!isSupported()) {
			throw new RuntimeException(&quot;Camera not supported!&quot;);
		}

		if (this.faceThread == null) {
			this.faceThread = new AuthenticatorThread();
			this.faceThread.startThread();
		}

		Log.d(TAG, &quot;onCreate-&quot;);
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RWua0e8yEeOflObM3pPwYg" name="onDestroy" specification="_Q9e0Yu8yEeOflObM3pPwYg">
                <language>java</language>
                <body>Log.d(TAG, &quot;onDestroy+&quot;);

		if (this.faceThread != null) {
			this.faceThread.stopThread();
			this.faceThread = null;
		}

		this.decayTimer.stopTimer();
		Log.d(TAG, &quot;onDestroy-&quot;);
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RWvB4O8yEeOflObM3pPwYg" name="isSupported" specification="_Q9gCgu8yEeOflObM3pPwYg">
                <ownedParameter xmi:id="_RWvB4e8yEeOflObM3pPwYg" direction="return">
                  <name xsi:nil="true"/>
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>return getApplicationContext().getPackageManager().hasSystemFeature(
				PackageManager.FEATURE_CAMERA);
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_Q9dmQO8yEeOflObM3pPwYg" name="onCreate" method="_RWua0O8yEeOflObM3pPwYg"/>
              <ownedOperation xmi:id="_Q9e0Yu8yEeOflObM3pPwYg" name="onDestroy" method="_RWua0e8yEeOflObM3pPwYg"/>
              <ownedOperation xmi:id="_Q9gCgu8yEeOflObM3pPwYg" name="isSupported" visibility="private" method="_RWvB4O8yEeOflObM3pPwYg">
                <ownedComment xmi:id="_RXXUAu8yEeOflObM3pPwYg">
                  <body>Returns true if the mechanism is supported by hand held hardware.
	 * 
	 * @return</body>
                </ownedComment>
                <ownedParameter xmi:id="_Q9gCg-8yEeOflObM3pPwYg" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <nestedClassifier xmi:type="uml:Class" xmi:id="_Q9gpkO8yEeOflObM3pPwYg" name="AuthenticatorThread" visibility="private">
                <ownedComment xmi:id="_RXXUA-8yEeOflObM3pPwYg">
                  <body>Thread used for periodic face authentication.
	 * 
	 * @author cristi
	 *</body>
                </ownedComment>
                <generalization xmi:id="_RSmIwO8yEeOflObM3pPwYg" general="_RSc-0O8yEeOflObM3pPwYg"/>
                <ownedAttribute xmi:id="_RUuPse8yEeOflObM3pPwYg" name="running" visibility="private">
                  <eAnnotations xmi:id="_RUuPsu8yEeOflObM3pPwYg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                    <details xmi:id="_RUuPs-8yEeOflObM3pPwYg" key="volatile"/>
                  </eAnnotations>
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_RUuPtO8yEeOflObM3pPwYg" value="false"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_RUvd0O8yEeOflObM3pPwYg" name="mediator" visibility="private" type="_Q9KEQO8yEeOflObM3pPwYg" association="_RYwbIe8yEeOflObM3pPwYg">
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_RUvd0e8yEeOflObM3pPwYg" value="null"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_RUwE4e8yEeOflObM3pPwYg" name="AUTH_PERIOD" visibility="private" isLeaf="true" isStatic="true" isReadOnly="true">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_RUwr8O8yEeOflObM3pPwYg" value="3 * 1000"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_RUwr8e8yEeOflObM3pPwYg" name="THRESHOLD" visibility="private" isLeaf="true" isStatic="true" isReadOnly="true">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_RUxTAO8yEeOflObM3pPwYg" value="1"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_RUxTAe8yEeOflObM3pPwYg" name="cameraUtil" visibility="private" type="_Q9RZAO8yEeOflObM3pPwYg" association="_RYxCMe8yEeOflObM3pPwYg">
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_RUx6EO8yEeOflObM3pPwYg" value="null"/>
                </ownedAttribute>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RWvB4u8yEeOflObM3pPwYg" name="run" specification="_Q9h3sO8yEeOflObM3pPwYg">
                  <language>java</language>
                  <body>// instantiate face DAO when thread starts
			this.mediator = new FaceAuthMediator(FaceService.this);

			this.cameraUtil = new FaceDAO(FaceService.this);

			// data sampling loop
			while (this.running) {
				try {
					Log.d(TAG, &quot;Loop start.&quot;);
					double dscore = 0;

					Thread.sleep(AUTH_PERIOD);

					Log.d(TAG, &quot;initialise camera...&quot;);
					while (this.cameraUtil.initialiseCamera() != true) {
						Thread.sleep(50);
					}

					Log.d(TAG, &quot;taking picture...&quot;);
					Bitmap picture = this.cameraUtil.takePicture();
					
					if (!FaceAuthMediator.hasFace(picture)) {
						Log.d(TAG, &quot;No faces in picture.&quot;);
						continue;
					}
					
					Log.d(TAG, &quot;Calculating score.&quot;);
					dscore = this.mediator.getMatch(picture);
					if (dscore > THRESHOLD) {
						dscore = THRESHOLD;
					}

					score = (int) (Math.floor((1 - dscore / THRESHOLD) * 100));
					sendDecayedScore(true);

					// start decaying process after collecting data
					FaceService.this.startDecay();

				} catch (InterruptedException e) {
					e.printStackTrace();
				}
			}

		</body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RWvo8O8yEeOflObM3pPwYg" name="startThread" specification="_Q9h3se8yEeOflObM3pPwYg">
                  <language>java</language>
                  <body>this.running = true;
			this.start();
		</body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RWvo8e8yEeOflObM3pPwYg" name="stopThread" specification="_Q9iewO8yEeOflObM3pPwYg">
                  <language>java</language>
                  <body>try {
				this.running = false;
				this.join();
			} catch (InterruptedException e) {
				e.printStackTrace();
			}
		</body>
                </ownedBehavior>
                <ownedOperation xmi:id="_Q9h3sO8yEeOflObM3pPwYg" name="run" method="_RWvB4u8yEeOflObM3pPwYg"/>
                <ownedOperation xmi:id="_Q9h3se8yEeOflObM3pPwYg" name="startThread" method="_RWvo8O8yEeOflObM3pPwYg"/>
                <ownedOperation xmi:id="_Q9iewO8yEeOflObM3pPwYg" name="stopThread" method="_RWvo8e8yEeOflObM3pPwYg"/>
              </nestedClassifier>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_RYsJsO8yEeOflObM3pPwYg" name="" memberEnd="_RYsJse8yEeOflObM3pPwYg _RUgNQO8yEeOflObM3pPwYg">
              <ownedEnd xmi:id="_RYsJse8yEeOflObM3pPwYg" name="" type="_Q9KEQO8yEeOflObM3pPwYg" association="_RYsJsO8yEeOflObM3pPwYg"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_RYsJs-8yEeOflObM3pPwYg" name="" memberEnd="_RYswwO8yEeOflObM3pPwYg _RUmT4O8yEeOflObM3pPwYg">
              <ownedEnd xmi:id="_RYswwO8yEeOflObM3pPwYg" name="" type="_Q9RZAO8yEeOflObM3pPwYg" association="_RYsJs-8yEeOflObM3pPwYg"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_RYswwu8yEeOflObM3pPwYg" name="" memberEnd="_RYsww-8yEeOflObM3pPwYg _RUoJEO8yEeOflObM3pPwYg">
              <ownedEnd xmi:id="_RYsww-8yEeOflObM3pPwYg" name="" type="_Q9RZAO8yEeOflObM3pPwYg" association="_RYswwu8yEeOflObM3pPwYg"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_RYtX0e8yEeOflObM3pPwYg" name="" memberEnd="_RYtX0u8yEeOflObM3pPwYg _RUowIe8yEeOflObM3pPwYg">
              <ownedEnd xmi:id="_RYtX0u8yEeOflObM3pPwYg" name="" type="_Q9RZAO8yEeOflObM3pPwYg" association="_RYtX0e8yEeOflObM3pPwYg"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_RYt-4e8yEeOflObM3pPwYg" name="" memberEnd="_RYt-4u8yEeOflObM3pPwYg _RUp-QO8yEeOflObM3pPwYg">
              <ownedEnd xmi:id="_RYt-4u8yEeOflObM3pPwYg" name="" type="_Q9RZAO8yEeOflObM3pPwYg" association="_RYt-4e8yEeOflObM3pPwYg"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_RYul8e8yEeOflObM3pPwYg" name="" memberEnd="_RYul8u8yEeOflObM3pPwYg _RUqlUe8yEeOflObM3pPwYg">
              <ownedEnd xmi:id="_RYul8u8yEeOflObM3pPwYg" name="" type="_Q9RZAO8yEeOflObM3pPwYg" association="_RYul8e8yEeOflObM3pPwYg"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_RYvNAe8yEeOflObM3pPwYg" name="" memberEnd="_RYvNAu8yEeOflObM3pPwYg _RUrzcO8yEeOflObM3pPwYg">
              <ownedEnd xmi:id="_RYvNAu8yEeOflObM3pPwYg" name="" type="_Q9RZAO8yEeOflObM3pPwYg" association="_RYvNAe8yEeOflObM3pPwYg"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_RYv0Ee8yEeOflObM3pPwYg" name="" memberEnd="_RYv0Eu8yEeOflObM3pPwYg _RUtBkO8yEeOflObM3pPwYg">
              <ownedEnd xmi:id="_RYv0Eu8yEeOflObM3pPwYg" name="" type="_Q9bxEO8yEeOflObM3pPwYg" association="_RYv0Ee8yEeOflObM3pPwYg"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_RYwbIe8yEeOflObM3pPwYg" name="" memberEnd="_RYwbIu8yEeOflObM3pPwYg _RUvd0O8yEeOflObM3pPwYg">
              <ownedEnd xmi:id="_RYwbIu8yEeOflObM3pPwYg" name="" type="_Q9gpkO8yEeOflObM3pPwYg" association="_RYwbIe8yEeOflObM3pPwYg"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_RYxCMe8yEeOflObM3pPwYg" name="" memberEnd="_RYxCMu8yEeOflObM3pPwYg _RUxTAe8yEeOflObM3pPwYg">
              <ownedEnd xmi:id="_RYxCMu8yEeOflObM3pPwYg" name="" type="_Q9gpkO8yEeOflObM3pPwYg" association="_RYxCMe8yEeOflObM3pPwYg"/>
            </packagedElement>
          </packagedElement>
          <packagedElement xmi:type="uml:Package" xmi:id="_Q0NjoO8yEeOflObM3pPwYg" name="location">
            <packagedElement xmi:type="uml:Class" xmi:id="_Q8lcgO8yEeOflObM3pPwYg" name="LocationAuthMediator">
              <ownedAttribute xmi:id="_RUN5YO8yEeOflObM3pPwYg" name="ctx" visibility="private" type="_RPULQe8yEeOflObM3pPwYg" association="_RYn4QO8yEeOflObM3pPwYg">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_RUN5Ye8yEeOflObM3pPwYg" value="null"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_RUOgce8yEeOflObM3pPwYg" name="locations" visibility="package" type="_RQMVAe8yEeOflObM3pPwYg" association="_RYofUO8yEeOflObM3pPwYg">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_RUPukO8yEeOflObM3pPwYg" value="null"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_RUQVoO8yEeOflObM3pPwYg" name="TAG" visibility="private" isLeaf="true" isStatic="true" isReadOnly="true">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_RUQVoe8yEeOflObM3pPwYg" value="&quot;LocationDAO&quot;"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_RUQ8sO8yEeOflObM3pPwYg" name="fileName" visibility="private">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_RUQ8se8yEeOflObM3pPwYg" value="null"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_RURjwe8yEeOflObM3pPwYg" name="filePath" visibility="private">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_RUSK0O8yEeOflObM3pPwYg" value="null"/>
              </ownedAttribute>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RWl38O8yEeOflObM3pPwYg" name="LocationAuthMediator" specification="_RSXfQO8yEeOflObM3pPwYg">
                <ownedParameter xmi:id="_RWl38e8yEeOflObM3pPwYg" name="ctx" type="_RPULQe8yEeOflObM3pPwYg"/>
                <ownedParameter xmi:id="_RWl38u8yEeOflObM3pPwYg" name="fileName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_RWl38-8yEeOflObM3pPwYg" type="_Q8lcgO8yEeOflObM3pPwYg" direction="return"/>
                <language>java</language>
                <body>this.ctx = ctx;&#xD;
&#xD;
		this.fileName = fileName;&#xD;
		this.filePath = this.ctx.getFilesDir().toString();&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RWl39O8yEeOflObM3pPwYg" name="loadOwnerData" specification="_Q8n4wO8yEeOflObM3pPwYg">
                <language>java</language>
                <body>KeyManager km = null;&#xD;
		&#xD;
		CipherInputStream cis = null;&#xD;
		FileInputStream fis = null;&#xD;
		&#xD;
		Scanner scanner = null;&#xD;
		&#xD;
		Log.d(TAG, &quot;loadLocationData+&quot;);&#xD;
&#xD;
		try {&#xD;
			// check for owner files&#xD;
			if (!isOwnerFile()) {&#xD;
				Log.e(TAG, &quot;Owner location file not found!&quot;);&#xD;
				return;&#xD;
			}&#xD;
			&#xD;
			km = KeyManager.getInstance(ctx);&#xD;
			&#xD;
			// initialising read&#xD;
			Log.d(TAG, &quot;loadLocationData: initialising read.&quot;);&#xD;
			fis = new FileInputStream(getAbsoluteFilePath());&#xD;
			cis = new CipherInputStream(fis, km.getDecryptionCipher());&#xD;
			&#xD;
			int b;&#xD;
			ArrayList&lt;Byte> decByteList = new ArrayList&lt;Byte>();&#xD;
			while((b = cis.read()) != -1) {&#xD;
				decByteList.add((byte) b);&#xD;
			}&#xD;
			&#xD;
			byte[] byteArray = new byte[decByteList.size()];&#xD;
			for (int i = 0; i &lt; byteArray.length; i++) {&#xD;
				byteArray[i] = decByteList.get(i);&#xD;
			}&#xD;
			&#xD;
			String decRes = new String(byteArray);&#xD;
			scanner = new Scanner(decRes);&#xD;
			&#xD;
			// read location data&#xD;
			Log.d(TAG, &quot;loadLocationData: reading locations.&quot;);&#xD;
			locations = new LinkedList&lt;Location>();&#xD;
			while (scanner.hasNext()) {&#xD;
				String provider = scanner.next();&#xD;
				Double latitude = scanner.nextDouble();&#xD;
				Double longitude = scanner.nextDouble();&#xD;
&#xD;
				Log.d(TAG, &quot;Location: &quot; + provider + &quot; &quot; + latitude + &quot; &quot;&#xD;
						+ longitude);&#xD;
				Location loc = new Location(provider);&#xD;
				loc.setLatitude(latitude);&#xD;
				loc.setLongitude(longitude);&#xD;
&#xD;
				locations.add(loc);&#xD;
			}&#xD;
&#xD;
			scanner.close();&#xD;
		} catch (FileNotFoundException e) {&#xD;
			Log.d(TAG, &quot;Owner file not found.&quot;);&#xD;
			e.printStackTrace();&#xD;
		} catch (IOException e) {&#xD;
			e.printStackTrace();&#xD;
		}&#xD;
&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RWmfAO8yEeOflObM3pPwYg" name="saveOwnerData" specification="_RSYtYO8yEeOflObM3pPwYg">
                <ownedParameter xmi:id="_RWmfAe8yEeOflObM3pPwYg" name="locations" type="_RQMVAe8yEeOflObM3pPwYg"/>
                <language>java</language>
                <body>KeyManager km = null;&#xD;
		&#xD;
		FileOutputStream fos = null;&#xD;
		CipherOutputStream cos = null;&#xD;
		&#xD;
		String path = getAbsoluteFilePath();&#xD;
		StringBuffer sb = new StringBuffer();&#xD;
&#xD;
		Log.d(TAG, &quot;saveLocationData+&quot;);&#xD;
&#xD;
		try {&#xD;
			Log.d(TAG, &quot;saveLocationData: initialising key manager.&quot;);&#xD;
			km = KeyManager.getInstance(ctx);&#xD;
			&#xD;
			Log.d(TAG, &quot;saveLocationData: initialising output stream.&quot;);&#xD;
			fos = new FileOutputStream(path);&#xD;
			cos = new CipherOutputStream(fos, km.getEncryptionCipher());&#xD;
&#xD;
			Log.d(TAG, &quot;saveLocationData: building locations.&quot;);&#xD;
			for (Location location : locations) {&#xD;
				String line = location.getProvider() + &quot; &quot;&#xD;
						+ location.getLatitude() + &quot; &quot;&#xD;
						+ location.getLongitude() + &quot;\n&quot;;&#xD;
				&#xD;
				sb.append(line);&#xD;
			}&#xD;
&#xD;
			Log.d(TAG, &quot;saveLocationData: saving locations.&quot;);&#xD;
			Log.d(TAG, sb.toString());&#xD;
			cos.write(sb.toString().getBytes());&#xD;
			cos.flush();&#xD;
			cos.close();&#xD;
&#xD;
		} catch (FileNotFoundException e) {&#xD;
			e.printStackTrace();&#xD;
		} catch (IOException e) {&#xD;
			e.printStackTrace();&#xD;
		}&#xD;
&#xD;
		this.locations = locations;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RWmfAu8yEeOflObM3pPwYg" name="getMinDistance" specification="_RSZ7gO8yEeOflObM3pPwYg">
                <ownedParameter xmi:id="_RWmfA-8yEeOflObM3pPwYg" name="current" type="_RQOxQO8yEeOflObM3pPwYg"/>
                <ownedParameter xmi:id="_RWmfBO8yEeOflObM3pPwYg" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <language>java</language>
                <body>double min = Double.MAX_VALUE;&#xD;
		&#xD;
		Log.d(TAG, &quot;getMinDistance+&quot;);&#xD;
		&#xD;
		// check if locations are not loaded&#xD;
		if (this.locations == null) {&#xD;
			Log.e(TAG, &quot;getClosestMatchDistance: locations not loaded&quot;);&#xD;
			return Double.MAX_VALUE;&#xD;
		}&#xD;
		&#xD;
		// calculate minimum distance&#xD;
		for (Location location : this.locations) {&#xD;
			double distance = current.distanceTo(location);&#xD;
			if (distance &lt; min) {&#xD;
				min = distance;&#xD;
			}&#xD;
		}&#xD;
		&#xD;
		Log.d(TAG, &quot;getMinDistance- &quot; + min);&#xD;
		return min;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RWmfBe8yEeOflObM3pPwYg" name="getAbsoluteFilePath" specification="_Q8of0O8yEeOflObM3pPwYg">
                <ownedParameter xmi:id="_RWmfBu8yEeOflObM3pPwYg" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>return this.filePath + &quot;/&quot; + this.fileName;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RWnGEO8yEeOflObM3pPwYg" name="isOwnerFile" specification="_Q8pG4e8yEeOflObM3pPwYg">
                <ownedParameter xmi:id="_RWnGEe8yEeOflObM3pPwYg" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>File ownerFile = new File(getAbsoluteFilePath());&#xD;
		return ownerFile.exists();&#xD;
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_Q8n4wO8yEeOflObM3pPwYg" name="loadOwnerData" method="_RWl39O8yEeOflObM3pPwYg"/>
              <ownedOperation xmi:id="_Q8of0O8yEeOflObM3pPwYg" name="getAbsoluteFilePath" visibility="private" method="_RWmfBe8yEeOflObM3pPwYg">
                <ownedParameter xmi:id="_Q8pG4O8yEeOflObM3pPwYg" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_Q8pG4e8yEeOflObM3pPwYg" name="isOwnerFile" visibility="private" method="_RWnGEO8yEeOflObM3pPwYg">
                <ownedParameter xmi:id="_Q8pt8O8yEeOflObM3pPwYg" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_RSXfQO8yEeOflObM3pPwYg" name="LocationAuthMediator" method="_RWl38O8yEeOflObM3pPwYg">
                <eAnnotations xmi:id="_RSYGUe8yEeOflObM3pPwYg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_RSYGUu8yEeOflObM3pPwYg" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_RSXfQe8yEeOflObM3pPwYg" name="ctx" type="_RPULQe8yEeOflObM3pPwYg"/>
                <ownedParameter xmi:id="_RSYGUO8yEeOflObM3pPwYg" name="fileName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_RSYGU-8yEeOflObM3pPwYg" type="_Q8lcgO8yEeOflObM3pPwYg" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_RSYtYO8yEeOflObM3pPwYg" name="saveOwnerData" method="_RWmfAO8yEeOflObM3pPwYg">
                <ownedParameter xmi:id="_RSYtYe8yEeOflObM3pPwYg" name="locations" type="_RQMVAe8yEeOflObM3pPwYg"/>
              </ownedOperation>
              <ownedOperation xmi:id="_RSZ7gO8yEeOflObM3pPwYg" name="getMinDistance" method="_RWmfAu8yEeOflObM3pPwYg">
                <ownedParameter xmi:id="_RSZ7ge8yEeOflObM3pPwYg" name="current" type="_RQOxQO8yEeOflObM3pPwYg"/>
                <ownedParameter xmi:id="_RSZ7gu8yEeOflObM3pPwYg" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_Q965QO8yEeOflObM3pPwYg" name="LocationDAO">
              <ownedAttribute xmi:id="_RVEN8O8yEeOflObM3pPwYg" name="TAG" visibility="private" isLeaf="true" isStatic="true" isReadOnly="true">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_RVEN8e8yEeOflObM3pPwYg" value="&quot;LocationUtil&quot;"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_RVE1AO8yEeOflObM3pPwYg" name="ctx" visibility="private" type="_RPULQe8yEeOflObM3pPwYg" association="_RY0ske8yEeOflObM3pPwYg">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_RVE1Ae8yEeOflObM3pPwYg" value="null"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_RVFcEe8yEeOflObM3pPwYg" name="lm" visibility="private" type="_RQqPEu8yEeOflObM3pPwYg" association="_RY1Toe8yEeOflObM3pPwYg">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_RVFcEu8yEeOflObM3pPwYg" value="null"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_RVGDIe8yEeOflObM3pPwYg" name="lr" visibility="private" type="_Q-COAO8yEeOflObM3pPwYg" association="_RY16se8yEeOflObM3pPwYg">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_RVGqMO8yEeOflObM3pPwYg" value="null"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_RVHRQO8yEeOflObM3pPwYg" name="locations" visibility="private" type="_RQMVAe8yEeOflObM3pPwYg" association="_RY2hwe8yEeOflObM3pPwYg">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_RVH4Ue8yEeOflObM3pPwYg" value="null"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_RVMw0O8yEeOflObM3pPwYg" name="locationListener" visibility="package" type="_RQqPEO8yEeOflObM3pPwYg" association="_RY3v4O8yEeOflObM3pPwYg">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_RVMw0e8yEeOflObM3pPwYg" value="new LocationListener() {&#xD;&#xA;&#x9;&#x9;public void onLocationChanged(Location location) {&#xD;&#xA;&#x9;&#x9;&#x9;;&#xD;&#xA;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;public void onStatusChanged(String provider, int status, Bundle extras) {&#xD;&#xA;&#x9;&#x9;&#x9;;&#xD;&#xA;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;public void onProviderEnabled(String provider) {&#xD;&#xA;&#x9;&#x9;&#x9;;&#xD;&#xA;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;public void onProviderDisabled(String provider) {&#xD;&#xA;&#x9;&#x9;&#x9;;&#xD;&#xA;&#x9;&#x9;}&#xD;&#xA;&#x9;}"/>
              </ownedAttribute>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RWzTUO8yEeOflObM3pPwYg" name="LocationDAO" specification="_RSvSsO8yEeOflObM3pPwYg">
                <ownedParameter xmi:id="_RWzTUe8yEeOflObM3pPwYg" name="ctx" type="_RPULQe8yEeOflObM3pPwYg"/>
                <ownedParameter xmi:id="_RWzTUu8yEeOflObM3pPwYg" type="_Q965QO8yEeOflObM3pPwYg" direction="return"/>
                <language>java</language>
                <body>this.ctx = ctx;&#xD;
		lm = (LocationManager) this.ctx&#xD;
				.getSystemService(Context.LOCATION_SERVICE);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RWzTU-8yEeOflObM3pPwYg" name="getCurrentLocation" specification="_Q99VgO8yEeOflObM3pPwYg">
                <ownedParameter xmi:id="_RWzTVO8yEeOflObM3pPwYg" type="_RQOxQO8yEeOflObM3pPwYg" direction="return"/>
                <language>java</language>
                <body>Location location = null;&#xD;
		Log.d(TAG, &quot;getCurrentLocation()+&quot;);&#xD;
		&#xD;
		initialiseLocationUpdates(500);&#xD;
		&#xD;
		// acquire location&#xD;
		Criteria criteria = new Criteria();&#xD;
		String provider = lm.getBestProvider(criteria, true);&#xD;
		location = lm.getLastKnownLocation(provider);&#xD;
		&#xD;
		this.lm.removeUpdates(locationListener);&#xD;
&#xD;
		Log.d(TAG, &quot;getCurrentLocation- &quot; + location.getLatitude() + &quot; &quot;&#xD;
				+ location.getLongitude() + &quot; &quot; + location.getProvider());&#xD;
		return location;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RWz6YO8yEeOflObM3pPwYg" name="startCollectingLocations" specification="_Q9-joO8yEeOflObM3pPwYg">
                <ownedParameter xmi:id="_RWz6Ye8yEeOflObM3pPwYg" name="interval">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>this.locations = new LinkedList&lt;Location>();&#xD;
&#xD;
		// starting location updates&#xD;
		initialiseLocationUpdates(interval);&#xD;
&#xD;
		this.lr = new LocationRecorder(2000);&#xD;
		this.lr.startRecord();&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RWz6Yu8yEeOflObM3pPwYg" name="stopCollectingLocations" specification="_Q9_xwO8yEeOflObM3pPwYg">
                <language>java</language>
                <body>if (this.lr == null) {&#xD;
			Log.d(TAG, &quot;Location recorder was not running.&quot;);&#xD;
			return;&#xD;
		}&#xD;
&#xD;
		this.lr.stopRecord();&#xD;
		this.lr = null;&#xD;
&#xD;
		this.lm.removeUpdates(locationListener);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RWz6Y-8yEeOflObM3pPwYg" name="saveCollectedLocations" specification="_Q-AY0O8yEeOflObM3pPwYg">
                <ownedParameter xmi:id="_RWz6ZO8yEeOflObM3pPwYg" name="name">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>LocationAuthMediator dao = new LocationAuthMediator(this.ctx, name);&#xD;
		dao.saveOwnerData(locations);&#xD;
		dao = null;&#xD;
&#xD;
		this.locations.clear();&#xD;
		this.locations = null;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RWz6Ze8yEeOflObM3pPwYg" name="initialiseLocationUpdates" specification="_Q-Bm8O8yEeOflObM3pPwYg">
                <ownedParameter xmi:id="_RWz6Zu8yEeOflObM3pPwYg" name="interval">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>// starting location updates&#xD;
		this.lm.requestLocationUpdates(LocationManager.NETWORK_PROVIDER,&#xD;
				interval, 0, locationListener);&#xD;
		this.lm.requestLocationUpdates(LocationManager.GPS_PROVIDER, interval,&#xD;
				0, locationListener);&#xD;
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_Q99VgO8yEeOflObM3pPwYg" name="getCurrentLocation" method="_RWzTU-8yEeOflObM3pPwYg">
                <ownedParameter xmi:id="_RSv5we8yEeOflObM3pPwYg" type="_RQOxQO8yEeOflObM3pPwYg" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_Q9-joO8yEeOflObM3pPwYg" name="startCollectingLocations" method="_RWz6YO8yEeOflObM3pPwYg">
                <ownedParameter xmi:id="_Q9_KsO8yEeOflObM3pPwYg" name="interval">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_Q9_xwO8yEeOflObM3pPwYg" name="stopCollectingLocations" method="_RWz6Yu8yEeOflObM3pPwYg"/>
              <ownedOperation xmi:id="_Q-AY0O8yEeOflObM3pPwYg" name="saveCollectedLocations" method="_RWz6Y-8yEeOflObM3pPwYg">
                <ownedParameter xmi:id="_Q-AY0e8yEeOflObM3pPwYg" name="name">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_Q-Bm8O8yEeOflObM3pPwYg" name="initialiseLocationUpdates" visibility="private" method="_RWz6Ze8yEeOflObM3pPwYg">
                <ownedParameter xmi:id="_Q-Bm8e8yEeOflObM3pPwYg" name="interval">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_RSvSsO8yEeOflObM3pPwYg" name="LocationDAO" method="_RWzTUO8yEeOflObM3pPwYg">
                <eAnnotations xmi:id="_RSvSsu8yEeOflObM3pPwYg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_RSvSs-8yEeOflObM3pPwYg" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_RSvSse8yEeOflObM3pPwYg" name="ctx" type="_RPULQe8yEeOflObM3pPwYg"/>
                <ownedParameter xmi:id="_RSv5wO8yEeOflObM3pPwYg" type="_Q965QO8yEeOflObM3pPwYg" direction="return"/>
              </ownedOperation>
              <nestedClassifier xmi:type="uml:Class" xmi:id="_Q-COAO8yEeOflObM3pPwYg" clientDependency="_RSxH4e8yEeOflObM3pPwYg" name="LocationRecorder" visibility="private">
                <ownedAttribute xmi:id="_RVJGcO8yEeOflObM3pPwYg" name="interval" visibility="private">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_RVJGce8yEeOflObM3pPwYg" value="0"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_RVJtge8yEeOflObM3pPwYg" name="handler" visibility="private" type="_RPWnge8yEeOflObM3pPwYg" association="_RY3I0O8yEeOflObM3pPwYg">
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_RVKUkO8yEeOflObM3pPwYg" value="null"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_RVK7oe8yEeOflObM3pPwYg" name="running" visibility="private">
                  <eAnnotations xmi:id="_RVK7ou8yEeOflObM3pPwYg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                    <details xmi:id="_RVK7o-8yEeOflObM3pPwYg" key="volatile"/>
                  </eAnnotations>
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_RVLisO8yEeOflObM3pPwYg" value="false"/>
                </ownedAttribute>
                <interfaceRealization xmi:id="_RSxH4e8yEeOflObM3pPwYg" client="_Q-COAO8yEeOflObM3pPwYg" supplier="_RSwg0O8yEeOflObM3pPwYg" contract="_RSwg0O8yEeOflObM3pPwYg"/>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RW0hcO8yEeOflObM3pPwYg" name="LocationRecorder" specification="_Q-EDMO8yEeOflObM3pPwYg">
                  <ownedParameter xmi:id="_RW0hce8yEeOflObM3pPwYg" name="interval">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  </ownedParameter>
                  <ownedParameter xmi:id="_RW0hcu8yEeOflObM3pPwYg" type="_Q-COAO8yEeOflObM3pPwYg" direction="return"/>
                  <language>java</language>
                  <body>this.interval = interval;&#xD;
		</body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RW0hc-8yEeOflObM3pPwYg" name="run" specification="_Q-FRUO8yEeOflObM3pPwYg">
                  <language>java</language>
                  <body>Log.d(TAG, &quot;timer run method.&quot;);&#xD;
&#xD;
			// acquire location&#xD;
			Criteria criteria = new Criteria();&#xD;
			String provider = lm.getBestProvider(criteria, true);&#xD;
&#xD;
			addLocation(lm.getLastKnownLocation(provider));&#xD;
&#xD;
			// only reschedule if running is true&#xD;
			if (this.running == true) {&#xD;
				Log.d(TAG, &quot;Reposting timer&quot;);&#xD;
				this.handler.postDelayed(this, interval);&#xD;
			}&#xD;
		</body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RW1IgO8yEeOflObM3pPwYg" name="startRecord" specification="_Q-HtkO8yEeOflObM3pPwYg">
                  <ownedParameter xmi:id="_RW1Ige8yEeOflObM3pPwYg" direction="return">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                  </ownedParameter>
                  <language>java</language>
                  <body>Log.d(TAG, &quot;startRecord+&quot;);&#xD;
&#xD;
			if (handler != null || running == true) {&#xD;
				return false;&#xD;
			}&#xD;
&#xD;
			this.running = true;&#xD;
&#xD;
			HandlerThread hThread = new HandlerThread(&quot;hThread&quot;);&#xD;
			hThread.start();&#xD;
&#xD;
			handler = new Handler(hThread.getLooper());&#xD;
			handler.postDelayed(this, interval);&#xD;
&#xD;
			Log.d(TAG, &quot;startRecord-&quot;);&#xD;
			return true;&#xD;
		</body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RW1Igu8yEeOflObM3pPwYg" name="stopRecord" specification="_Q-IUoO8yEeOflObM3pPwYg">
                  <language>java</language>
                  <body>Log.d(TAG, &quot;stopRecord+&quot;);&#xD;
&#xD;
			// this is how we tell if the handler is stopped&#xD;
			if (handler == null) {&#xD;
				Log.d(TAG, &quot;stopRecord: hadnler was null&quot;);&#xD;
				return;&#xD;
			}&#xD;
&#xD;
			// stoping current task from rescheduling&#xD;
			this.running = false;&#xD;
&#xD;
			// removing pending tasks&#xD;
			this.handler.removeCallbacks(this);&#xD;
			this.handler = null;&#xD;
&#xD;
			Log.d(TAG, &quot;stopRecord-&quot;);&#xD;
		</body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RW1Ig-8yEeOflObM3pPwYg" name="addLocation" specification="_RSxu8O8yEeOflObM3pPwYg">
                  <ownedParameter xmi:id="_RW1IhO8yEeOflObM3pPwYg" name="location" type="_RQOxQO8yEeOflObM3pPwYg"/>
                  <language>java</language>
                  <body>if (location == null) {&#xD;
				Log.w(TAG, &quot;addLocation: location is null.&quot;);&#xD;
				return;&#xD;
			}&#xD;
			&#xD;
			Log.d(TAG,&#xD;
					&quot;addLocation: latitude=&quot; + location.getLatitude()&#xD;
							+ &quot; longitude=&quot; + location.getLongitude()&#xD;
							+ &quot; provider=&quot; + location.getProvider()&#xD;
							+ &quot; accuracy=&quot; + location.getAccuracy());&#xD;
&#xD;
			locations.add(location);&#xD;
		</body>
                </ownedBehavior>
                <ownedOperation xmi:id="_Q-EDMO8yEeOflObM3pPwYg" name="LocationRecorder" method="_RW0hcO8yEeOflObM3pPwYg">
                  <eAnnotations xmi:id="_Q-EqQO8yEeOflObM3pPwYg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                    <details xmi:id="_Q-EqQe8yEeOflObM3pPwYg" key="create"/>
                  </eAnnotations>
                  <ownedParameter xmi:id="_Q-EDMe8yEeOflObM3pPwYg" name="interval">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  </ownedParameter>
                  <ownedParameter xmi:id="_Q-EqQu8yEeOflObM3pPwYg" type="_Q-COAO8yEeOflObM3pPwYg" direction="return"/>
                </ownedOperation>
                <ownedOperation xmi:id="_Q-FRUO8yEeOflObM3pPwYg" name="run" method="_RW0hc-8yEeOflObM3pPwYg"/>
                <ownedOperation xmi:id="_Q-HtkO8yEeOflObM3pPwYg" name="startRecord" method="_RW1IgO8yEeOflObM3pPwYg">
                  <ownedParameter xmi:id="_Q-Htke8yEeOflObM3pPwYg" direction="return">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                  </ownedParameter>
                </ownedOperation>
                <ownedOperation xmi:id="_Q-IUoO8yEeOflObM3pPwYg" name="stopRecord" method="_RW1Igu8yEeOflObM3pPwYg"/>
                <ownedOperation xmi:id="_RSxu8O8yEeOflObM3pPwYg" name="addLocation" method="_RW1Ig-8yEeOflObM3pPwYg">
                  <ownedParameter xmi:id="_RSxu8e8yEeOflObM3pPwYg" name="location" type="_RQOxQO8yEeOflObM3pPwYg"/>
                </ownedOperation>
              </nestedClassifier>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_Q-WXEO8yEeOflObM3pPwYg" name="LocationService">
              <generalization xmi:id="_RQxj0O8yEeOflObM3pPwYg" general="_Q-m1wO8yEeOflObM3pPwYg"/>
              <ownedAttribute xmi:id="_RVPNEO8yEeOflObM3pPwYg" name="TAG" visibility="private" isLeaf="true" isStatic="true" isReadOnly="true">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_RVP0IO8yEeOflObM3pPwYg" value="&quot;LocationService&quot;"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_RVP0Ie8yEeOflObM3pPwYg" name="locationThread" visibility="private" type="_Q-bPkO8yEeOflObM3pPwYg" association="_RY3v4-8yEeOflObM3pPwYg">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_RVP0Iu8yEeOflObM3pPwYg" value="null"/>
              </ownedAttribute>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RW2WoO8yEeOflObM3pPwYg" name="onCreate" specification="_Q-YMQO8yEeOflObM3pPwYg">
                <language>java</language>
                <body>Log.i(TAG, &quot;onCreate&quot;);&#xD;
		&#xD;
		this.initialWeight = 8000;&#xD;
		&#xD;
		if (locationThread == null) {&#xD;
			Log.d(TAG, &quot;Starting location thread.&quot;);&#xD;
			locationThread = new AuthenticatorThread();&#xD;
			locationThread.start();&#xD;
		}&#xD;
		&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RW2Woe8yEeOflObM3pPwYg" name="onDestroy" specification="_Q-aBcO8yEeOflObM3pPwYg">
                <language>java</language>
                <body>Log.i(TAG, &quot;onDestroy&quot;);&#xD;
		&#xD;
		if (locationThread != null) {&#xD;
			Log.d(TAG, &quot;Stopping location thread.&quot;);&#xD;
			locationThread.stopThread();&#xD;
			locationThread = null;&#xD;
		}&#xD;
		&#xD;
		this.decayTimer.stopTimer();&#xD;
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_Q-YMQO8yEeOflObM3pPwYg" name="onCreate" method="_RW2WoO8yEeOflObM3pPwYg"/>
              <ownedOperation xmi:id="_Q-aBcO8yEeOflObM3pPwYg" name="onDestroy" method="_RW2Woe8yEeOflObM3pPwYg"/>
              <nestedClassifier xmi:type="uml:Class" xmi:id="_Q-bPkO8yEeOflObM3pPwYg" name="AuthenticatorThread" visibility="private">
                <ownedComment xmi:id="_RXYiIO8yEeOflObM3pPwYg">
                  <body>Thread used to periodically authenticate the user.&#xD;
	 * &#xD;
	 * @author cristi&#xD;
	 *</body>
                </ownedComment>
                <generalization xmi:id="_RS0yQO8yEeOflObM3pPwYg" general="_RSc-0O8yEeOflObM3pPwYg"/>
                <ownedAttribute xmi:id="_RVRCQO8yEeOflObM3pPwYg" name="AUTH_PERIOD" visibility="private" isLeaf="true" isStatic="true" isReadOnly="true">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_RVRCQe8yEeOflObM3pPwYg" value="7 * 1000"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_RVRpUO8yEeOflObM3pPwYg" name="THRESHOLD" visibility="private" isLeaf="true" isStatic="true" isReadOnly="true">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_RVRpUe8yEeOflObM3pPwYg" value="2"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_RVSQYO8yEeOflObM3pPwYg" name="TAG" visibility="private" isLeaf="true" isStatic="true" isReadOnly="true">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_RVSQYe8yEeOflObM3pPwYg" value="&quot;LocationServiceThread&quot;"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_RVS3cO8yEeOflObM3pPwYg" name="stop" visibility="private">
                  <eAnnotations xmi:id="_RVS3ce8yEeOflObM3pPwYg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                    <details xmi:id="_RVS3cu8yEeOflObM3pPwYg" key="volatile"/>
                  </eAnnotations>
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_RVTege8yEeOflObM3pPwYg" name="ctx" visibility="private" type="_RPULQe8yEeOflObM3pPwYg" association="_RY4W8e8yEeOflObM3pPwYg">
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_RVTegu8yEeOflObM3pPwYg" value="null"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_RVUFke8yEeOflObM3pPwYg" name="mediator" visibility="private" type="_Q8lcgO8yEeOflObM3pPwYg" association="_RY4-Ae8yEeOflObM3pPwYg">
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_RVUFku8yEeOflObM3pPwYg" value="null"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_RVUsoe8yEeOflObM3pPwYg" name="dao" visibility="private" type="_Q965QO8yEeOflObM3pPwYg" association="_RY5lEe8yEeOflObM3pPwYg">
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_RVVTsO8yEeOflObM3pPwYg" value="null"/>
                </ownedAttribute>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RW29sO8yEeOflObM3pPwYg" name="AuthenticatorThread" specification="_Q-dEwO8yEeOflObM3pPwYg">
                  <ownedParameter xmi:id="_RW29se8yEeOflObM3pPwYg" type="_Q-bPkO8yEeOflObM3pPwYg" direction="return"/>
                  <language>java</language>
                  <body>this.stop = false;&#xD;
			this.ctx = LocationService.this;&#xD;
		</body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RW29su8yEeOflObM3pPwYg" name="run" specification="_Q-dr0O8yEeOflObM3pPwYg">
                  <language>java</language>
                  <body>Looper.prepare();&#xD;
&#xD;
			// instantiating voice DAO when thread starts.&#xD;
			mediator = new LocationAuthMediator(ctx, &quot;owner-locations.dat&quot;);&#xD;
			mediator.loadOwnerData();&#xD;
			&#xD;
			dao = new LocationDAO(ctx);&#xD;
			&#xD;
			// sampling loop.&#xD;
			while (stop != true) {&#xD;
				try {&#xD;
					Log.d(TAG, &quot;Start loop.&quot;);&#xD;
					Thread.sleep(AUTH_PERIOD);&#xD;
					&#xD;
					Log.d(TAG, &quot;Getting current location.&quot;);&#xD;
					Location current = dao.getCurrentLocation();&#xD;
&#xD;
					Log.d(TAG, &quot;Getting score.&quot;);&#xD;
					double dscore = mediator.getMinDistance(current);&#xD;
					dscore = (dscore > THRESHOLD) ? THRESHOLD : dscore;&#xD;
					&#xD;
					Log.d(TAG, &quot;Calculating percentage score.&quot;);&#xD;
					score = (int) ((1 - dscore / THRESHOLD) * 100);&#xD;
					&#xD;
					Log.d(TAG, &quot;Starting decay process for score &quot; + score);&#xD;
					sendDecayedScore(true);&#xD;
					startDecay();&#xD;
&#xD;
				} catch (InterruptedException e) {&#xD;
					e.printStackTrace();&#xD;
				}&#xD;
			}&#xD;
		</body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RW3kwO8yEeOflObM3pPwYg" name="stopThread" specification="_Q-e58u8yEeOflObM3pPwYg">
                  <language>java</language>
                  <body>try {&#xD;
				this.stop = true;&#xD;
				this.join();&#xD;
			} catch (InterruptedException e) {&#xD;
				e.printStackTrace();&#xD;
			}&#xD;
		</body>
                </ownedBehavior>
                <ownedOperation xmi:id="_Q-dEwO8yEeOflObM3pPwYg" name="AuthenticatorThread" method="_RW29sO8yEeOflObM3pPwYg">
                  <eAnnotations xmi:id="_Q-dEwe8yEeOflObM3pPwYg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                    <details xmi:id="_Q-dEwu8yEeOflObM3pPwYg" key="create"/>
                  </eAnnotations>
                  <ownedParameter xmi:id="_Q-dEw-8yEeOflObM3pPwYg" type="_Q-bPkO8yEeOflObM3pPwYg" direction="return"/>
                </ownedOperation>
                <ownedOperation xmi:id="_Q-dr0O8yEeOflObM3pPwYg" name="run" method="_RW29su8yEeOflObM3pPwYg"/>
                <ownedOperation xmi:id="_Q-e58u8yEeOflObM3pPwYg" name="stopThread" method="_RW3kwO8yEeOflObM3pPwYg"/>
              </nestedClassifier>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_RYn4QO8yEeOflObM3pPwYg" name="" memberEnd="_RYn4Qe8yEeOflObM3pPwYg _RUN5YO8yEeOflObM3pPwYg">
              <ownedEnd xmi:id="_RYn4Qe8yEeOflObM3pPwYg" name="" type="_Q8lcgO8yEeOflObM3pPwYg" association="_RYn4QO8yEeOflObM3pPwYg"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_RYofUO8yEeOflObM3pPwYg" name="" memberEnd="_RYofUe8yEeOflObM3pPwYg _RUOgce8yEeOflObM3pPwYg">
              <ownedEnd xmi:id="_RYofUe8yEeOflObM3pPwYg" name="" type="_Q8lcgO8yEeOflObM3pPwYg" association="_RYofUO8yEeOflObM3pPwYg"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_RY0ske8yEeOflObM3pPwYg" name="" memberEnd="_RY0sku8yEeOflObM3pPwYg _RVE1AO8yEeOflObM3pPwYg">
              <ownedEnd xmi:id="_RY0sku8yEeOflObM3pPwYg" name="" type="_Q965QO8yEeOflObM3pPwYg" association="_RY0ske8yEeOflObM3pPwYg"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_RY1Toe8yEeOflObM3pPwYg" name="" memberEnd="_RY1Tou8yEeOflObM3pPwYg _RVFcEe8yEeOflObM3pPwYg">
              <ownedEnd xmi:id="_RY1Tou8yEeOflObM3pPwYg" name="" type="_Q965QO8yEeOflObM3pPwYg" association="_RY1Toe8yEeOflObM3pPwYg"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_RY16se8yEeOflObM3pPwYg" name="" memberEnd="_RY16su8yEeOflObM3pPwYg _RVGDIe8yEeOflObM3pPwYg">
              <ownedEnd xmi:id="_RY16su8yEeOflObM3pPwYg" name="" type="_Q965QO8yEeOflObM3pPwYg" association="_RY16se8yEeOflObM3pPwYg"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_RY2hwe8yEeOflObM3pPwYg" name="" memberEnd="_RY2hwu8yEeOflObM3pPwYg _RVHRQO8yEeOflObM3pPwYg">
              <ownedEnd xmi:id="_RY2hwu8yEeOflObM3pPwYg" name="" type="_Q965QO8yEeOflObM3pPwYg" association="_RY2hwe8yEeOflObM3pPwYg"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_RY3I0O8yEeOflObM3pPwYg" name="" memberEnd="_RY3I0e8yEeOflObM3pPwYg _RVJtge8yEeOflObM3pPwYg">
              <ownedEnd xmi:id="_RY3I0e8yEeOflObM3pPwYg" name="" type="_Q-COAO8yEeOflObM3pPwYg" association="_RY3I0O8yEeOflObM3pPwYg"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_RY3v4O8yEeOflObM3pPwYg" name="" memberEnd="_RY3v4e8yEeOflObM3pPwYg _RVMw0O8yEeOflObM3pPwYg">
              <ownedEnd xmi:id="_RY3v4e8yEeOflObM3pPwYg" name="" type="_Q965QO8yEeOflObM3pPwYg" association="_RY3v4O8yEeOflObM3pPwYg"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_RY3v4-8yEeOflObM3pPwYg" name="" memberEnd="_RY3v5O8yEeOflObM3pPwYg _RVP0Ie8yEeOflObM3pPwYg">
              <ownedEnd xmi:id="_RY3v5O8yEeOflObM3pPwYg" name="" type="_Q-WXEO8yEeOflObM3pPwYg" association="_RY3v4-8yEeOflObM3pPwYg"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_RY4W8e8yEeOflObM3pPwYg" name="" memberEnd="_RY4W8u8yEeOflObM3pPwYg _RVTege8yEeOflObM3pPwYg">
              <ownedEnd xmi:id="_RY4W8u8yEeOflObM3pPwYg" name="" type="_Q-bPkO8yEeOflObM3pPwYg" association="_RY4W8e8yEeOflObM3pPwYg"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_RY4-Ae8yEeOflObM3pPwYg" name="" memberEnd="_RY4-Au8yEeOflObM3pPwYg _RVUFke8yEeOflObM3pPwYg">
              <ownedEnd xmi:id="_RY4-Au8yEeOflObM3pPwYg" name="" type="_Q-bPkO8yEeOflObM3pPwYg" association="_RY4-Ae8yEeOflObM3pPwYg"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_RY5lEe8yEeOflObM3pPwYg" name="" memberEnd="_RY5lEu8yEeOflObM3pPwYg _RVUsoe8yEeOflObM3pPwYg">
              <ownedEnd xmi:id="_RY5lEu8yEeOflObM3pPwYg" name="" type="_Q-bPkO8yEeOflObM3pPwYg" association="_RY5lEe8yEeOflObM3pPwYg"/>
            </packagedElement>
          </packagedElement>
          <packagedElement xmi:type="uml:Package" xmi:id="_Q02c0O8yEeOflObM3pPwYg" name="voice">
            <packagedElement xmi:type="uml:Class" xmi:id="_Q8f88O8yEeOflObM3pPwYg" name="VoiceAuthMediator">
              <ownedAttribute xmi:id="_RUJn8O8yEeOflObM3pPwYg" name="ctx" visibility="private" type="_RPULQe8yEeOflObM3pPwYg" association="_ixVMQO_9EeOro6Du1a1f1w">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_RUJn8e8yEeOflObM3pPwYg" value="null"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_RUK2EO8yEeOflObM3pPwYg" name="recognito" visibility="private" type="_RQIqoe8yEeOflObM3pPwYg" association="_RYnRMO8yEeOflObM3pPwYg">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_RULdIe8yEeOflObM3pPwYg" value="new Recognito&lt;String>()"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_RUMEMe8yEeOflObM3pPwYg" name="TAG" visibility="private" isLeaf="true" isStatic="true" isReadOnly="true">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_RUMrQO8yEeOflObM3pPwYg" value="&quot;VoiceAuthMediator&quot;"/>
              </ownedAttribute>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RWkp0O8yEeOflObM3pPwYg" name="VoiceAuthMediator" specification="_RSWRIO8yEeOflObM3pPwYg">
                <ownedParameter xmi:id="_RWkp0e8yEeOflObM3pPwYg" name="ctx" type="_RPULQe8yEeOflObM3pPwYg"/>
                <ownedParameter xmi:id="_RWkp0u8yEeOflObM3pPwYg" type="_Q8f88O8yEeOflObM3pPwYg" direction="return">
                  <name xsi:nil="true"/>
                </ownedParameter>
                <language>java</language>
                <body>this.ctx = ctx.getApplicationContext();&#xD;
		&#xD;
		trainRecognito();&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RWlQ4O8yEeOflObM3pPwYg" name="trainRecognito" specification="_Q8hLEO8yEeOflObM3pPwYg">
                <language>java</language>
                <body>Log.i(TAG, &quot;trainRecognito+&quot;);&#xD;
&#xD;
		VoiceDAO owner = new VoiceDAO(this.ctx, VoiceDAO.OWNER_FN);&#xD;
		LinkedList&lt;VoiceDAO> noises = VoiceDAO.getNoiseDAOs(this.ctx);&#xD;
		&#xD;
		// check for owner data.&#xD;
		if (!owner.hasRecording()) {&#xD;
			Log.e(TAG, &quot;Null owner recording data!&quot;);&#xD;
			return;&#xD;
		&#xD;
		} else {&#xD;
			Log.d(TAG, &quot;Owner rate:&quot; + VoiceDAO.getSampleRate());&#xD;
		}&#xD;
		&#xD;
		// adding owner data&#xD;
		recognito.createVocalPrint(&quot;owner&quot;, owner.getData(),&#xD;
				VoiceDAO.getSampleRate());&#xD;
&#xD;
		// check for noise data&#xD;
		if (noises.isEmpty()) {&#xD;
			Log.d(TAG, &quot;No noise data!&quot;);&#xD;
			return;&#xD;
		}&#xD;
		&#xD;
		for(VoiceDAO noise : noises) {&#xD;
			Log.d(TAG, &quot;Adding noise file: &quot; + noise.getName());&#xD;
			recognito.createVocalPrint(noise.getName(), &#xD;
					noise.getData(), &#xD;
					VoiceDAO.getSampleRate());&#xD;
		}&#xD;
		&#xD;
		Log.i(TAG, &quot;trainRecognito-&quot;);&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RWlQ4e8yEeOflObM3pPwYg" name="getMatch" specification="_RQJ4wO8yEeOflObM3pPwYg">
                <ownedParameter xmi:id="_RWlQ4u8yEeOflObM3pPwYg" name="record" type="_Q-_QQO8yEeOflObM3pPwYg"/>
                <ownedParameter xmi:id="_RWlQ4-8yEeOflObM3pPwYg" direction="return">
                  <name xsi:nil="true"/>
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
                <language>java</language>
                <body>boolean owner = false;&#xD;
		double result = Double.MAX_VALUE;&#xD;
		&#xD;
		Map&lt;Double, String> matches = null;&#xD;
&#xD;
		if (record == null || record.getData() == null) {&#xD;
			Log.e(TAG, &quot;Record file does not exist:&quot; + record.getName());&#xD;
			return 0;&#xD;
		}&#xD;
&#xD;
		matches = recognito.recognize(record.getData(),&#xD;
				VoiceDAO.getSampleRate());&#xD;
&#xD;
		for (Entry&lt;Double, String> entry : matches.entrySet()) {			&#xD;
			if (entry.getKey() &lt; result) {&#xD;
				result = entry.getKey();&#xD;
				owner = entry.getValue().equals(&quot;owner&quot;);&#xD;
			}&#xD;
		}&#xD;
		&#xD;
		if (!owner) {&#xD;
			Log.d(TAG, &quot;Owner not best value!&quot;);&#xD;
			result = - 1;&#xD;
		}&#xD;
&#xD;
		return result;&#xD;
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_Q8hLEO8yEeOflObM3pPwYg" name="trainRecognito" visibility="private" method="_RWlQ4O8yEeOflObM3pPwYg">
                <ownedComment xmi:id="_RXVe0e8yEeOflObM3pPwYg">
                  <body>Trains recognito library for the owner's voice. Searches through internal&#xD;
	 * data in order to train the recognito library.</body>
                </ownedComment>
              </ownedOperation>
              <ownedOperation xmi:id="_RQJ4wO8yEeOflObM3pPwYg" name="getMatch" method="_RWlQ4e8yEeOflObM3pPwYg">
                <ownedComment xmi:id="_RXVe0u8yEeOflObM3pPwYg">
                  <body>Return's the match distance between the current recording and the owner.&#xD;
	 * &#xD;
	 * @param filename&#xD;
	 * @return recording match indicator.</body>
                </ownedComment>
                <ownedParameter xmi:id="_RQJ4we8yEeOflObM3pPwYg" name="record" type="_Q-_QQO8yEeOflObM3pPwYg"/>
                <ownedParameter xmi:id="_RQJ4wu8yEeOflObM3pPwYg" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_RSWRIO8yEeOflObM3pPwYg" name="VoiceAuthMediator" method="_RWkp0O8yEeOflObM3pPwYg">
                <eAnnotations xmi:id="_RSWRIu8yEeOflObM3pPwYg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_RSWRI-8yEeOflObM3pPwYg" key="create"/>
                </eAnnotations>
                <ownedComment xmi:id="_RXVe0O8yEeOflObM3pPwYg">
                  <body>Constructor&#xD;
	 * &#xD;
	 * @param ctx&#xD;
	 *            android context for application path.</body>
                </ownedComment>
                <ownedParameter xmi:id="_RSWRIe8yEeOflObM3pPwYg" name="ctx" type="_RPULQe8yEeOflObM3pPwYg"/>
                <ownedParameter xmi:id="_RSWRJO8yEeOflObM3pPwYg" type="_Q8f88O8yEeOflObM3pPwYg" direction="return"/>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_Q-_QQO8yEeOflObM3pPwYg" name="VoiceDAO">
              <ownedAttribute xmi:id="_RVlyYO8yEeOflObM3pPwYg" name="mRecorder" visibility="private" type="_RQ8i8e8yEeOflObM3pPwYg" association="_RY92ge8yEeOflObM3pPwYg">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_RVlyYe8yEeOflObM3pPwYg" value="null"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_RVmZce8yEeOflObM3pPwYg" name="rt" visibility="private" type="_Q_HzIO8yEeOflObM3pPwYg" association="_RY_EoO8yEeOflObM3pPwYg">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_RVnAgO8yEeOflObM3pPwYg" value="new RecordingThread()"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_RVoOoe8yEeOflObM3pPwYg" name="SAMPLE_RATE" visibility="private" isLeaf="true" isStatic="true" isReadOnly="true">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_RVo1sO8yEeOflObM3pPwYg" value="44100"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_RVo1se8yEeOflObM3pPwYg" name="CHANNEL_CONFIG" visibility="private" isLeaf="true" isStatic="true" isReadOnly="true">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_RVpcwO8yEeOflObM3pPwYg" value="AudioFormat.CHANNEL_IN_MONO"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_RVpcwe8yEeOflObM3pPwYg" name="AUDIO_FORMAT" visibility="private" isLeaf="true" isStatic="true" isReadOnly="true">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_RVqD0O8yEeOflObM3pPwYg" value="AudioFormat.ENCODING_PCM_16BIT"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_RVqD0e8yEeOflObM3pPwYg" name="TAG" visibility="private" isLeaf="true" isStatic="true" isReadOnly="true">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_RVqD0u8yEeOflObM3pPwYg" value="&quot;VoideDAO&quot;"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_RVqq4O8yEeOflObM3pPwYg" name="minBufferSize" visibility="private">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_RVqq4e8yEeOflObM3pPwYg" value="0"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_RVrR8e8yEeOflObM3pPwYg" name="name" visibility="public" isReadOnly="true">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_RVr5AO8yEeOflObM3pPwYg" value="null"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_RVsgEO8yEeOflObM3pPwYg" name="filePath" visibility="private">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_RVsgEe8yEeOflObM3pPwYg" value="null"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_RVtHIO8yEeOflObM3pPwYg" name="ctx" visibility="private" type="_RPULQe8yEeOflObM3pPwYg" association="_RY_rse8yEeOflObM3pPwYg">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_RVtHIe8yEeOflObM3pPwYg" value="null"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_lrpoUO_9EeOro6Du1a1f1w" name="data" isReadOnly="true">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#byte"/>
                <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_lrqPYO_9EeOro6Du1a1f1w" value="*"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_lrqPYu_9EeOro6Du1a1f1w" value="null"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_lrrdgO_9EeOro6Du1a1f1w" name="OWNER_FN" isLeaf="true" isStatic="true" isReadOnly="true">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_lrsEkO_9EeOro6Du1a1f1w" value="&quot;owner.3gp&quot;"/>
              </ownedAttribute>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RW72MO8yEeOflObM3pPwYg" name="VoiceDAO" specification="_RS-jQO8yEeOflObM3pPwYg">
                <ownedParameter xmi:id="_RW72Me8yEeOflObM3pPwYg" name="context" type="_RPULQe8yEeOflObM3pPwYg"/>
                <ownedParameter xmi:id="_RW72Mu8yEeOflObM3pPwYg" name="fileName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_RW72M-8yEeOflObM3pPwYg" type="_Q-_QQO8yEeOflObM3pPwYg" direction="return">
                  <name xsi:nil="true"/>
                </ownedParameter>
                <language>java</language>
                <body>this.ctx = context.getApplicationContext();&#xD;
&#xD;
		this.name = fileName;&#xD;
		this.filePath = context.getFilesDir().toString();&#xD;
&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RW8dQO8yEeOflObM3pPwYg" name="startRecord" specification="_Q_CTkO8yEeOflObM3pPwYg">
                <language>java</language>
                <body>if (this.data != null) {&#xD;
			Log.w(TAG, &quot;Existing recording will be overwritten!&quot;);&#xD;
			this.data = null;&#xD;
		}&#xD;
&#xD;
		this.minBufferSize = AudioRecord.getMinBufferSize(SAMPLE_RATE,&#xD;
				CHANNEL_CONFIG, AUDIO_FORMAT);&#xD;
&#xD;
		this.mRecorder = new AudioRecord(MediaRecorder.AudioSource.MIC,&#xD;
				SAMPLE_RATE, CHANNEL_CONFIG, AUDIO_FORMAT, this.minBufferSize);&#xD;
&#xD;
		this.mRecorder.startRecording();&#xD;
		this.rt.startThread();&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RW8dQe8yEeOflObM3pPwYg" name="stopRecord" specification="_Q_C6oO8yEeOflObM3pPwYg">
                <language>java</language>
                <body>this.mRecorder.stop();&#xD;
		this.mRecorder.release();&#xD;
&#xD;
		this.rt.stopThread();&#xD;
		this.data = this.rt.getData();&#xD;
		this.rt = null;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RW8dQu8yEeOflObM3pPwYg" name="getSampleRate" specification="_Q_DhsO8yEeOflObM3pPwYg">
                <ownedParameter xmi:id="_RW8dQ-8yEeOflObM3pPwYg" direction="return">
                  <name xsi:nil="true"/>
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>return SAMPLE_RATE;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RW9EUO8yEeOflObM3pPwYg" name="getData" specification="_Q_EIwO8yEeOflObM3pPwYg">
                <ownedParameter xmi:id="_RW9EUe8yEeOflObM3pPwYg" direction="return">
                  <name xsi:nil="true"/>
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_RW9EUu8yEeOflObM3pPwYg" value="*"/>
                </ownedParameter>
                <language>java</language>
                <body>double[] result = null;&#xD;
&#xD;
		Log.d(TAG, &quot;getOwnerData+&quot;);&#xD;
&#xD;
		if (data == null) {&#xD;
			Log.d(TAG, &quot;Retrieving data from file.&quot;);&#xD;
			loadDataFromFile();&#xD;
		}&#xD;
&#xD;
		result = getDataFromObject();&#xD;
&#xD;
		Log.d(TAG, &quot;getData- &quot; + result);&#xD;
		return result;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RW9EU-8yEeOflObM3pPwYg" name="saveRecording" specification="_Q_F98O8yEeOflObM3pPwYg">
                <language>java</language>
                <body>KeyManager km = null;&#xD;
&#xD;
		FileOutputStream fos = null;&#xD;
		CipherOutputStream cos = null;&#xD;
&#xD;
		if (new File(getAbsoluteFilePath()).exists()) {&#xD;
			Log.w(TAG, &quot;File with the same name will get overwritten: &quot;&#xD;
					+ getAbsoluteFilePath());&#xD;
		}&#xD;
&#xD;
		try {&#xD;
			km = KeyManager.getInstance(ctx);&#xD;
&#xD;
			fos = new FileOutputStream(getAbsoluteFilePath());&#xD;
			cos = new CipherOutputStream(fos, km.getEncryptionCipher());&#xD;
&#xD;
			cos.write(this.data);&#xD;
			cos.flush();&#xD;
			cos.close();&#xD;
		} catch (FileNotFoundException e) {&#xD;
			e.printStackTrace();&#xD;
		} catch (IOException e) {&#xD;
			e.printStackTrace();&#xD;
		}&#xD;
&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RW9rYO8yEeOflObM3pPwYg" name="hasRecording" specification="_Q_GlAO8yEeOflObM3pPwYg">
                <ownedParameter xmi:id="_RW9rYe8yEeOflObM3pPwYg" direction="return">
                  <name xsi:nil="true"/>
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>return new File(getAbsoluteFilePath()).exists() || this.data != null;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RW9rYu8yEeOflObM3pPwYg" name="getAbsoluteFilePath" specification="_Q_HMEO8yEeOflObM3pPwYg">
                <ownedParameter xmi:id="_RW9rY-8yEeOflObM3pPwYg" direction="return">
                  <name xsi:nil="true"/>
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>return this.filePath + &quot;/&quot; + this.name;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_lrwWAu_9EeOro6Du1a1f1w" name="getDataFromObject" specification="_lq3lMO_9EeOro6Du1a1f1w">
                <ownedParameter xmi:id="_lrwWA-_9EeOro6Du1a1f1w" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_lrwWBO_9EeOro6Du1a1f1w" value="*"/>
                </ownedParameter>
                <language>java</language>
                <body>double[] result = new double[this.data.length];&#xD;
&#xD;
		for (int i = 0; i &lt; result.length; i++) {&#xD;
			result[i] = (((double) this.data[i]) / 128) - 1;&#xD;
		}&#xD;
&#xD;
		return result;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_lrw9EO_9EeOro6Du1a1f1w" name="loadDataFromFile" specification="_lq4zUO_9EeOro6Du1a1f1w">
                <language>java</language>
                <body>KeyManager km = null;&#xD;
		FileInputStream fis = null;&#xD;
		CipherInputStream cis = null;&#xD;
&#xD;
		if (!hasRecording()) {&#xD;
			Log.d(TAG, &quot;File does not exist: &quot; + this.getAbsoluteFilePath());&#xD;
			return;&#xD;
		}&#xD;
&#xD;
		try {&#xD;
			km = KeyManager.getInstance(ctx);&#xD;
&#xD;
			fis = new FileInputStream(getAbsoluteFilePath());&#xD;
			cis = new CipherInputStream(fis, km.getDecryptionCipher());&#xD;
&#xD;
			data = new byte[(int) fis.getChannel().size()];&#xD;
&#xD;
			int i = 0, val = 0;&#xD;
			while ((val = cis.read()) != -1) {&#xD;
				data[i++] = (byte) val;&#xD;
				i++;&#xD;
			}&#xD;
&#xD;
			cis.close();&#xD;
		} catch (Exception e) {&#xD;
			e.printStackTrace();&#xD;
			data = null;&#xD;
		}&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_lrxkIO_9EeOro6Du1a1f1w" name="generateNoiseFileName" specification="_lq5aYO_9EeOro6Du1a1f1w">
                <ownedParameter xmi:id="_lrxkIe_9EeOro6Du1a1f1w" name="ctx" type="_RPULQe8yEeOflObM3pPwYg"/>
                <ownedParameter xmi:id="_lrxkIu_9EeOro6Du1a1f1w" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <language>java</language>
                <body>String fn = null;&#xD;
&#xD;
		do {&#xD;
			fn = &quot;noise&quot; + new Random().nextInt() + &quot;.3gp&quot;;&#xD;
&#xD;
		} while (!new File(ctx.getFilesDir() + &quot;/&quot; + fn).exists());&#xD;
&#xD;
		return fn;&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_lrxkI-_9EeOro6Du1a1f1w" name="getNoiseDAOs" specification="_lq6BcO_9EeOro6Du1a1f1w">
                <ownedParameter xmi:id="_lrxkJO_9EeOro6Du1a1f1w" name="ctx" type="_RPULQe8yEeOflObM3pPwYg"/>
                <ownedParameter xmi:id="_lrxkJe_9EeOro6Du1a1f1w" type="_RQMVAe8yEeOflObM3pPwYg" direction="return"/>
                <language>java</language>
                <body>File dir = ctx.getFilesDir();&#xD;
		LinkedList&lt;VoiceDAO> noises = new LinkedList&lt;VoiceDAO>();&#xD;
&#xD;
		for (String fn : dir.list()) {&#xD;
			if (fn.startsWith(&quot;noise&quot;) &amp;&amp; fn.endsWith(&quot;.3gp&quot;)) {&#xD;
				Log.d(TAG, &quot;Added noise file: &quot; + fn);&#xD;
				noises.add(new VoiceDAO(ctx, fn));&#xD;
			}&#xD;
		}&#xD;
&#xD;
		return noises;&#xD;
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_Q_CTkO8yEeOflObM3pPwYg" name="startRecord" method="_RW8dQO8yEeOflObM3pPwYg"/>
              <ownedOperation xmi:id="_Q_C6oO8yEeOflObM3pPwYg" name="stopRecord" method="_RW8dQe8yEeOflObM3pPwYg"/>
              <ownedOperation xmi:id="_Q_DhsO8yEeOflObM3pPwYg" name="getSampleRate" isStatic="true" method="_RW8dQu8yEeOflObM3pPwYg">
                <ownedParameter xmi:id="_Q_Dhse8yEeOflObM3pPwYg" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_Q_EIwO8yEeOflObM3pPwYg" name="getData" method="_RW9EUO8yEeOflObM3pPwYg">
                <ownedComment xmi:id="_RXaXU-8yEeOflObM3pPwYg">
                  <body>Retrieves the recording data from the record saved in internal memory.&#xD;
	 * &#xD;
	 * @return recording data from the record saved in internal memory.</body>
                </ownedComment>
                <ownedParameter xmi:id="_lqqKRu_9EeOro6Du1a1f1w" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_lqqKle_9EeOro6Du1a1f1w" value="*"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_Q_F98O8yEeOflObM3pPwYg" name="saveRecording" visibility="public" method="_RW9EU-8yEeOflObM3pPwYg"/>
              <ownedOperation xmi:id="_Q_GlAO8yEeOflObM3pPwYg" name="hasRecording" method="_RW9rYO8yEeOflObM3pPwYg">
                <ownedComment xmi:id="_RXa-Ye8yEeOflObM3pPwYg">
                  <body>Checks if the recording file exists in the file system.&#xD;
	 * &#xD;
	 * @return true if the file exists, false otherwise.</body>
                </ownedComment>
                <ownedParameter xmi:id="_Q_GlAe8yEeOflObM3pPwYg" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_Q_HMEO8yEeOflObM3pPwYg" name="getAbsoluteFilePath" visibility="private" method="_RW9rYu8yEeOflObM3pPwYg">
                <ownedParameter xmi:id="_Q_HMEe8yEeOflObM3pPwYg" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_RS-jQO8yEeOflObM3pPwYg" name="VoiceDAO" method="_RW72MO8yEeOflObM3pPwYg">
                <eAnnotations xmi:id="_RS_KUO8yEeOflObM3pPwYg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_RS_KUe8yEeOflObM3pPwYg" key="create"/>
                </eAnnotations>
                <ownedComment xmi:id="_lr0AYO_9EeOro6Du1a1f1w">
                  <body>Public constructor of voice object.&#xD;
	 * &#xD;
	 * This class can be used for recording, saving, and loading data from&#xD;
	 * filesystem.&#xD;
	 * &#xD;
	 * @param context&#xD;
	 *            application context used for file management.&#xD;
	 * @param fileName&#xD;
	 *            name of the recording.</body>
                </ownedComment>
                <ownedParameter xmi:id="_RS-jQe8yEeOflObM3pPwYg" name="context" type="_RPULQe8yEeOflObM3pPwYg"/>
                <ownedParameter xmi:id="_RS-jQu8yEeOflObM3pPwYg" name="fileName">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
                <ownedParameter xmi:id="_RS_KUu8yEeOflObM3pPwYg" type="_Q-_QQO8yEeOflObM3pPwYg" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_lq3lMO_9EeOro6Du1a1f1w" name="getDataFromObject" visibility="private" method="_lrwWAu_9EeOro6Du1a1f1w">
                <ownedComment xmi:id="_lr0ncO_9EeOro6Du1a1f1w">
                  <body>Gets data from object and converts it to the appropriate format.&#xD;
	 * &#xD;
	 * @return recording data.</body>
                </ownedComment>
                <ownedParameter xmi:id="_lq4MQO_9EeOro6Du1a1f1w" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                  <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_lq4MQe_9EeOro6Du1a1f1w" value="*"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_lq4zUO_9EeOro6Du1a1f1w" name="loadDataFromFile" visibility="private" method="_lrw9EO_9EeOro6Du1a1f1w">
                <ownedComment xmi:id="_lr0nce_9EeOro6Du1a1f1w">
                  <body>Loads recording from file.</body>
                </ownedComment>
              </ownedOperation>
              <ownedOperation xmi:id="_lq5aYO_9EeOro6Du1a1f1w" name="generateNoiseFileName" isStatic="true" method="_lrxkIO_9EeOro6Du1a1f1w">
                <ownedComment xmi:id="_lr0ncu_9EeOro6Du1a1f1w">
                  <body>Generates an unique noise file name.&#xD;
	 * &#xD;
	 * @param ctx&#xD;
	 *            Context used for current path.&#xD;
	 * @return The noise file name.</body>
                </ownedComment>
                <ownedParameter xmi:id="_lq5aYe_9EeOro6Du1a1f1w" name="ctx" type="_RPULQe8yEeOflObM3pPwYg"/>
                <ownedParameter xmi:id="_lrkIwO_9EeOro6Du1a1f1w" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_lq6BcO_9EeOro6Du1a1f1w" name="getNoiseDAOs" isStatic="true" method="_lrxkI-_9EeOro6Du1a1f1w">
                <ownedParameter xmi:id="_lq6Bce_9EeOro6Du1a1f1w" name="ctx" type="_RPULQe8yEeOflObM3pPwYg"/>
                <ownedParameter xmi:id="_lq6ogO_9EeOro6Du1a1f1w" type="_RQMVAe8yEeOflObM3pPwYg" direction="return"/>
              </ownedOperation>
              <nestedClassifier xmi:type="uml:Class" xmi:id="_Q_HzIO8yEeOflObM3pPwYg" name="RecordingThread" visibility="private">
                <generalization xmi:id="_RS_xYO8yEeOflObM3pPwYg" general="_RSc-0O8yEeOflObM3pPwYg"/>
                <ownedAttribute xmi:id="_RVuVQO8yEeOflObM3pPwYg" name="recording" visibility="private">
                  <eAnnotations xmi:id="_RVuVQe8yEeOflObM3pPwYg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                    <details xmi:id="_RVuVQu8yEeOflObM3pPwYg" key="volatile"/>
                  </eAnnotations>
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_RVuVQ-8yEeOflObM3pPwYg" value="false"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_RTnccO8yEeOflObM3pPwYg" name="threadData" visibility="private" type="_RQLt8e8yEeOflObM3pPwYg">
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_RToDgO8yEeOflObM3pPwYg" value="new ArrayList&lt;Byte>()"/>
                </ownedAttribute>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RW-ScO8yEeOflObM3pPwYg" name="startThread" specification="_Q_HzIe8yEeOflObM3pPwYg">
                  <language>java</language>
                  <body>this.recording = true;&#xD;
			this.start();&#xD;
		</body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RW-Sce8yEeOflObM3pPwYg" name="stopThread" specification="_Q_IaMO8yEeOflObM3pPwYg">
                  <language>java</language>
                  <body>try {&#xD;
				this.recording = false;&#xD;
				this.join();&#xD;
			} catch (InterruptedException e) {&#xD;
				e.printStackTrace();&#xD;
			}&#xD;
		</body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RW-Scu8yEeOflObM3pPwYg" name="run" specification="_Q_JBQO8yEeOflObM3pPwYg">
                  <language>java</language>
                  <body>int read = 0;&#xD;
			byte buffer[] = new byte[minBufferSize];&#xD;
&#xD;
			while (recording == true) {&#xD;
				read = mRecorder.read(buffer, 0, buffer.length);&#xD;
&#xD;
				if (read != AudioRecord.ERROR_INVALID_OPERATION) {&#xD;
					addData(buffer);&#xD;
				} else {&#xD;
					Log.w(TAG, &quot;AudioRecord error!&quot;);&#xD;
				}&#xD;
			}&#xD;
		</body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_lrw9Ee_9EeOro6Du1a1f1w" name="addData" specification="_lriTkO_9EeOro6Du1a1f1w">
                  <ownedParameter xmi:id="_lrw9Eu_9EeOro6Du1a1f1w" name="data">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#byte"/>
                    <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_lrw9E-_9EeOro6Du1a1f1w" value="*"/>
                  </ownedParameter>
                  <language>java</language>
                  <body>for (byte b : data) {&#xD;
				this.threadData.add(b);&#xD;
			}&#xD;
		</body>
                </ownedBehavior>
                <ownedOperation xmi:id="_Q_HzIe8yEeOflObM3pPwYg" name="startThread" method="_RW-ScO8yEeOflObM3pPwYg"/>
                <ownedOperation xmi:id="_Q_IaMO8yEeOflObM3pPwYg" name="stopThread" method="_RW-Sce8yEeOflObM3pPwYg"/>
                <ownedOperation xmi:id="_Q_JBQO8yEeOflObM3pPwYg" name="run" method="_RW-Scu8yEeOflObM3pPwYg"/>
                <ownedOperation xmi:id="_lriTkO_9EeOro6Du1a1f1w" name="addData" visibility="private" method="_lrw9Ee_9EeOro6Du1a1f1w">
                  <ownedParameter xmi:id="_lriTke_9EeOro6Du1a1f1w" name="data">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#byte"/>
                    <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_lrjhsO_9EeOro6Du1a1f1w" value="*"/>
                  </ownedParameter>
                </ownedOperation>
              </nestedClassifier>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_Q_Pu8O8yEeOflObM3pPwYg" name="VoiceService">
              <ownedComment xmi:id="_RXa-Yu8yEeOflObM3pPwYg">
                <body>Observable service which needs to keep track of the user authentication&#xD;
state. When requested, the UAService will require to know the current state&#xD;
of this observable.&#xD;
&#xD;
@author cristi&#xD;
 *</body>
              </ownedComment>
              <generalization xmi:id="_RRCpkO8yEeOflObM3pPwYg" general="_Q-m1wO8yEeOflObM3pPwYg"/>
              <ownedAttribute xmi:id="_RVwKcO8yEeOflObM3pPwYg" name="voiceThread" visibility="private" type="_Q_SLMO8yEeOflObM3pPwYg" association="_RZASwe8yEeOflObM3pPwYg">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_RVwxgO8yEeOflObM3pPwYg" value="null"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_RVwxgu8yEeOflObM3pPwYg" name="TAG" visibility="private" isLeaf="true" isStatic="true" isReadOnly="true">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_RVxYkO8yEeOflObM3pPwYg" value="&quot;AuthVoiceService&quot;"/>
              </ownedAttribute>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RW_gkO8yEeOflObM3pPwYg" name="onCreate" specification="_Q_Q9EO8yEeOflObM3pPwYg">
                <language>java</language>
                <body>Log.i(TAG, &quot;onCreate&quot;);&#xD;
&#xD;
		this.initialWeight = 10000;&#xD;
&#xD;
		if (voiceThread == null) {&#xD;
			voiceThread = new AuthenticatorThread();&#xD;
			voiceThread.start();&#xD;
		}&#xD;
&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RW_gke8yEeOflObM3pPwYg" name="onDestroy" specification="_Q_RkIO8yEeOflObM3pPwYg">
                <language>java</language>
                <body>Log.i(TAG, &quot;onDestroy&quot;);&#xD;
&#xD;
		if (voiceThread != null) {&#xD;
			voiceThread.stopThread();&#xD;
			voiceThread = null;&#xD;
		}&#xD;
&#xD;
		this.decayTimer.stopTimer();&#xD;
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_Q_Q9EO8yEeOflObM3pPwYg" name="onCreate" method="_RW_gkO8yEeOflObM3pPwYg"/>
              <ownedOperation xmi:id="_Q_RkIO8yEeOflObM3pPwYg" name="onDestroy" method="_RW_gke8yEeOflObM3pPwYg"/>
              <nestedClassifier xmi:type="uml:Class" xmi:id="_Q_SLMO8yEeOflObM3pPwYg" name="AuthenticatorThread" visibility="private">
                <ownedComment xmi:id="_RXa-Y-8yEeOflObM3pPwYg">
                  <body>Thread used to periodically authenticate the user.&#xD;
	 * &#xD;
	 * @author cristi&#xD;
	 *</body>
                </ownedComment>
                <generalization xmi:id="_RTCNoO8yEeOflObM3pPwYg" general="_RSc-0O8yEeOflObM3pPwYg"/>
                <ownedAttribute xmi:id="_RVxYke8yEeOflObM3pPwYg" name="AUTH_PERIOD" visibility="private" isLeaf="true" isStatic="true" isReadOnly="true">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_RVx_oO8yEeOflObM3pPwYg" value="7 * 1000"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_RVx_oe8yEeOflObM3pPwYg" name="RECORD_TIME" visibility="private" isLeaf="true" isStatic="true" isReadOnly="true">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_RVx_ou8yEeOflObM3pPwYg" value="3 * 1000"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_RVx_o-8yEeOflObM3pPwYg" name="THRESHOLD" visibility="private" isLeaf="true" isStatic="true" isReadOnly="true">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_RVymsO8yEeOflObM3pPwYg" value="2"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_RVymse8yEeOflObM3pPwYg" name="TAG" visibility="private" isLeaf="true" isStatic="true" isReadOnly="true">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_RVymsu8yEeOflObM3pPwYg" value="&quot;VoiceServiceThread&quot;"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_RVzNwO8yEeOflObM3pPwYg" name="stop" visibility="private">
                  <eAnnotations xmi:id="_RVzNwe8yEeOflObM3pPwYg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                    <details xmi:id="_RVzNwu8yEeOflObM3pPwYg" key="volatile"/>
                  </eAnnotations>
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_RVz00e8yEeOflObM3pPwYg" name="mediator" visibility="private" type="_Q8f88O8yEeOflObM3pPwYg" association="_lr4R0O_9EeOro6Du1a1f1w"/>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RXAHoO8yEeOflObM3pPwYg" name="AuthenticatorThread" specification="_Q_TZUO8yEeOflObM3pPwYg">
                  <ownedParameter xmi:id="_RXAHoe8yEeOflObM3pPwYg" type="_Q_SLMO8yEeOflObM3pPwYg" direction="return">
                    <name xsi:nil="true"/>
                  </ownedParameter>
                  <language>java</language>
                  <body>this.stop = false;&#xD;
		</body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RXAHou8yEeOflObM3pPwYg" name="run" specification="_Q_UAYu8yEeOflObM3pPwYg">
                  <language>java</language>
                  <body>this.mediator = new VoiceAuthMediator(VoiceService.this);&#xD;
&#xD;
			// sampling loop.&#xD;
			while (stop != true) {&#xD;
				try {&#xD;
					Log.d(TAG, &quot;Start loop.&quot;);&#xD;
					Thread.sleep(AUTH_PERIOD);&#xD;
&#xD;
					VoiceDAO record = recordData();&#xD;
&#xD;
					Log.d(TAG, &quot;Getting score.&quot;);&#xD;
					if (record == null || !record.hasRecording()) {&#xD;
						Log.e(TAG, &quot;record not created!&quot;);&#xD;
						continue;&#xD;
					}&#xD;
&#xD;
					// sending match score.&#xD;
					double dscore = this.mediator.getMatch(record);&#xD;
					if (dscore == -1) {&#xD;
						Log.d(TAG, &quot;Noise detected, continuing decay.&quot;);&#xD;
						continue;&#xD;
					}&#xD;
					&#xD;
					if (dscore > THRESHOLD) {&#xD;
						dscore = THRESHOLD;&#xD;
					}&#xD;
&#xD;
					score = (int) Math.floor((1 - dscore / THRESHOLD) * 100);&#xD;
					sendDecayedScore(true);&#xD;
&#xD;
					// starts the decay process&#xD;
					VoiceService.this.startDecay();&#xD;
&#xD;
				} catch (InterruptedException e) {&#xD;
					e.printStackTrace();&#xD;
				}&#xD;
			}&#xD;
		</body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RXAHo-8yEeOflObM3pPwYg" name="stopThread" specification="_Q_VOge8yEeOflObM3pPwYg">
                  <language>java</language>
                  <body>try {&#xD;
				this.stop = true;&#xD;
				this.join();&#xD;
			} catch (InterruptedException e) {&#xD;
				e.printStackTrace();&#xD;
			}&#xD;
		</body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RXAusO8yEeOflObM3pPwYg" name="recordData" specification="_Q_VOgu8yEeOflObM3pPwYg">
                  <ownedParameter xmi:id="_RXAuse8yEeOflObM3pPwYg" type="_Q-_QQO8yEeOflObM3pPwYg" direction="return">
                    <name xsi:nil="true"/>
                  </ownedParameter>
                  <language>java</language>
                  <body>Log.d(TAG, &quot;recordData+&quot;);&#xD;
&#xD;
			VoiceDAO record = new VoiceDAO(VoiceService.this, &quot;challenge.3gp&quot;);&#xD;
			&#xD;
			try {&#xD;
				record.startRecord();&#xD;
				Thread.sleep(RECORD_TIME);&#xD;
				record.stopRecord();&#xD;
			} catch (InterruptedException e) {&#xD;
				e.printStackTrace();&#xD;
			}&#xD;
&#xD;
			Log.d(TAG, &quot;recordData- &quot; + record);&#xD;
			return record;&#xD;
		</body>
                </ownedBehavior>
                <ownedOperation xmi:id="_Q_TZUO8yEeOflObM3pPwYg" name="AuthenticatorThread" method="_RXAHoO8yEeOflObM3pPwYg">
                  <eAnnotations xmi:id="_Q_TZUe8yEeOflObM3pPwYg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                    <details xmi:id="_Q_UAYO8yEeOflObM3pPwYg" key="create"/>
                  </eAnnotations>
                  <ownedParameter xmi:id="_Q_UAYe8yEeOflObM3pPwYg" type="_Q_SLMO8yEeOflObM3pPwYg" direction="return"/>
                </ownedOperation>
                <ownedOperation xmi:id="_Q_UAYu8yEeOflObM3pPwYg" name="run" method="_RXAHou8yEeOflObM3pPwYg"/>
                <ownedOperation xmi:id="_Q_VOge8yEeOflObM3pPwYg" name="stopThread" method="_RXAHo-8yEeOflObM3pPwYg"/>
                <ownedOperation xmi:id="_Q_VOgu8yEeOflObM3pPwYg" name="recordData" visibility="private" method="_RXAusO8yEeOflObM3pPwYg">
                  <ownedComment xmi:id="_RXblcO8yEeOflObM3pPwYg">
                    <body>*&#xD;
		 * Auxiliary method used to record a data sample.&#xD;
		 * &#xD;
		 * @return</body>
                  </ownedComment>
                  <ownedParameter xmi:id="_RRCCgO8yEeOflObM3pPwYg" type="_Q-_QQO8yEeOflObM3pPwYg" direction="return"/>
                </ownedOperation>
              </nestedClassifier>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_RYnRMO8yEeOflObM3pPwYg" name="" memberEnd="_RYnRMe8yEeOflObM3pPwYg _RUK2EO8yEeOflObM3pPwYg">
              <ownedEnd xmi:id="_RYnRMe8yEeOflObM3pPwYg" name="" type="_Q8f88O8yEeOflObM3pPwYg" association="_RYnRMO8yEeOflObM3pPwYg"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_RY92ge8yEeOflObM3pPwYg" name="" memberEnd="_RY92gu8yEeOflObM3pPwYg _RVlyYO8yEeOflObM3pPwYg">
              <ownedEnd xmi:id="_RY92gu8yEeOflObM3pPwYg" name="" type="_Q-_QQO8yEeOflObM3pPwYg" association="_RY92ge8yEeOflObM3pPwYg"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_RY_EoO8yEeOflObM3pPwYg" name="" memberEnd="_RY_Eoe8yEeOflObM3pPwYg _RVmZce8yEeOflObM3pPwYg">
              <ownedEnd xmi:id="_RY_Eoe8yEeOflObM3pPwYg" name="" type="_Q-_QQO8yEeOflObM3pPwYg" association="_RY_EoO8yEeOflObM3pPwYg"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_RY_rse8yEeOflObM3pPwYg" name="" memberEnd="_RY_rsu8yEeOflObM3pPwYg _RVtHIO8yEeOflObM3pPwYg">
              <ownedEnd xmi:id="_RY_rsu8yEeOflObM3pPwYg" name="" type="_Q-_QQO8yEeOflObM3pPwYg" association="_RY_rse8yEeOflObM3pPwYg"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_RZASwe8yEeOflObM3pPwYg" name="" memberEnd="_RZASwu8yEeOflObM3pPwYg _RVwKcO8yEeOflObM3pPwYg">
              <ownedEnd xmi:id="_RZASwu8yEeOflObM3pPwYg" name="" type="_Q_Pu8O8yEeOflObM3pPwYg" association="_RZASwe8yEeOflObM3pPwYg"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_ixVMQO_9EeOro6Du1a1f1w" name="" memberEnd="_ixVMQe_9EeOro6Du1a1f1w _RUJn8O8yEeOflObM3pPwYg">
              <ownedEnd xmi:id="_ixVMQe_9EeOro6Du1a1f1w" name="" type="_Q8f88O8yEeOflObM3pPwYg" association="_ixVMQO_9EeOro6Du1a1f1w"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_lr4R0O_9EeOro6Du1a1f1w" name="" memberEnd="_lr4R0e_9EeOro6Du1a1f1w _RVz00e8yEeOflObM3pPwYg">
              <ownedEnd xmi:id="_lr4R0e_9EeOro6Du1a1f1w" name="" type="_Q_SLMO8yEeOflObM3pPwYg" association="_lr4R0O_9EeOro6Du1a1f1w"/>
            </packagedElement>
          </packagedElement>
          <packagedElement xmi:type="uml:Package" xmi:id="_Q1_sUO8yEeOflObM3pPwYg" name="dummy">
            <packagedElement xmi:type="uml:Class" xmi:id="_Q86MoO8yEeOflObM3pPwYg" name="DummyAuthMediator">
              <ownedAttribute xmi:id="_RUZfkO8yEeOflObM3pPwYg" name="rand" visibility="private" type="_RQUQ0O8yEeOflObM3pPwYg" association="_RYptce8yEeOflObM3pPwYg">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_RUZfke8yEeOflObM3pPwYg" value="null"/>
              </ownedAttribute>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RWpiUO8yEeOflObM3pPwYg" name="DummyAuthMediator" specification="_Q87awO8yEeOflObM3pPwYg">
                <ownedParameter xmi:id="_RWpiUe8yEeOflObM3pPwYg" type="_Q86MoO8yEeOflObM3pPwYg" direction="return"/>
                <language>java</language>
                <body>this.rand = new Random();&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RWpiUu8yEeOflObM3pPwYg" name="getMatch" specification="_Q88B0e8yEeOflObM3pPwYg">
                <ownedParameter xmi:id="_RWpiU-8yEeOflObM3pPwYg" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
                <language>java</language>
                <body>return this.rand.nextInt(100);&#xD;
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_Q87awO8yEeOflObM3pPwYg" name="DummyAuthMediator" method="_RWpiUO8yEeOflObM3pPwYg">
                <eAnnotations xmi:id="_Q87awe8yEeOflObM3pPwYg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_Q87awu8yEeOflObM3pPwYg" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_Q88B0O8yEeOflObM3pPwYg" type="_Q86MoO8yEeOflObM3pPwYg" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_Q88B0e8yEeOflObM3pPwYg" name="getMatch" method="_RWpiUu8yEeOflObM3pPwYg">
                <ownedParameter xmi:id="_Q88o4O8yEeOflObM3pPwYg" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                </ownedParameter>
              </ownedOperation>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_Q893AO8yEeOflObM3pPwYg" name="DummyService">
              <generalization xmi:id="_RQWGAO8yEeOflObM3pPwYg" general="_Q-m1wO8yEeOflObM3pPwYg"/>
              <ownedAttribute xmi:id="_RUatsu8yEeOflObM3pPwYg" name="authThread" visibility="private" type="_Q9Cvge8yEeOflObM3pPwYg" association="_RYq7ke8yEeOflObM3pPwYg">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_RUbUwO8yEeOflObM3pPwYg" value="null"/>
              </ownedAttribute>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RWqJYO8yEeOflObM3pPwYg" name="onCreate" specification="_Q8_FIO8yEeOflObM3pPwYg">
                <language>java</language>
                <body>Log.i(&quot;AuthDummyService&quot;, &quot;onCreate&quot;);&#xD;
&#xD;
		this.initialWeight = 10000;&#xD;
&#xD;
		if (authThread == null) {&#xD;
			authThread = new AuthenticatorThread();&#xD;
			authThread.start();&#xD;
		}&#xD;
&#xD;
	</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RWqJYe8yEeOflObM3pPwYg" name="onDestroy" specification="_Q9A6Uu8yEeOflObM3pPwYg">
                <language>java</language>
                <body>Log.i(&quot;AuthDummyService&quot;, &quot;onDestroy&quot;);&#xD;
&#xD;
		if (authThread != null) {&#xD;
			authThread.stopThread();&#xD;
			authThread = null;&#xD;
		}&#xD;
&#xD;
		this.decayTimer.stopTimer();&#xD;
	</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_Q8_FIO8yEeOflObM3pPwYg" name="onCreate" method="_RWqJYO8yEeOflObM3pPwYg"/>
              <ownedOperation xmi:id="_Q9A6Uu8yEeOflObM3pPwYg" name="onDestroy" method="_RWqJYe8yEeOflObM3pPwYg"/>
              <nestedClassifier xmi:type="uml:Class" xmi:id="_Q9Cvge8yEeOflObM3pPwYg" name="AuthenticatorThread" visibility="private">
                <ownedComment xmi:id="_RXWs8O8yEeOflObM3pPwYg">
                  <body>Thread used to periodically authenticate the user.&#xD;
	 * &#xD;
	 * @author cristi&#xD;
	 *</body>
                </ownedComment>
                <generalization xmi:id="_RSeM8O8yEeOflObM3pPwYg" general="_RSc-0O8yEeOflObM3pPwYg"/>
                <ownedAttribute xmi:id="_RUb70O8yEeOflObM3pPwYg" name="AUTH_PERIOD" visibility="private" isLeaf="true" isStatic="true" isReadOnly="true">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_RUb70e8yEeOflObM3pPwYg" value="5000"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_RUdJ8O8yEeOflObM3pPwYg" name="stop" visibility="private">
                  <eAnnotations xmi:id="_RUdxAO8yEeOflObM3pPwYg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                    <details xmi:id="_RUdxAe8yEeOflObM3pPwYg" key="volatile"/>
                  </eAnnotations>
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_RUaGoe8yEeOflObM3pPwYg" name="dummyDAO" visibility="private" type="_Q86MoO8yEeOflObM3pPwYg" association="_RYqUge8yEeOflObM3pPwYg">
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_RUatsO8yEeOflObM3pPwYg" value="null"/>
                </ownedAttribute>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RWqJYu8yEeOflObM3pPwYg" name="AuthenticatorThread" specification="_Q9D9oO8yEeOflObM3pPwYg">
                  <ownedParameter xmi:id="_RWqJY-8yEeOflObM3pPwYg" type="_Q9Cvge8yEeOflObM3pPwYg" direction="return">
                    <name xsi:nil="true"/>
                  </ownedParameter>
                  <language>java</language>
                  <body>this.stop = false;&#xD;
		</body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RWqwcO8yEeOflObM3pPwYg" name="run" specification="_Q9Ekse8yEeOflObM3pPwYg">
                  <language>java</language>
                  <body>if (dummyDAO == null) {&#xD;
				dummyDAO = new DummyAuthMediator();&#xD;
			}&#xD;
&#xD;
			// authentication loop.&#xD;
			while (stop != true) {&#xD;
				try {&#xD;
					Thread.sleep(AUTH_PERIOD);&#xD;
&#xD;
					score = dummyDAO.getMatch();&#xD;
					sendDecayedScore(true);&#xD;
&#xD;
					// start decaying process after collecting data&#xD;
					DummyService.this.startDecay();&#xD;
&#xD;
				} catch (InterruptedException e) {&#xD;
					e.printStackTrace();&#xD;
				}&#xD;
			}&#xD;
		</body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RWqwce8yEeOflObM3pPwYg" name="stopThread" specification="_Q9GZ4O8yEeOflObM3pPwYg">
                  <language>java</language>
                  <body>try {&#xD;
				this.stop = true;&#xD;
				this.join();&#xD;
			} catch (InterruptedException e) {&#xD;
				e.printStackTrace();&#xD;
			}&#xD;
		</body>
                </ownedBehavior>
                <ownedOperation xmi:id="_Q9D9oO8yEeOflObM3pPwYg" name="AuthenticatorThread" method="_RWqJYu8yEeOflObM3pPwYg">
                  <eAnnotations xmi:id="_Q9D9oe8yEeOflObM3pPwYg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                    <details xmi:id="_Q9D9ou8yEeOflObM3pPwYg" key="create"/>
                  </eAnnotations>
                  <ownedParameter xmi:id="_Q9EksO8yEeOflObM3pPwYg" type="_Q9Cvge8yEeOflObM3pPwYg" direction="return"/>
                </ownedOperation>
                <ownedOperation xmi:id="_Q9Ekse8yEeOflObM3pPwYg" name="run" method="_RWqwcO8yEeOflObM3pPwYg"/>
                <ownedOperation xmi:id="_Q9GZ4O8yEeOflObM3pPwYg" name="stopThread" method="_RWqwce8yEeOflObM3pPwYg"/>
              </nestedClassifier>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_RYptce8yEeOflObM3pPwYg" name="" memberEnd="_RYptcu8yEeOflObM3pPwYg _RUZfkO8yEeOflObM3pPwYg">
              <ownedEnd xmi:id="_RYptcu8yEeOflObM3pPwYg" name="" type="_Q86MoO8yEeOflObM3pPwYg" association="_RYptce8yEeOflObM3pPwYg"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_RYqUge8yEeOflObM3pPwYg" name="" memberEnd="_RYqUgu8yEeOflObM3pPwYg _RUaGoe8yEeOflObM3pPwYg">
              <ownedEnd xmi:id="_RYqUgu8yEeOflObM3pPwYg" name="" type="_Q9Cvge8yEeOflObM3pPwYg" association="_RYqUge8yEeOflObM3pPwYg"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Association" xmi:id="_RYq7ke8yEeOflObM3pPwYg" name="" memberEnd="_RYq7ku8yEeOflObM3pPwYg _RUatsu8yEeOflObM3pPwYg">
              <ownedEnd xmi:id="_RYq7ku8yEeOflObM3pPwYg" name="" type="_Q893AO8yEeOflObM3pPwYg" association="_RYq7ke8yEeOflObM3pPwYg"/>
            </packagedElement>
          </packagedElement>
          <packagedElement xmi:type="uml:Class" xmi:id="_Q8KlwO8yEeOflObM3pPwYg" name="AuthMech">
            <ownedComment xmi:id="_RXUQsu8yEeOflObM3pPwYg">
              <body>Class used for communication from the UserAuthenticator to an&#xD;
AuthMechService. It corresponds to one authentication mechanism service. It&#xD;
is binded by UAService.&#xD;
&#xD;
&#xD;
@author cristi&#xD;
 *</body>
            </ownedComment>
            <ownedAttribute xmi:id="_RT-BwO8yEeOflObM3pPwYg" name="uaservice" visibility="private" type="_RQAu0O8yEeOflObM3pPwYg" association="_RYhxoe8yEeOflObM3pPwYg">
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_RT-o0O8yEeOflObM3pPwYg" value="null"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_RT-o0u8yEeOflObM3pPwYg" name="mechServiceClass" visibility="private" type="_RSO8YO8yEeOflObM3pPwYg" association="_RYi_we8yEeOflObM3pPwYg">
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_RT_28O8yEeOflObM3pPwYg" value="null"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_RT_28u8yEeOflObM3pPwYg" name="boundService" visibility="private">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_RUAeAO8yEeOflObM3pPwYg" value="false"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_RUAeAu8yEeOflObM3pPwYg" name="sender" visibility="private" type="_RPYcse8yEeOflObM3pPwYg" association="_RYjm0e8yEeOflObM3pPwYg">
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_RUBFEO8yEeOflObM3pPwYg" value="null"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_RUBsIO8yEeOflObM3pPwYg" name="receiver" visibility="private" type="_RPYcse8yEeOflObM3pPwYg" association="_RYk08O8yEeOflObM3pPwYg">
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_RUBsIe8yEeOflObM3pPwYg" value="new Messenger(new IncomingHandler(this))"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_RUCTMe8yEeOflObM3pPwYg" name="mechConfidence" visibility="private">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_RUC6QO8yEeOflObM3pPwYg" value="0"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_RUDhUO8yEeOflObM3pPwYg" name="mechWeight" visibility="private">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_RUDhUe8yEeOflObM3pPwYg" value="0"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_RUEvcO8yEeOflObM3pPwYg" name="uaServiceAuthConn" visibility="private" type="_RPWAce8yEeOflObM3pPwYg" association="_RYlcAO8yEeOflObM3pPwYg">
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_RUEvce8yEeOflObM3pPwYg" value="new ServiceConnection() {&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;/**&#xD;&#xA;&#x9;&#x9; * When connected to the service we need to reference the sender and&#xD;&#xA;&#x9;&#x9; * register the receiver.&#xD;&#xA;&#x9;&#x9; */&#xD;&#xA;&#x9;&#x9;public void onServiceConnected(ComponentName className, IBinder service) {&#xD;&#xA;&#x9;&#x9;&#x9;sender = new Messenger(service);&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;try {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;Message msg = Message.obtain(null,&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;AuthMechService.AUTH_MECH_REGISTER);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;msg.replyTo = receiver;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;sender.send(msg);&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;} catch (RemoteException e) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;e.printStackTrace();&#xD;&#xA;&#x9;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;public void onServiceDisconnected(ComponentName className) {&#xD;&#xA;&#x9;&#x9;&#x9;sender = null;&#xD;&#xA;&#x9;&#x9;}&#xD;&#xA;&#x9;}"/>
            </ownedAttribute>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RWhmgO8yEeOflObM3pPwYg" name="AuthMech" specification="_RSQxkO8yEeOflObM3pPwYg">
              <ownedParameter xmi:id="_RWhmge8yEeOflObM3pPwYg" name="uaservice" type="_RQAu0O8yEeOflObM3pPwYg"/>
              <ownedParameter xmi:id="_RWhmgu8yEeOflObM3pPwYg" name="serviceClass" type="_RSO8YO8yEeOflObM3pPwYg"/>
              <ownedParameter xmi:id="_RWhmg-8yEeOflObM3pPwYg" type="_Q8KlwO8yEeOflObM3pPwYg" direction="return"/>
              <language>java</language>
              <body>this.uaservice = uaservice;&#xD;
		this.mechServiceClass = serviceClass;&#xD;
&#xD;
		this.doBindService();&#xD;
	</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RWi0oO8yEeOflObM3pPwYg" name="getConfidence" specification="_Q8OQIO8yEeOflObM3pPwYg">
              <ownedParameter xmi:id="_RWi0oe8yEeOflObM3pPwYg" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedParameter>
              <language>java</language>
              <body>return this.mechConfidence;&#xD;
	</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RWi0ou8yEeOflObM3pPwYg" name="getWeight" specification="_Q8PeQO8yEeOflObM3pPwYg">
              <ownedParameter xmi:id="_RWi0o-8yEeOflObM3pPwYg" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedParameter>
              <language>java</language>
              <body>return this.mechWeight;&#xD;
	</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RWi0pO8yEeOflObM3pPwYg" name="doBindService" specification="_Q8QFUO8yEeOflObM3pPwYg">
              <language>java</language>
              <body>uaservice.bindService(new Intent(uaservice, mechServiceClass),&#xD;
				uaServiceAuthConn, Context.BIND_AUTO_CREATE);&#xD;
		boundService = true;&#xD;
	</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RWjbsO8yEeOflObM3pPwYg" name="doUnbindService" specification="_RSR_sO8yEeOflObM3pPwYg">
              <ownedParameter xmi:id="_RWjbse8yEeOflObM3pPwYg" name="conn" type="_RPWAce8yEeOflObM3pPwYg"/>
              <language>java</language>
              <body>if (boundService) {&#xD;
			uaservice.unbindService(uaServiceAuthConn);&#xD;
			boundService = false;&#xD;
		}&#xD;
	</body>
            </ownedBehavior>
            <ownedOperation xmi:id="_Q8OQIO8yEeOflObM3pPwYg" name="getConfidence" method="_RWi0oO8yEeOflObM3pPwYg">
              <ownedComment xmi:id="_RXU3wO8yEeOflObM3pPwYg">
                <body>Retrieves the current confidence level of the mechanism.&#xD;
	 * &#xD;
	 * The current implementation does not request the mechanism service for a&#xD;
	 * confidence update. It is giving feedback based on the latest possible&#xD;
	 * calculated confidence according to the mechanism's collection rules.&#xD;
	 * &#xD;
	 * @return</body>
              </ownedComment>
              <ownedParameter xmi:id="_Q8O3MO8yEeOflObM3pPwYg" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedParameter>
            </ownedOperation>
            <ownedOperation xmi:id="_Q8PeQO8yEeOflObM3pPwYg" name="getWeight" method="_RWi0ou8yEeOflObM3pPwYg">
              <ownedComment xmi:id="_RXU3we8yEeOflObM3pPwYg">
                <body>Retrieves the current decaying weight used for calculating the&#xD;
	 * confidence.&#xD;
	 * &#xD;
	 * @return</body>
              </ownedComment>
              <ownedParameter xmi:id="_Q8PeQe8yEeOflObM3pPwYg" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedParameter>
            </ownedOperation>
            <ownedOperation xmi:id="_Q8QFUO8yEeOflObM3pPwYg" name="doBindService" method="_RWi0pO8yEeOflObM3pPwYg">
              <ownedComment xmi:id="_RXU3wu8yEeOflObM3pPwYg">
                <body>Method used to bind on corresponding mechanism service.&#xD;
	 * &#xD;
	 * This method registers the UAService as a client, and the messenger used&#xD;
	 * for receiving data from the mechanism service.</body>
              </ownedComment>
            </ownedOperation>
            <ownedOperation xmi:id="_RSQxkO8yEeOflObM3pPwYg" name="AuthMech" method="_RWhmgO8yEeOflObM3pPwYg">
              <eAnnotations xmi:id="_RSQxk-8yEeOflObM3pPwYg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                <details xmi:id="_RSQxlO8yEeOflObM3pPwYg" key="create"/>
              </eAnnotations>
              <ownedParameter xmi:id="_RSQxke8yEeOflObM3pPwYg" name="uaservice" type="_RQAu0O8yEeOflObM3pPwYg"/>
              <ownedParameter xmi:id="_RSQxku8yEeOflObM3pPwYg" name="serviceClass" type="_RSO8YO8yEeOflObM3pPwYg"/>
              <ownedParameter xmi:id="_RSQxle8yEeOflObM3pPwYg" type="_Q8KlwO8yEeOflObM3pPwYg" direction="return"/>
            </ownedOperation>
            <ownedOperation xmi:id="_RSR_sO8yEeOflObM3pPwYg" name="doUnbindService" method="_RWjbsO8yEeOflObM3pPwYg">
              <ownedComment xmi:id="_RXU3w-8yEeOflObM3pPwYg">
                <body>Method used to unBind service.&#xD;
	 * &#xD;
	 * @param conn&#xD;
	 *            service connection to unbind.</body>
              </ownedComment>
              <ownedParameter xmi:id="_RSR_se8yEeOflObM3pPwYg" name="conn" type="_RPWAce8yEeOflObM3pPwYg"/>
            </ownedOperation>
            <nestedClassifier xmi:type="uml:Class" xmi:id="_Q8R6gO8yEeOflObM3pPwYg" name="IncomingHandler" visibility="package">
              <eAnnotations xmi:id="_Q8R6ge8yEeOflObM3pPwYg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                <details xmi:id="_Q8R6gu8yEeOflObM3pPwYg" key="static"/>
              </eAnnotations>
              <ownedComment xmi:id="_RXU3xO8yEeOflObM3pPwYg">
                <body>Message handler in order to receive feedback from the mechanism service.&#xD;
	 * &#xD;
	 * @author cristi&#xD;
	 *</body>
              </ownedComment>
              <generalization xmi:id="_RST04u8yEeOflObM3pPwYg" general="_RPWnge8yEeOflObM3pPwYg"/>
              <ownedAttribute xmi:id="_RUFWge8yEeOflObM3pPwYg" name="TAG" visibility="private" isLeaf="true" isStatic="true" isReadOnly="true">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_RUF9kO8yEeOflObM3pPwYg" value="&quot;AuthMechInHandler&quot;"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_RUF9ke8yEeOflObM3pPwYg" name="amwr" visibility="package" type="_RPRvAO8yEeOflObM3pPwYg" association="_RYmDEO8yEeOflObM3pPwYg"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RWjbsu8yEeOflObM3pPwYg" name="IncomingHandler" specification="_RQCkAO8yEeOflObM3pPwYg">
                <ownedParameter xmi:id="_RWjbs-8yEeOflObM3pPwYg" name="am" type="_Q8KlwO8yEeOflObM3pPwYg"/>
                <ownedParameter xmi:id="_RWjbtO8yEeOflObM3pPwYg" type="_Q8R6gO8yEeOflObM3pPwYg" direction="return"/>
                <language>java</language>
                <body>this.amwr = new WeakReference&lt;AuthMech>(am);&#xD;
		</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RWkCwO8yEeOflObM3pPwYg" name="handleMessage" specification="_RSTN0O8yEeOflObM3pPwYg">
                <ownedParameter xmi:id="_RWkCwe8yEeOflObM3pPwYg" name="msg" type="_RPX1oe8yEeOflObM3pPwYg"/>
                <language>java</language>
                <body>switch (msg.what) {&#xD;
&#xD;
			case AuthMechService.AUTH_MECH_GET_STATUS:&#xD;
				Log.d(TAG, &quot;Incoming messge from mechanism.&quot;);&#xD;
				amwr.get().mechConfidence = msg.arg1;&#xD;
				amwr.get().mechWeight = msg.arg2;&#xD;
				break;&#xD;
&#xD;
			default:&#xD;
				Log.e(TAG, &quot;Unknowin AuthMechService status&quot;);&#xD;
				super.handleMessage(msg);&#xD;
			}&#xD;
		</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_RQCkAO8yEeOflObM3pPwYg" name="IncomingHandler" method="_RWjbsu8yEeOflObM3pPwYg">
                <eAnnotations xmi:id="_RQDLEe8yEeOflObM3pPwYg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_RQDLEu8yEeOflObM3pPwYg" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_RQDLEO8yEeOflObM3pPwYg" name="am" type="_Q8KlwO8yEeOflObM3pPwYg"/>
                <ownedParameter xmi:id="_RQDLE-8yEeOflObM3pPwYg" type="_Q8R6gO8yEeOflObM3pPwYg" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_RSTN0O8yEeOflObM3pPwYg" name="handleMessage" method="_RWkCwO8yEeOflObM3pPwYg">
                <ownedParameter xmi:id="_RSTN0e8yEeOflObM3pPwYg" name="msg" type="_RPX1oe8yEeOflObM3pPwYg"/>
              </ownedOperation>
            </nestedClassifier>
          </packagedElement>
          <packagedElement xmi:type="uml:Class" xmi:id="_Q8vNgO8yEeOflObM3pPwYg" name="UserAuthenticator">
            <ownedAttribute xmi:id="_RUUAAO8yEeOflObM3pPwYg" name="uaservice" visibility="private" type="_RQAu0O8yEeOflObM3pPwYg" association="_RYpGYO8yEeOflObM3pPwYg">
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_RUUAAe8yEeOflObM3pPwYg" value="null"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_RUUnEO8yEeOflObM3pPwYg" name="mechanisms" visibility="private" type="_RQMVAe8yEeOflObM3pPwYg" association="_RYpGY-8yEeOflObM3pPwYg"/>
            <ownedAttribute xmi:id="_RUV1MO8yEeOflObM3pPwYg" name="confidence" isReadOnly="true">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_RUXqYe8yEeOflObM3pPwYg" name="TAG" visibility="private" isLeaf="true" isStatic="true" isReadOnly="true">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_RUYRcO8yEeOflObM3pPwYg" value="&quot;UserAuthenticator&quot;"/>
            </ownedAttribute>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RWoUMe8yEeOflObM3pPwYg" name="UserAuthenticator" specification="_RSbJoO8yEeOflObM3pPwYg">
              <ownedParameter xmi:id="_RWoUMu8yEeOflObM3pPwYg" name="service" type="_RQAu0O8yEeOflObM3pPwYg"/>
              <ownedParameter xmi:id="_RWoUM-8yEeOflObM3pPwYg" type="_Q8vNgO8yEeOflObM3pPwYg" direction="return"/>
              <language>java</language>
              <body>this.uaservice = service;&#xD;
		this.mechanisms = new LinkedList&lt;AuthMech>();&#xD;
&#xD;
		this.initAvailableDevices();&#xD;
	</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RWoUNO8yEeOflObM3pPwYg" name="calculateConfidence" specification="_Q8yQ0O8yEeOflObM3pPwYg">
              <language>java</language>
              <body>int confidence = 0;&#xD;
		int weights = 0;&#xD;
		&#xD;
		Log.d(TAG, &quot;calculateConfidence&quot;);&#xD;
		&#xD;
		for (AuthMech mech : this.mechanisms) {&#xD;
			confidence += mech.getConfidence();&#xD;
			weights += mech.getWeight();&#xD;
		}&#xD;
&#xD;
		weights = (weights == 0 ? 1 : weights);&#xD;
		confidence /= weights;&#xD;
&#xD;
		// cap the confidence level at 100&#xD;
		if (confidence > 100) {&#xD;
			confidence = 100;&#xD;
		}&#xD;
&#xD;
		this.confidence = confidence;&#xD;
		Log.i(TAG, &quot;Authentication confidence: &quot; + this.confidence);&#xD;
	</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RWo7QO8yEeOflObM3pPwYg" name="initAvailableDevices" specification="_Q8ze8O8yEeOflObM3pPwYg">
              <language>java</language>
              <body>//		this.mechanism.add(new AuthMech(uaservice, AuthDummyService.class));&#xD;
		this.mechanisms.add(new AuthMech(uaservice, VoiceService.class));&#xD;
//		this.mechanisms.add(new AuthMech(uaservice, FaceService.class));&#xD;
//		this.mechanisms.add(new AuthMech(uaservice, LocationService.class));&#xD;
	</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RWo7Qe8yEeOflObM3pPwYg" name="stopMechanisms" specification="_Q80GAO8yEeOflObM3pPwYg">
              <language>java</language>
              <body>Log.d(TAG, &quot;stopMechanisms+&quot;);&#xD;
		&#xD;
		for (AuthMech mech : this.mechanisms) {&#xD;
			Log.d(TAG, &quot;stopping &quot; + mech.getClass());&#xD;
			&#xD;
			Intent i = new Intent(this.uaservice, mech.getClass());&#xD;
			this.uaservice.stopService(i);&#xD;
		}&#xD;
	</body>
            </ownedBehavior>
            <ownedOperation xmi:id="_Q8yQ0O8yEeOflObM3pPwYg" name="calculateConfidence" visibility="private" method="_RWoUNO8yEeOflObM3pPwYg">
              <ownedComment xmi:id="_RXWF4u8yEeOflObM3pPwYg">
                <body>Calculates the confidence level of the authenticator based on existing&#xD;
	 * authentication devices.</body>
              </ownedComment>
            </ownedOperation>
            <ownedOperation xmi:id="_Q8ze8O8yEeOflObM3pPwYg" name="initAvailableDevices" visibility="private" method="_RWo7QO8yEeOflObM3pPwYg">
              <ownedComment xmi:id="_RXWF4-8yEeOflObM3pPwYg">
                <body>Checks the available devices that may be used for authentication and&#xD;
	 * returns a list of devices.&#xD;
	 * &#xD;
	 * @return list of authentication devices.</body>
              </ownedComment>
            </ownedOperation>
            <ownedOperation xmi:id="_Q80GAO8yEeOflObM3pPwYg" name="stopMechanisms" method="_RWo7Qe8yEeOflObM3pPwYg"/>
            <ownedOperation xmi:id="_RSbJoO8yEeOflObM3pPwYg" name="UserAuthenticator" method="_RWoUMe8yEeOflObM3pPwYg">
              <eAnnotations xmi:id="_RSbwse8yEeOflObM3pPwYg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                <details xmi:id="_RSbwsu8yEeOflObM3pPwYg" key="create"/>
              </eAnnotations>
              <ownedComment xmi:id="_RXWF4e8yEeOflObM3pPwYg">
                <body>Private constructor for the singleton object. Initialises the list of&#xD;
	 * available devices and calculates an initial confidence level.</body>
              </ownedComment>
              <ownedParameter xmi:id="_RSbwsO8yEeOflObM3pPwYg" name="service" type="_RQAu0O8yEeOflObM3pPwYg"/>
              <ownedParameter xmi:id="_RSbws-8yEeOflObM3pPwYg" type="_Q8vNgO8yEeOflObM3pPwYg" direction="return"/>
            </ownedOperation>
          </packagedElement>
          <packagedElement xmi:type="uml:Class" xmi:id="_Q9mJIO8yEeOflObM3pPwYg" name="UAService">
            <ownedComment xmi:id="_RXX7EO8yEeOflObM3pPwYg">
              <body>Principal class in the authentication scheme.&#xD;
&#xD;
This class is binded by Pico clients in order to either receive periodic or&#xD;
explicit status updates. This service uses an UserAuthenticator class in&#xD;
order to interface with the available authentication mechanisms. The class is&#xD;
responsible of calculating the current confidence level by binding and&#xD;
&#xD;
@author cristi&#xD;
 *</body>
            </ownedComment>
            <generalization xmi:id="_RSsPYO8yEeOflObM3pPwYg" general="_RQAu0O8yEeOflObM3pPwYg"/>
            <ownedAttribute xmi:id="_RU2ykO8yEeOflObM3pPwYg" name="ua" visibility="private" isStatic="true" type="_Q8vNgO8yEeOflObM3pPwYg" association="_RYxpQe8yEeOflObM3pPwYg">
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_RU3ZoO8yEeOflObM3pPwYg" value="null"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_RU4AsO8yEeOflObM3pPwYg" name="serviceThread" visibility="private" isStatic="true" type="_Q9usAO8yEeOflObM3pPwYg" association="_RYyQUe8yEeOflObM3pPwYg">
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_RU4Ase8yEeOflObM3pPwYg" value="null"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_RU5O0O8yEeOflObM3pPwYg" name="clients" visibility="private" type="_RQi6UO8yEeOflObM3pPwYg" association="_RYy3Ye8yEeOflObM3pPwYg">
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_RU514e8yEeOflObM3pPwYg" value="new HashMap&lt;Messenger, Integer>()"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_RU6c8e8yEeOflObM3pPwYg" name="messenger" visibility="private" isLeaf="true" type="_RPYcse8yEeOflObM3pPwYg" isReadOnly="true" association="_RYzece8yEeOflObM3pPwYg">
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_RU7EAO8yEeOflObM3pPwYg" value="new Messenger(new IncomingHandler(this))"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_RU8SIO8yEeOflObM3pPwYg" name="MSG_REGISTER_CLIENT" isLeaf="true" isStatic="true" isReadOnly="true">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_RU8SIe8yEeOflObM3pPwYg" value="0"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_RU85MO8yEeOflObM3pPwYg" name="MSG_UNREGISTER_CLIENT" isLeaf="true" isStatic="true" isReadOnly="true">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_RU85Me8yEeOflObM3pPwYg" value="1"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_RU9gQO8yEeOflObM3pPwYg" name="MSG_CONFIDENCE_UPDATE" isLeaf="true" isStatic="true" isReadOnly="true">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_RU9gQe8yEeOflObM3pPwYg" value="2"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_RU9gQu8yEeOflObM3pPwYg" name="TAG" visibility="private" isLeaf="true" isStatic="true" isReadOnly="true">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_RU-HUO8yEeOflObM3pPwYg" value="&quot;UAService&quot;"/>
            </ownedAttribute>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RWwQAO8yEeOflObM3pPwYg" name="onCreate" specification="_Q9n-UO8yEeOflObM3pPwYg">
              <language>java</language>
              <body>Log.i(TAG, &quot;onCreate&quot;);&#xD;
&#xD;
		if (ua == null) {&#xD;
			ua = new UserAuthenticator(this);&#xD;
		}&#xD;
&#xD;
		if (serviceThread == null) {&#xD;
			serviceThread = new AuthenticatorThread();&#xD;
			serviceThread.start();&#xD;
		}&#xD;
	</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RWwQAe8yEeOflObM3pPwYg" name="onDestroy" specification="_Q9pzgO8yEeOflObM3pPwYg">
              <language>java</language>
              <body>Log.i(TAG, &quot;onDestroy&quot;);&#xD;
&#xD;
		if (serviceThread != null) {&#xD;
			try {&#xD;
				serviceThread.stopThread();&#xD;
				serviceThread.join();&#xD;
				serviceThread = null;&#xD;
&#xD;
			} catch (InterruptedException e) {&#xD;
				e.printStackTrace();&#xD;
			}&#xD;
		}&#xD;
&#xD;
		ua.stopMechanisms();&#xD;
		if (ua != null) {&#xD;
			ua = null;&#xD;
		}&#xD;
	</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RWw3EO8yEeOflObM3pPwYg" name="onBind" specification="_RSolAO8yEeOflObM3pPwYg">
              <ownedParameter xmi:id="_RWw3Ee8yEeOflObM3pPwYg" name="intent" type="_RPVZYO8yEeOflObM3pPwYg"/>
              <ownedParameter xmi:id="_RWw3Eu8yEeOflObM3pPwYg" type="_RPXOke8yEeOflObM3pPwYg" direction="return"/>
              <language>java</language>
              <body>Log.i(TAG, &quot;onBind&quot;);&#xD;
		return messenger.getBinder();&#xD;
	</body>
            </ownedBehavior>
            <ownedOperation xmi:id="_Q9n-UO8yEeOflObM3pPwYg" name="onCreate" method="_RWwQAO8yEeOflObM3pPwYg"/>
            <ownedOperation xmi:id="_Q9pzgO8yEeOflObM3pPwYg" name="onDestroy" method="_RWwQAe8yEeOflObM3pPwYg"/>
            <ownedOperation xmi:id="_RSolAO8yEeOflObM3pPwYg" name="onBind" method="_RWw3EO8yEeOflObM3pPwYg">
              <ownedParameter xmi:id="_RSolAe8yEeOflObM3pPwYg" name="intent" type="_RPVZYO8yEeOflObM3pPwYg"/>
              <ownedParameter xmi:id="_RSolAu8yEeOflObM3pPwYg" type="_RPXOke8yEeOflObM3pPwYg" direction="return"/>
            </ownedOperation>
            <nestedClassifier xmi:type="uml:Class" xmi:id="_Q9rBoe8yEeOflObM3pPwYg" name="IncomingHandler" visibility="package">
              <eAnnotations xmi:id="_Q9rosO8yEeOflObM3pPwYg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                <details xmi:id="_Q9rose8yEeOflObM3pPwYg" key="static"/>
              </eAnnotations>
              <ownedComment xmi:id="_RXX7Ee8yEeOflObM3pPwYg">
                <body>Class used when PicoMainActivity binds on this service.&#xD;
	 * &#xD;
	 * There is the possibility for explicit updates using&#xD;
	 * MSG_CONFIDENCE_UPDATE, but this use case, although implemented, is never&#xD;
	 * used.&#xD;
	 * &#xD;
	 * @author cristi&#xD;
	 *</body>
              </ownedComment>
              <generalization xmi:id="_RSrBQu8yEeOflObM3pPwYg" general="_RPWnge8yEeOflObM3pPwYg"/>
              <ownedAttribute xmi:id="_RU-HUe8yEeOflObM3pPwYg" name="service" visibility="private" isLeaf="true" type="_RPRvAO8yEeOflObM3pPwYg" isReadOnly="true" association="_RY0Fge8yEeOflObM3pPwYg"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RWw3E-8yEeOflObM3pPwYg" name="IncomingHandler" specification="_RQkvgO8yEeOflObM3pPwYg">
                <ownedParameter xmi:id="_RWw3FO8yEeOflObM3pPwYg" name="service" type="_Q9mJIO8yEeOflObM3pPwYg"/>
                <ownedParameter xmi:id="_RWw3Fe8yEeOflObM3pPwYg" type="_Q9rBoe8yEeOflObM3pPwYg" direction="return"/>
                <language>java</language>
                <body>this.service = new WeakReference&lt;UAService>(service);&#xD;
		</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RWxeIO8yEeOflObM3pPwYg" name="handleMessage" specification="_RSqaMO8yEeOflObM3pPwYg">
                <ownedParameter xmi:id="_RWxeIe8yEeOflObM3pPwYg" name="msg" type="_RPX1oe8yEeOflObM3pPwYg"/>
                <language>java</language>
                <body>UAService uas = service.get();&#xD;
			if (uas == null) {&#xD;
				return;&#xD;
			}&#xD;
&#xD;
			switch (msg.what) {&#xD;
			case MSG_REGISTER_CLIENT:&#xD;
				uas.clients.put(msg.replyTo, msg.arg1);&#xD;
				break;&#xD;
&#xD;
			case MSG_UNREGISTER_CLIENT:&#xD;
				uas.clients.remove(msg.replyTo);&#xD;
				break;&#xD;
&#xD;
			case MSG_CONFIDENCE_UPDATE:&#xD;
				Messenger client = msg.replyTo;&#xD;
&#xD;
				if (uas.clients.containsKey(client)) {&#xD;
					int threshold = uas.clients.get(client);&#xD;
					int confidence = ua.getConfidence();&#xD;
&#xD;
					@SuppressWarnings(&quot;unused&quot;)&#xD;
					int result = confidence >= threshold ? 1 : 0;&#xD;
&#xD;
					try {&#xD;
						client.send(Message.obtain(null, MSG_CONFIDENCE_UPDATE,&#xD;
								confidence, 0));&#xD;
						// client.send(Message.obtain(null, MSG_GET_STATUS,&#xD;
						// result, 0));&#xD;
					} catch (RemoteException e) {&#xD;
						e.printStackTrace();&#xD;
					}&#xD;
				}&#xD;
&#xD;
				break;&#xD;
			default:&#xD;
				super.handleMessage(msg);&#xD;
			}&#xD;
		</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_RQkvgO8yEeOflObM3pPwYg" name="IncomingHandler" method="_RWw3E-8yEeOflObM3pPwYg">
                <eAnnotations xmi:id="_RQlWkO8yEeOflObM3pPwYg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_RQlWke8yEeOflObM3pPwYg" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_RQkvge8yEeOflObM3pPwYg" name="service" type="_Q9mJIO8yEeOflObM3pPwYg"/>
                <ownedParameter xmi:id="_RQlWku8yEeOflObM3pPwYg" type="_Q9rBoe8yEeOflObM3pPwYg" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_RSqaMO8yEeOflObM3pPwYg" name="handleMessage" method="_RWxeIO8yEeOflObM3pPwYg">
                <ownedParameter xmi:id="_RSqaMe8yEeOflObM3pPwYg" name="msg" type="_RPX1oe8yEeOflObM3pPwYg"/>
              </ownedOperation>
            </nestedClassifier>
            <nestedClassifier xmi:type="uml:Class" xmi:id="_Q9usAO8yEeOflObM3pPwYg" name="AuthenticatorThread" visibility="private">
              <ownedComment xmi:id="_RXX7Eu8yEeOflObM3pPwYg">
                <body>Authenticator thread responsible of broadcasting the result to registered&#xD;
	 * clients. This is how PicoMainActivity receives its confidence updates.&#xD;
	 * &#xD;
	 * @author cristi&#xD;
	 *</body>
              </ownedComment>
              <generalization xmi:id="_RSroUO8yEeOflObM3pPwYg" general="_RSc-0O8yEeOflObM3pPwYg"/>
              <ownedAttribute xmi:id="_RVAjkO8yEeOflObM3pPwYg" name="stop" visibility="private">
                <eAnnotations xmi:id="_RVAjke8yEeOflObM3pPwYg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_RVAjku8yEeOflObM3pPwYg" key="volatile"/>
                </eAnnotations>
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
              </ownedAttribute>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RWxeIu8yEeOflObM3pPwYg" name="AuthenticatorThread" specification="_Q9vTEO8yEeOflObM3pPwYg">
                <ownedParameter xmi:id="_RWxeI-8yEeOflObM3pPwYg" type="_Q9usAO8yEeOflObM3pPwYg" direction="return"/>
                <language>java</language>
                <body>this.stop = false;&#xD;
		</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RWyFMO8yEeOflObM3pPwYg" name="run" specification="_Q9v6Iu8yEeOflObM3pPwYg">
                <language>java</language>
                <body>while (stop != true) {&#xD;
				try {&#xD;
					Log.d(TAG, &quot;Authenticator thread running.&quot;);&#xD;
					Thread.sleep(1000);&#xD;
					broadcastResult();&#xD;
				} catch (InterruptedException e) {&#xD;
					e.printStackTrace();&#xD;
				}&#xD;
			}&#xD;
		</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RWyFMe8yEeOflObM3pPwYg" name="stopThread" specification="_Q9xvUe8yEeOflObM3pPwYg">
                <language>java</language>
                <body>this.stop = true;&#xD;
		</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RWyFMu8yEeOflObM3pPwYg" name="broadcastResult" specification="_Q9xvUu8yEeOflObM3pPwYg">
                <language>java</language>
                <body>int confidence = ua.getConfidence();&#xD;
&#xD;
			for (Entry&lt;Messenger, Integer> entry : clients.entrySet()) {&#xD;
				Messenger client = entry.getKey();&#xD;
				int threshold = entry.getValue();&#xD;
&#xD;
				@SuppressWarnings(&quot;unused&quot;)&#xD;
				int result = confidence >= threshold ? 1 : 0;&#xD;
&#xD;
				try {&#xD;
					// client.send(Message.obtain(null, MSG_GET_STATUS, result,&#xD;
					// 0));&#xD;
					client.send(Message.obtain(null, MSG_CONFIDENCE_UPDATE,&#xD;
							confidence, 0));&#xD;
&#xD;
				} catch (RemoteException e) {&#xD;
					e.printStackTrace();&#xD;
				}&#xD;
			}&#xD;
		</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_Q9vTEO8yEeOflObM3pPwYg" name="AuthenticatorThread" method="_RWxeIu8yEeOflObM3pPwYg">
                <eAnnotations xmi:id="_Q9vTEe8yEeOflObM3pPwYg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_Q9v6IO8yEeOflObM3pPwYg" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_Q9v6Ie8yEeOflObM3pPwYg" type="_Q9usAO8yEeOflObM3pPwYg" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_Q9v6Iu8yEeOflObM3pPwYg" name="run" method="_RWyFMO8yEeOflObM3pPwYg"/>
              <ownedOperation xmi:id="_Q9xvUe8yEeOflObM3pPwYg" name="stopThread" method="_RWyFMe8yEeOflObM3pPwYg"/>
              <ownedOperation xmi:id="_Q9xvUu8yEeOflObM3pPwYg" name="broadcastResult" visibility="private" method="_RWyFMu8yEeOflObM3pPwYg"/>
            </nestedClassifier>
          </packagedElement>
          <packagedElement xmi:type="uml:Class" xmi:id="_Q-m1wO8yEeOflObM3pPwYg" name="AuthMechService" isAbstract="true">
            <ownedComment xmi:id="_RXZJMO8yEeOflObM3pPwYg">
              <body>Abstract class used for predefining the communication channel for all&#xD;
authentication mechanism services.&#xD;
&#xD;
All authentication mechanisms that are or will be implemented need to extend&#xD;
this class.&#xD;
&#xD;
@author cristi&#xD;
 *</body>
            </ownedComment>
            <generalization xmi:id="_RS644O8yEeOflObM3pPwYg" general="_RQAu0O8yEeOflObM3pPwYg"/>
            <ownedAttribute xmi:id="_RVXI4O8yEeOflObM3pPwYg" name="score" visibility="protected">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_RVXI4e8yEeOflObM3pPwYg" value="0"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_RVXv8e8yEeOflObM3pPwYg" name="decayedWeight" visibility="protected">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_RVXv8u8yEeOflObM3pPwYg" value="0"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_RVYXAe8yEeOflObM3pPwYg" name="initialWeight" visibility="protected">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_RVY-EO8yEeOflObM3pPwYg" value="0"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_RVY-Eu8yEeOflObM3pPwYg" name="decayTimer" visibility="protected" type="_Q-x04O8yEeOflObM3pPwYg" association="_RY6MIe8yEeOflObM3pPwYg">
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_RVZlIO8yEeOflObM3pPwYg" value="null"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_RVaMMO8yEeOflObM3pPwYg" name="AUTH_MECH_REGISTER" visibility="protected" isLeaf="true" isStatic="true" isReadOnly="true">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_RVaMMe8yEeOflObM3pPwYg" value="0"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_RVazQO8yEeOflObM3pPwYg" name="AUTH_MECH_UNREGISTER" visibility="protected" isLeaf="true" isStatic="true" isReadOnly="true">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_RVazQe8yEeOflObM3pPwYg" value="1"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_RVazQu8yEeOflObM3pPwYg" name="AUTH_MECH_GET_STATUS" visibility="protected" isLeaf="true" isStatic="true" isReadOnly="true">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_RVbaUO8yEeOflObM3pPwYg" value="2"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_RVbaUe8yEeOflObM3pPwYg" name="TAG" visibility="private" isLeaf="true" isStatic="true" isReadOnly="true">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_RVbaUu8yEeOflObM3pPwYg" value="&quot;AuthMechService&quot;"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_RVcBYO8yEeOflObM3pPwYg" name="clientWriter" visibility="protected" type="_RPYcse8yEeOflObM3pPwYg" association="_RY6zMe8yEeOflObM3pPwYg">
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_RVcBYe8yEeOflObM3pPwYg" value="null"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_RVdPgO8yEeOflObM3pPwYg" name="clientReader" visibility="protected" type="_RPYcse8yEeOflObM3pPwYg" association="_RY7aQe8yEeOflObM3pPwYg">
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_RVdPge8yEeOflObM3pPwYg" value="new Messenger(new IncomingHandler(this))"/>
            </ownedAttribute>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RW4L0O8yEeOflObM3pPwYg" name="onBind" specification="_RS31kO8yEeOflObM3pPwYg">
              <ownedParameter xmi:id="_RW4L0e8yEeOflObM3pPwYg" name="arg0" type="_RPVZYO8yEeOflObM3pPwYg"/>
              <ownedParameter xmi:id="_RW4L0u8yEeOflObM3pPwYg" type="_RPXOke8yEeOflObM3pPwYg" direction="return"/>
              <language>java</language>
              <body>return clientReader.getBinder();&#xD;
	</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RW4y4O8yEeOflObM3pPwYg" name="getInitialWeight" specification="_Q-rHMO8yEeOflObM3pPwYg">
              <ownedParameter xmi:id="_RW4y4e8yEeOflObM3pPwYg" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedParameter>
              <language>java</language>
              <body>return this.initialWeight;&#xD;
	</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RW5Z8u8yEeOflObM3pPwYg" name="startDecay" specification="_Q-wmwO8yEeOflObM3pPwYg">
              <language>java</language>
              <body>Log.d(TAG, &quot;startDecay+&quot;);&#xD;
		&#xD;
		this.decayedWeight = this.initialWeight;&#xD;
&#xD;
		if (this.decayTimer == null) {&#xD;
			this.decayTimer = new DecayTimer();&#xD;
		}&#xD;
&#xD;
		this.decayTimer.stopTimer();&#xD;
		this.decayTimer.startTimer();&#xD;
		&#xD;
		Log.d(TAG, &quot;startDecay-&quot;);&#xD;
	</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RW6oEO8yEeOflObM3pPwYg" name="sendDecayedScore" specification="_Q-2GUO8yEeOflObM3pPwYg">
              <ownedParameter xmi:id="_RW6oEe8yEeOflObM3pPwYg" name="fresh">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
              </ownedParameter>
              <language>java</language>
              <body>Log.d(TAG, &quot;sendDecayedScore+&quot;);&#xD;
		&#xD;
		if (fresh) {&#xD;
			this.decayedWeight = this.initialWeight;&#xD;
		}&#xD;
		&#xD;
		int decayedScore = this.decayedWeight * this.score;&#xD;
&#xD;
		Log.e(TAG, &quot;Service score: &quot; + score);&#xD;
		Log.e(TAG, &quot;Decayed weight: &quot; + decayedWeight);&#xD;
		Log.e(TAG, &quot;Decayed score: &quot; + decayedScore);&#xD;
&#xD;
		try {&#xD;
			clientWriter.send(Message.obtain(null, AUTH_MECH_GET_STATUS,&#xD;
					decayedScore, this.initialWeight));&#xD;
		} catch (RemoteException e) {&#xD;
			e.printStackTrace();&#xD;
		}&#xD;
		&#xD;
		Log.d(TAG, &quot;sendDecayedScore-&quot;);&#xD;
	</body>
            </ownedBehavior>
            <ownedOperation xmi:id="_Q-p5EO8yEeOflObM3pPwYg" name="onCreate" isAbstract="true">
              <ownedComment xmi:id="_RXZJMe8yEeOflObM3pPwYg">
                <body>Method called when the service is created.</body>
              </ownedComment>
            </ownedOperation>
            <ownedOperation xmi:id="_Q-qgIO8yEeOflObM3pPwYg" name="onDestroy" isAbstract="true">
              <ownedComment xmi:id="_RXZJMu8yEeOflObM3pPwYg">
                <body>*&#xD;
	 * Method called when the service is destroyed.</body>
              </ownedComment>
            </ownedOperation>
            <ownedOperation xmi:id="_Q-rHMO8yEeOflObM3pPwYg" name="getInitialWeight" method="_RW4y4O8yEeOflObM3pPwYg">
              <ownedParameter xmi:id="_Q-ruQO8yEeOflObM3pPwYg" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedParameter>
            </ownedOperation>
            <ownedOperation xmi:id="_Q-wmwO8yEeOflObM3pPwYg" name="startDecay" method="_RW5Z8u8yEeOflObM3pPwYg">
              <ownedComment xmi:id="_RXZwQu8yEeOflObM3pPwYg">
                <body>Function used to start the decay of the initial weight.&#xD;
	 * &#xD;
	 * This restarts the current weight and starts a timer which periodically&#xD;
	 * decays the weight. Upon each successful decay a broadcast is sent back to&#xD;
	 * UAService in order to update on the current confidence level.</body>
              </ownedComment>
            </ownedOperation>
            <ownedOperation xmi:id="_Q-2GUO8yEeOflObM3pPwYg" name="sendDecayedScore" method="_RW6oEO8yEeOflObM3pPwYg">
              <ownedParameter xmi:id="_Q-2tYO8yEeOflObM3pPwYg" name="fresh">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
              </ownedParameter>
            </ownedOperation>
            <ownedOperation xmi:id="_RS31kO8yEeOflObM3pPwYg" name="onBind" method="_RW4L0O8yEeOflObM3pPwYg">
              <ownedComment xmi:id="_RXZJM-8yEeOflObM3pPwYg">
                <body>Used to return the messenger used for communication with the master&#xD;
	 * service.</body>
              </ownedComment>
              <ownedParameter xmi:id="_RS31ke8yEeOflObM3pPwYg" name="arg0" type="_RPVZYO8yEeOflObM3pPwYg"/>
              <ownedParameter xmi:id="_RS31ku8yEeOflObM3pPwYg" type="_RPXOke8yEeOflObM3pPwYg" direction="return"/>
            </ownedOperation>
            <nestedClassifier xmi:type="uml:Class" xmi:id="_Q-sVUO8yEeOflObM3pPwYg" name="IncomingHandler" visibility="package">
              <ownedComment xmi:id="_RXZwQO8yEeOflObM3pPwYg">
                <body>Used for receiving requests from the UAService UserAuthenticator class.&#xD;
	 * &#xD;
	 * This class is currently used only for registering the UAService as a&#xD;
	 * client. Although explicit confidence requests are supported, such&#xD;
	 * requests are never made in this implementation.&#xD;
	 * &#xD;
	 * The updates are made using the clientWriter object instantiated in this&#xD;
	 * class.&#xD;
	 * &#xD;
	 * @author cristi&#xD;
	 *</body>
              </ownedComment>
              <generalization xmi:id="_RS5qwO8yEeOflObM3pPwYg" general="_RPWnge8yEeOflObM3pPwYg"/>
              <ownedAttribute xmi:id="_RVd2ke8yEeOflObM3pPwYg" name="service" visibility="private" isLeaf="true" type="_RPRvAO8yEeOflObM3pPwYg" isReadOnly="true" association="_RY8BUe8yEeOflObM3pPwYg"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RW4y4u8yEeOflObM3pPwYg" name="IncomingHandler" specification="_RQ11QO8yEeOflObM3pPwYg">
                <ownedParameter xmi:id="_RW4y4-8yEeOflObM3pPwYg" name="service" type="_Q-m1wO8yEeOflObM3pPwYg"/>
                <ownedParameter xmi:id="_RW4y5O8yEeOflObM3pPwYg" type="_Q-sVUO8yEeOflObM3pPwYg" direction="return"/>
                <language>java</language>
                <body>this.service = new WeakReference&lt;AuthMechService>(service);&#xD;
		</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RW5Z8O8yEeOflObM3pPwYg" name="handleMessage" specification="_RS4coO8yEeOflObM3pPwYg">
                <ownedParameter xmi:id="_RW5Z8e8yEeOflObM3pPwYg" name="msg" type="_RPX1oe8yEeOflObM3pPwYg"/>
                <language>java</language>
                <body>AuthMechService am = service.get();&#xD;
&#xD;
			switch (msg.what) {&#xD;
&#xD;
			case AUTH_MECH_REGISTER:&#xD;
				am.clientWriter = msg.replyTo;&#xD;
				break;&#xD;
&#xD;
			case AUTH_MECH_UNREGISTER:&#xD;
				if (am.clientWriter == msg.replyTo) {&#xD;
					am.clientWriter = null;&#xD;
				}&#xD;
				break;&#xD;
&#xD;
			case AUTH_MECH_GET_STATUS:&#xD;
				try {&#xD;
					Log.d(&quot;AuthMechAbstract&quot;, &quot;Score requested, sending &quot;&#xD;
							+ score);&#xD;
					msg.replyTo.send(Message.obtain(null, AUTH_MECH_GET_STATUS,&#xD;
							score, 0));&#xD;
				} catch (RemoteException e) {&#xD;
					e.printStackTrace();&#xD;
				}&#xD;
				break;&#xD;
&#xD;
			default:&#xD;
				super.handleMessage(msg);&#xD;
			}&#xD;
		</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_RQ11QO8yEeOflObM3pPwYg" name="IncomingHandler" method="_RW4y4u8yEeOflObM3pPwYg">
                <eAnnotations xmi:id="_RQ2cUO8yEeOflObM3pPwYg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_RQ2cUe8yEeOflObM3pPwYg" key="create"/>
                </eAnnotations>
                <ownedParameter xmi:id="_RQ11Qe8yEeOflObM3pPwYg" name="service" type="_Q-m1wO8yEeOflObM3pPwYg"/>
                <ownedParameter xmi:id="_RQ2cUu8yEeOflObM3pPwYg" type="_Q-sVUO8yEeOflObM3pPwYg" direction="return"/>
              </ownedOperation>
              <ownedOperation xmi:id="_RS4coO8yEeOflObM3pPwYg" name="handleMessage" method="_RW5Z8O8yEeOflObM3pPwYg">
                <ownedParameter xmi:id="_RS4coe8yEeOflObM3pPwYg" name="msg" type="_RPX1oe8yEeOflObM3pPwYg"/>
              </ownedOperation>
            </nestedClassifier>
            <nestedClassifier xmi:type="uml:Class" xmi:id="_Q-x04O8yEeOflObM3pPwYg" clientDependency="_RS5qwe8yEeOflObM3pPwYg" name="DecayTimer">
              <ownedComment xmi:id="_RXZwQ-8yEeOflObM3pPwYg">
                <body>Class used to periodically decay the weight of the mechanism.&#xD;
	 * &#xD;
	 * @author cristi&#xD;
	 *</body>
              </ownedComment>
              <ownedAttribute xmi:id="_RVgS0O8yEeOflObM3pPwYg" name="INTERVAL" visibility="private" isLeaf="true" isStatic="true" isReadOnly="true">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_RVg54O8yEeOflObM3pPwYg" value="1000"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_RVg54e8yEeOflObM3pPwYg" name="handler" visibility="private" type="_RPWnge8yEeOflObM3pPwYg" association="_RY8oYe8yEeOflObM3pPwYg">
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_RVg54u8yEeOflObM3pPwYg" value="null"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_RVhg8e8yEeOflObM3pPwYg" name="running" visibility="private">
                <eAnnotations xmi:id="_RViIAO8yEeOflObM3pPwYg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                  <details xmi:id="_RViIAe8yEeOflObM3pPwYg" key="volatile"/>
                </eAnnotations>
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_RViIAu8yEeOflObM3pPwYg" value="false"/>
              </ownedAttribute>
              <ownedAttribute xmi:id="_RVivEO8yEeOflObM3pPwYg" name="rate" visibility="protected">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                <defaultValue xmi:type="uml:LiteralString" xmi:id="_RVivEe8yEeOflObM3pPwYg" value="0.8"/>
              </ownedAttribute>
              <interfaceRealization xmi:id="_RS5qwe8yEeOflObM3pPwYg" client="_Q-x04O8yEeOflObM3pPwYg" supplier="_RSwg0O8yEeOflObM3pPwYg" contract="_RSwg0O8yEeOflObM3pPwYg"/>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RW5Z8-8yEeOflObM3pPwYg" name="run" specification="_Q-zDAO8yEeOflObM3pPwYg">
                <language>java</language>
                <body>Log.d(TAG, &quot;timer run method.&quot;);&#xD;
			&#xD;
			decay();&#xD;
			sendDecayedScore(false);&#xD;
			&#xD;
			// only reschedule if running is true&#xD;
			if (this.running == true) {&#xD;
				Log.d(TAG, &quot;Reposting timer&quot;);&#xD;
				this.handler.postDelayed(this, INTERVAL);&#xD;
			}&#xD;
		</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RW6BAO8yEeOflObM3pPwYg" name="startTimer" specification="_Q-zqEu8yEeOflObM3pPwYg">
                <ownedParameter xmi:id="_RW6BAe8yEeOflObM3pPwYg" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
                <language>java</language>
                <body>Log.d(TAG, &quot;startTimer+&quot;);&#xD;
			&#xD;
			if (handler != null || running == true) {&#xD;
				return false;&#xD;
			}&#xD;
			&#xD;
			this.running = true;&#xD;
			&#xD;
			HandlerThread hThread = new HandlerThread(&quot;hThread&quot;);&#xD;
			hThread.start();&#xD;
			&#xD;
			handler = new Handler(hThread.getLooper());&#xD;
			handler.postDelayed(this, INTERVAL);&#xD;
			&#xD;
&#xD;
			Log.d(TAG, &quot;startTimer-&quot;);&#xD;
			return true;&#xD;
		</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RW6BAu8yEeOflObM3pPwYg" name="stopTimer" specification="_Q-0RIe8yEeOflObM3pPwYg">
                <language>java</language>
                <body>Log.d(TAG, &quot;stopTimer+&quot;);&#xD;
			&#xD;
			// this is how we tell if the handler is stopped&#xD;
			if (handler == null) {&#xD;
				Log.d(TAG, &quot;stopTimer: hadnler was null&quot;);&#xD;
				return;&#xD;
			}&#xD;
&#xD;
			// stoping current task from rescheduling&#xD;
			this.running = false;&#xD;
						&#xD;
			// removing pending tasks&#xD;
			this.handler.removeCallbacks(this);&#xD;
			this.handler = null;&#xD;
			&#xD;
			Log.d(TAG, &quot;stopTimer-&quot;);&#xD;
		</body>
              </ownedBehavior>
              <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RW6BA-8yEeOflObM3pPwYg" name="decay" specification="_Q-04MO8yEeOflObM3pPwYg">
                <language>java</language>
                <body>Log.d(TAG, &quot;decay+&quot;);&#xD;
//			decayedWeight = (int) (decayedWeight * Math.pow(Math.E, -rate));&#xD;
			decayedWeight = (int) (decayedWeight * rate);&#xD;
		</body>
              </ownedBehavior>
              <ownedOperation xmi:id="_Q-zDAO8yEeOflObM3pPwYg" name="run" method="_RW5Z8-8yEeOflObM3pPwYg"/>
              <ownedOperation xmi:id="_Q-zqEu8yEeOflObM3pPwYg" name="startTimer" method="_RW6BAO8yEeOflObM3pPwYg">
                <ownedComment xmi:id="_RXaXUO8yEeOflObM3pPwYg">
                  <body>Starts the decay process of the initialWeight. The updated result may&#xD;
		 * be found in decayedWeight.&#xD;
		 * &#xD;
		 * @return</body>
                </ownedComment>
                <ownedParameter xmi:id="_Q-0RIO8yEeOflObM3pPwYg" direction="return">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedParameter>
              </ownedOperation>
              <ownedOperation xmi:id="_Q-0RIe8yEeOflObM3pPwYg" name="stopTimer" method="_RW6BAu8yEeOflObM3pPwYg">
                <ownedComment xmi:id="_RXaXUe8yEeOflObM3pPwYg">
                  <body>Stops the decaying process of the initialWeight.&#xD;
		 * &#xD;
		 * The method does nothing if the Timer was not yet started.</body>
                </ownedComment>
              </ownedOperation>
              <ownedOperation xmi:id="_Q-04MO8yEeOflObM3pPwYg" name="decay" visibility="private" method="_RW6BA-8yEeOflObM3pPwYg">
                <ownedComment xmi:id="_RXaXUu8yEeOflObM3pPwYg">
                  <body>Exponential decay function for the current confidence level.&#xD;
		 * &#xD;
		 * This function is called periodically in order to decay the confidence&#xD;
		 * level of the mechanism. The decay is exponential is a function of&#xD;
		 * time between successful authentications. The term&#xD;
		 * &quot;successful authentication&quot; means that data collection was possible&#xD;
		 * and the mechanism was able to successfully produce a result,&#xD;
		 * regardless of what this result may be.</body>
                </ownedComment>
              </ownedOperation>
            </nestedClassifier>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_RYhxoe8yEeOflObM3pPwYg" name="" memberEnd="_RYhxou8yEeOflObM3pPwYg _RT-BwO8yEeOflObM3pPwYg">
            <ownedEnd xmi:id="_RYhxou8yEeOflObM3pPwYg" name="" type="_Q8KlwO8yEeOflObM3pPwYg" association="_RYhxoe8yEeOflObM3pPwYg"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_RYi_we8yEeOflObM3pPwYg" name="" memberEnd="_RYi_wu8yEeOflObM3pPwYg _RT-o0u8yEeOflObM3pPwYg">
            <ownedEnd xmi:id="_RYi_wu8yEeOflObM3pPwYg" name="" type="_Q8KlwO8yEeOflObM3pPwYg" association="_RYi_we8yEeOflObM3pPwYg"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_RYjm0e8yEeOflObM3pPwYg" name="" memberEnd="_RYjm0u8yEeOflObM3pPwYg _RUAeAu8yEeOflObM3pPwYg">
            <ownedEnd xmi:id="_RYjm0u8yEeOflObM3pPwYg" name="" type="_Q8KlwO8yEeOflObM3pPwYg" association="_RYjm0e8yEeOflObM3pPwYg"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_RYk08O8yEeOflObM3pPwYg" name="" memberEnd="_RYk08e8yEeOflObM3pPwYg _RUBsIO8yEeOflObM3pPwYg">
            <ownedEnd xmi:id="_RYk08e8yEeOflObM3pPwYg" name="" type="_Q8KlwO8yEeOflObM3pPwYg" association="_RYk08O8yEeOflObM3pPwYg"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_RYlcAO8yEeOflObM3pPwYg" name="" memberEnd="_RYlcAe8yEeOflObM3pPwYg _RUEvcO8yEeOflObM3pPwYg">
            <ownedEnd xmi:id="_RYlcAe8yEeOflObM3pPwYg" name="" type="_Q8KlwO8yEeOflObM3pPwYg" association="_RYlcAO8yEeOflObM3pPwYg"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_RYmDEO8yEeOflObM3pPwYg" name="" memberEnd="_RYmDEe8yEeOflObM3pPwYg _RUF9ke8yEeOflObM3pPwYg">
            <ownedEnd xmi:id="_RYmDEe8yEeOflObM3pPwYg" name="" type="_Q8R6gO8yEeOflObM3pPwYg" association="_RYmDEO8yEeOflObM3pPwYg"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_RYpGYO8yEeOflObM3pPwYg" name="" memberEnd="_RYpGYe8yEeOflObM3pPwYg _RUUAAO8yEeOflObM3pPwYg">
            <ownedEnd xmi:id="_RYpGYe8yEeOflObM3pPwYg" name="" type="_Q8vNgO8yEeOflObM3pPwYg" association="_RYpGYO8yEeOflObM3pPwYg"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_RYpGY-8yEeOflObM3pPwYg" name="" memberEnd="_RYpGZO8yEeOflObM3pPwYg _RUUnEO8yEeOflObM3pPwYg">
            <ownedEnd xmi:id="_RYpGZO8yEeOflObM3pPwYg" name="" type="_Q8vNgO8yEeOflObM3pPwYg" association="_RYpGY-8yEeOflObM3pPwYg"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_RYxpQe8yEeOflObM3pPwYg" name="" memberEnd="_RYxpQu8yEeOflObM3pPwYg _RU2ykO8yEeOflObM3pPwYg">
            <ownedEnd xmi:id="_RYxpQu8yEeOflObM3pPwYg" name="" type="_Q9mJIO8yEeOflObM3pPwYg" association="_RYxpQe8yEeOflObM3pPwYg"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_RYyQUe8yEeOflObM3pPwYg" name="" memberEnd="_RYyQUu8yEeOflObM3pPwYg _RU4AsO8yEeOflObM3pPwYg">
            <ownedEnd xmi:id="_RYyQUu8yEeOflObM3pPwYg" name="" type="_Q9mJIO8yEeOflObM3pPwYg" association="_RYyQUe8yEeOflObM3pPwYg"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_RYy3Ye8yEeOflObM3pPwYg" name="" memberEnd="_RYy3Yu8yEeOflObM3pPwYg _RU5O0O8yEeOflObM3pPwYg">
            <ownedEnd xmi:id="_RYy3Yu8yEeOflObM3pPwYg" name="" type="_Q9mJIO8yEeOflObM3pPwYg" association="_RYy3Ye8yEeOflObM3pPwYg"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_RYzece8yEeOflObM3pPwYg" name="" memberEnd="_RYzecu8yEeOflObM3pPwYg _RU6c8e8yEeOflObM3pPwYg">
            <ownedEnd xmi:id="_RYzecu8yEeOflObM3pPwYg" name="" type="_Q9mJIO8yEeOflObM3pPwYg" association="_RYzece8yEeOflObM3pPwYg"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_RY0Fge8yEeOflObM3pPwYg" name="" memberEnd="_RY0Fgu8yEeOflObM3pPwYg _RU-HUe8yEeOflObM3pPwYg">
            <ownedEnd xmi:id="_RY0Fgu8yEeOflObM3pPwYg" name="" type="_Q9rBoe8yEeOflObM3pPwYg" association="_RY0Fge8yEeOflObM3pPwYg"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_RY6MIe8yEeOflObM3pPwYg" name="" memberEnd="_RY6MIu8yEeOflObM3pPwYg _RVY-Eu8yEeOflObM3pPwYg">
            <ownedEnd xmi:id="_RY6MIu8yEeOflObM3pPwYg" name="" type="_Q-m1wO8yEeOflObM3pPwYg" association="_RY6MIe8yEeOflObM3pPwYg"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_RY6zMe8yEeOflObM3pPwYg" name="" memberEnd="_RY6zMu8yEeOflObM3pPwYg _RVcBYO8yEeOflObM3pPwYg">
            <ownedEnd xmi:id="_RY6zMu8yEeOflObM3pPwYg" name="" type="_Q-m1wO8yEeOflObM3pPwYg" association="_RY6zMe8yEeOflObM3pPwYg"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_RY7aQe8yEeOflObM3pPwYg" name="" memberEnd="_RY7aQu8yEeOflObM3pPwYg _RVdPgO8yEeOflObM3pPwYg">
            <ownedEnd xmi:id="_RY7aQu8yEeOflObM3pPwYg" name="" type="_Q-m1wO8yEeOflObM3pPwYg" association="_RY7aQe8yEeOflObM3pPwYg"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_RY8BUe8yEeOflObM3pPwYg" name="" memberEnd="_RY8BUu8yEeOflObM3pPwYg _RVd2ke8yEeOflObM3pPwYg">
            <ownedEnd xmi:id="_RY8BUu8yEeOflObM3pPwYg" name="" type="_Q-sVUO8yEeOflObM3pPwYg" association="_RY8BUe8yEeOflObM3pPwYg"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_RY8oYe8yEeOflObM3pPwYg" name="" memberEnd="_RY8oYu8yEeOflObM3pPwYg _RVg54e8yEeOflObM3pPwYg">
            <ownedEnd xmi:id="_RY8oYu8yEeOflObM3pPwYg" name="" type="_Q-x04O8yEeOflObM3pPwYg" association="_RY8oYe8yEeOflObM3pPwYg"/>
          </packagedElement>
        </packagedElement>
        <packagedElement xmi:type="uml:Package" xmi:id="_Q12iYe8yEeOflObM3pPwYg" name="ctypto">
          <packagedElement xmi:type="uml:Class" xmi:id="_Q_cjQO8yEeOflObM3pPwYg" name="KeyManager">
            <ownedAttribute xmi:id="_RV1qAO8yEeOflObM3pPwYg" name="ctx" visibility="private" type="_RPULQe8yEeOflObM3pPwYg" association="_RZBg4e8yEeOflObM3pPwYg">
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_RV1qAe8yEeOflObM3pPwYg" value="null"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_RV2REe8yEeOflObM3pPwYg" name="aesKey" visibility="private" type="_RRNosu8yEeOflObM3pPwYg" association="_RZCH8e8yEeOflObM3pPwYg">
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_RV2REu8yEeOflObM3pPwYg" value="null"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_RV24Ie8yEeOflObM3pPwYg" name="filePath" visibility="private">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_RV24Iu8yEeOflObM3pPwYg" value="null"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_RV3fMe8yEeOflObM3pPwYg" name="ALIAS" visibility="private" isLeaf="true" isStatic="true" isReadOnly="true">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_RV3fMu8yEeOflObM3pPwYg" value="&quot;PicoAuthenticatorKP1&quot;"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_RV4GQO8yEeOflObM3pPwYg" name="ALGORITHM" visibility="private" isLeaf="true" isStatic="true" isReadOnly="true">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_RV4GQe8yEeOflObM3pPwYg" value="&quot;RSA&quot;"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_RV4GQu8yEeOflObM3pPwYg" name="AES_FILENAME" visibility="private" isLeaf="true" isStatic="true" isReadOnly="true">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_RV4tUO8yEeOflObM3pPwYg" value="&quot;master-key.dat&quot;"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_RV4tUe8yEeOflObM3pPwYg" name="AES_KEYSIZE" visibility="private" isLeaf="true" isStatic="true" isReadOnly="true">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_RV4tUu8yEeOflObM3pPwYg" value="32"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_RV5UYO8yEeOflObM3pPwYg" name="TAG" visibility="private" isLeaf="true" isStatic="true" isReadOnly="true">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_RV5UYe8yEeOflObM3pPwYg" value="&quot;KeyManager&quot;"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_RV5UYu8yEeOflObM3pPwYg" name="singleton" visibility="private" isStatic="true" type="_Q_cjQO8yEeOflObM3pPwYg" association="_RZCvAe8yEeOflObM3pPwYg">
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_RV5UY-8yEeOflObM3pPwYg" value="null"/>
            </ownedAttribute>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RXBVwO8yEeOflObM3pPwYg" name="getInstance" specification="_RTEp4O8yEeOflObM3pPwYg">
              <ownedParameter xmi:id="_RXBVwe8yEeOflObM3pPwYg" name="ctx" type="_RPULQe8yEeOflObM3pPwYg"/>
              <ownedParameter xmi:id="_RXBVwu8yEeOflObM3pPwYg" type="_Q_cjQO8yEeOflObM3pPwYg" direction="return"/>
              <language>java</language>
              <body>Log.d(TAG, &quot;getInstance+&quot;);&#xD;
		&#xD;
		if (singleton == null) {&#xD;
			Log.d(TAG, &quot;getInstance: generating singleton.&quot;);&#xD;
			singleton = new KeyManager(ctx.getApplicationContext());&#xD;
		}&#xD;
		&#xD;
		if (!singleton.isMasterKeyLoaded()) {&#xD;
			singleton.loadMasterKey();&#xD;
		}&#xD;
		&#xD;
		return singleton;&#xD;
	</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RXB80O8yEeOflObM3pPwYg" name="KeyManager" specification="_RTFQ8O8yEeOflObM3pPwYg">
              <ownedParameter xmi:id="_RXB80e8yEeOflObM3pPwYg" name="ctx" type="_RPULQe8yEeOflObM3pPwYg"/>
              <ownedParameter xmi:id="_RXB80u8yEeOflObM3pPwYg" type="_Q_cjQO8yEeOflObM3pPwYg" direction="return"/>
              <language>java</language>
              <body>this.ctx = ctx;&#xD;
		this.filePath = this.ctx.getFilesDir().toString();&#xD;
	</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RXB80-8yEeOflObM3pPwYg" name="generateMasterKey" specification="_Q_g0sO8yEeOflObM3pPwYg">
              <language>java</language>
              <body>KeyPair kp = null;&#xD;
&#xD;
		KeyPairGenerator kpGenerator = null;&#xD;
		KeyPairGeneratorSpec kpSpec = null;&#xD;
		RSAPublicKey pubKey = null;&#xD;
		&#xD;
		Log.d(TAG, &quot;generateMasterKey()+&quot;);&#xD;
		&#xD;
		try {&#xD;
			// generate RSA key pair in key store&#xD;
			Log.d(TAG, &quot;generate RSA key pair.&quot;);&#xD;
			kpGenerator = KeyPairGenerator.getInstance(ALGORITHM, &quot;AndroidKeyStore&quot;);&#xD;
			kpSpec = generateStandardKeySpec();&#xD;
			&#xD;
			kpGenerator.initialize(kpSpec);&#xD;
			kp = kpGenerator.generateKeyPair();&#xD;
			&#xD;
			// load RSA key pair&#xD;
			Log.d(TAG, &quot;load RSA key pair.&quot;);&#xD;
			pubKey = (RSAPublicKey) kp.getPublic();&#xD;
			&#xD;
			// generate AES key&#xD;
			Log.d(TAG, &quot;generate AES key.&quot;);&#xD;
			this.aesKey = generateSecretKey();&#xD;
&#xD;
			// Write AES key encrypted with RSA key pair&#xD;
			Log.d(TAG, &quot;Write encrypted AES key.&quot;);&#xD;
			Cipher cipher = Cipher.getInstance(&quot;RSA/ECB/PKCS1Padding&quot;);&#xD;
			cipher.init(Cipher.ENCRYPT_MODE, pubKey);&#xD;
&#xD;
			FileOutputStream fos = new FileOutputStream(getMasterKeyPath());&#xD;
			CipherOutputStream cos = new CipherOutputStream(fos, cipher);&#xD;
			&#xD;
			byte[] byteAesKey = this.aesKey.getEncoded();&#xD;
			cos.write(byteAesKey);&#xD;
			cos.flush();&#xD;
			cos.close();&#xD;
			&#xD;
		} catch (NoSuchAlgorithmException e) {&#xD;
			e.printStackTrace();&#xD;
		} catch (NoSuchProviderException e) {&#xD;
			e.printStackTrace();&#xD;
		} catch (InvalidAlgorithmParameterException e) {&#xD;
			e.printStackTrace();&#xD;
		} catch (NoSuchPaddingException e) {&#xD;
			e.printStackTrace();&#xD;
		} catch (InvalidKeyException e) {&#xD;
			e.printStackTrace();&#xD;
		} catch (FileNotFoundException e) {&#xD;
			e.printStackTrace();&#xD;
		} catch (IOException e) {&#xD;
			e.printStackTrace();&#xD;
		}&#xD;
		&#xD;
		Log.d(TAG, &quot;generateMasterKey()-&quot;);&#xD;
	</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RXB81O8yEeOflObM3pPwYg" name="loadMasterKey" specification="_Q_hbwO8yEeOflObM3pPwYg">
              <language>java</language>
              <body>RSAPrivateKey privKey = null;&#xD;
		Cipher cipher = null;&#xD;
		&#xD;
		FileInputStream fis = null;&#xD;
		CipherInputStream cis = null;&#xD;
		&#xD;
		// check that master key is in storage&#xD;
		if (!hasMasterKey()) {&#xD;
			Log.w(TAG, &quot;Need to generate a master key before loading!&quot;);&#xD;
			generateMasterKey();&#xD;
			return;&#xD;
		}&#xD;
		&#xD;
		// load RSA Private Key&#xD;
		privKey = getPrivateKey();&#xD;
		if (privKey == null) {&#xD;
			Log.e(TAG, &quot;Private key is null!&quot;);&#xD;
			return;&#xD;
		}&#xD;
		&#xD;
		try {&#xD;
			Log.d(TAG, &quot;Initialising AES key load&quot;);&#xD;
			cipher = Cipher.getInstance(&quot;RSA/ECB/PKCS1Padding&quot;);&#xD;
			cipher.init(Cipher.DECRYPT_MODE, privKey);&#xD;
&#xD;
			fis = new FileInputStream(getMasterKeyPath());&#xD;
			cis = new CipherInputStream(fis, cipher);&#xD;
&#xD;
			byte[] aesBytes = new byte[AES_KEYSIZE];&#xD;
			int readAesBytes = cis.read(aesBytes);&#xD;
			if (readAesBytes != AES_KEYSIZE) {&#xD;
				Log.e(TAG, &quot;Cipher input does not match keysize! (&quot;&#xD;
						+ readAesBytes + &quot;)&quot;);&#xD;
			}&#xD;
			&#xD;
			cis.close();&#xD;
			fis.close();&#xD;
&#xD;
			Log.d(TAG, &quot;Reconstructing AES secret key.&quot;);&#xD;
			this.aesKey = new SecretKeySpec(aesBytes, 0, AES_KEYSIZE, &quot;AES&quot;);&#xD;
			&#xD;
		} catch (NoSuchAlgorithmException e) {&#xD;
			e.printStackTrace();&#xD;
		} catch (NoSuchPaddingException e) {&#xD;
			e.printStackTrace();&#xD;
		} catch (InvalidKeyException e) {&#xD;
			e.printStackTrace();&#xD;
		} catch (FileNotFoundException e) {&#xD;
			e.printStackTrace();&#xD;
		} catch (IOException e) {&#xD;
			e.printStackTrace();&#xD;
		}&#xD;
&#xD;
	</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RXCj4O8yEeOflObM3pPwYg" name="hasMasterKey" specification="_Q_iC0O8yEeOflObM3pPwYg">
              <ownedParameter xmi:id="_RXCj4e8yEeOflObM3pPwYg" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
              </ownedParameter>
              <language>java</language>
              <body>return new File(getMasterKeyPath()).exists();&#xD;
	</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RXCj4u8yEeOflObM3pPwYg" name="getPrivateKey" specification="_Q_iC0u8yEeOflObM3pPwYg">
              <ownedParameter xmi:id="_RXCj4-8yEeOflObM3pPwYg" type="_RRKlYe8yEeOflObM3pPwYg" direction="return"/>
              <language>java</language>
              <body>KeyStore ks = null;&#xD;
		RSAPrivateKey privKey = null;&#xD;
		&#xD;
		try {&#xD;
			ks = KeyStore.getInstance(&quot;AndroidKeyStore&quot;);&#xD;
			ks.load(null);&#xD;
			&#xD;
			KeyStore.PrivateKeyEntry ke = (KeyStore.PrivateKeyEntry)ks.getEntry(ALIAS, null);&#xD;
			if (ke == null) {&#xD;
				Log.e(TAG, &quot;Null key entry!&quot;);&#xD;
			}&#xD;
			&#xD;
			privKey = (RSAPrivateKey) ke.getPrivateKey();&#xD;
&#xD;
		} catch (KeyStoreException e) {&#xD;
			e.printStackTrace();&#xD;
		} catch (NoSuchAlgorithmException e) {&#xD;
			e.printStackTrace();&#xD;
		} catch (CertificateException e) {&#xD;
			e.printStackTrace();&#xD;
		} catch (IOException e) {&#xD;
			e.printStackTrace();&#xD;
		} catch (UnrecoverableEntryException e) {&#xD;
			e.printStackTrace();&#xD;
		}&#xD;
		&#xD;
		return privKey;&#xD;
	</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RXCj5O8yEeOflObM3pPwYg" name="getEncryptionCipher" specification="_Q_ip4O8yEeOflObM3pPwYg">
              <ownedParameter xmi:id="_RXCj5e8yEeOflObM3pPwYg" type="_RRMake8yEeOflObM3pPwYg" direction="return"/>
              <language>java</language>
              <body>Cipher cipher = null;&#xD;
		&#xD;
		if (this.aesKey == null) {&#xD;
			Log.e(TAG, &quot;Need to load AES key first!&quot;);&#xD;
			return null;&#xD;
		}&#xD;
		&#xD;
		try {&#xD;
  			cipher = Cipher.getInstance(&quot;AES&quot;);&#xD;
			cipher.init(Cipher.ENCRYPT_MODE, this.aesKey);&#xD;
			&#xD;
		} catch (NoSuchAlgorithmException e) {&#xD;
			e.printStackTrace();&#xD;
		} catch (NoSuchPaddingException e) {&#xD;
			e.printStackTrace();&#xD;
		} catch (InvalidKeyException e) {&#xD;
			e.printStackTrace();&#xD;
		}&#xD;
		&#xD;
		return cipher;&#xD;
	</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RXDK8O8yEeOflObM3pPwYg" name="getDecryptionCipher" specification="_Q_jQ8O8yEeOflObM3pPwYg">
              <ownedParameter xmi:id="_RXDK8e8yEeOflObM3pPwYg" type="_RRMake8yEeOflObM3pPwYg" direction="return"/>
              <language>java</language>
              <body>Cipher cipher = null;&#xD;
		&#xD;
		if (this.aesKey == null) {&#xD;
			Log.e(TAG, &quot;Need to load AES key first!&quot;);&#xD;
			return null;&#xD;
		}&#xD;
		&#xD;
		try {&#xD;
  			cipher = Cipher.getInstance(&quot;AES&quot;);&#xD;
			cipher.init(Cipher.DECRYPT_MODE, this.aesKey);&#xD;
			&#xD;
		} catch (NoSuchAlgorithmException e) {&#xD;
			e.printStackTrace();&#xD;
		} catch (NoSuchPaddingException e) {&#xD;
			e.printStackTrace();&#xD;
		} catch (InvalidKeyException e) {&#xD;
			e.printStackTrace();&#xD;
		}&#xD;
		&#xD;
		return cipher;&#xD;
	</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RXDK8u8yEeOflObM3pPwYg" name="generateStandardKeySpec" specification="_Q_j4AO8yEeOflObM3pPwYg">
              <ownedParameter xmi:id="_RXDK8-8yEeOflObM3pPwYg" type="_RRPd4e8yEeOflObM3pPwYg" direction="return"/>
              <language>java</language>
              <body>KeyPairGeneratorSpec spec = null;&#xD;
&#xD;
		Calendar notBefore = Calendar.getInstance();&#xD;
		Calendar notAfter = Calendar.getInstance();&#xD;
		notAfter.add(1, Calendar.YEAR);&#xD;
&#xD;
		spec = new KeyPairGeneratorSpec.Builder(ctx)&#xD;
				.setAlias(ALIAS)&#xD;
				.setSubject(new X500Principal(&#xD;
						String.format(&quot;CN=%s&quot;, ALIAS)))&#xD;
				.setSerialNumber(BigInteger.ONE)&#xD;
				.setStartDate(notBefore.getTime())&#xD;
				.setEndDate(notAfter.getTime()).build();&#xD;
&#xD;
		return spec;&#xD;
	</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RXDK9O8yEeOflObM3pPwYg" name="generateSecretKey" specification="_Q_kfEO8yEeOflObM3pPwYg">
              <ownedParameter xmi:id="_RXDK9e8yEeOflObM3pPwYg" type="_RRNosu8yEeOflObM3pPwYg" direction="return"/>
              <language>java</language>
              <body>SecretKey skey = null;&#xD;
		KeyGenerator kgen = null;&#xD;
		&#xD;
		try {&#xD;
			kgen = KeyGenerator.getInstance(&quot;AES&quot;, &quot;BC&quot;);&#xD;
			kgen.init(AES_KEYSIZE * 8);&#xD;
			&#xD;
			skey = kgen.generateKey();&#xD;
			&#xD;
		} catch (NoSuchAlgorithmException e) {&#xD;
			e.printStackTrace();&#xD;
		} catch (NoSuchProviderException e) {&#xD;
			e.printStackTrace();&#xD;
		}&#xD;
		&#xD;
		return skey;&#xD;
	</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RXDyAO8yEeOflObM3pPwYg" name="getMasterKeyPath" specification="_Q_lGIO8yEeOflObM3pPwYg">
              <ownedParameter xmi:id="_RXDyAe8yEeOflObM3pPwYg" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedParameter>
              <language>java</language>
              <body>return this.filePath + &quot;/&quot; + AES_FILENAME;&#xD;
	</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_RXDyAu8yEeOflObM3pPwYg" name="isMasterKeyLoaded" specification="_Q_mUQO8yEeOflObM3pPwYg">
              <ownedParameter xmi:id="_RXDyA-8yEeOflObM3pPwYg" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
              </ownedParameter>
              <language>java</language>
              <body>return this.aesKey != null;&#xD;
	</body>
            </ownedBehavior>
            <ownedOperation xmi:id="_Q_g0sO8yEeOflObM3pPwYg" name="generateMasterKey" visibility="private" method="_RXB80-8yEeOflObM3pPwYg"/>
            <ownedOperation xmi:id="_Q_hbwO8yEeOflObM3pPwYg" name="loadMasterKey" visibility="private" method="_RXB81O8yEeOflObM3pPwYg"/>
            <ownedOperation xmi:id="_Q_iC0O8yEeOflObM3pPwYg" name="hasMasterKey" visibility="private" method="_RXCj4O8yEeOflObM3pPwYg">
              <ownedParameter xmi:id="_Q_iC0e8yEeOflObM3pPwYg" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
              </ownedParameter>
            </ownedOperation>
            <ownedOperation xmi:id="_Q_iC0u8yEeOflObM3pPwYg" name="getPrivateKey" visibility="private" method="_RXCj4u8yEeOflObM3pPwYg">
              <ownedParameter xmi:id="_RTF4AO8yEeOflObM3pPwYg" type="_RRKlYe8yEeOflObM3pPwYg" direction="return"/>
            </ownedOperation>
            <ownedOperation xmi:id="_Q_ip4O8yEeOflObM3pPwYg" name="getEncryptionCipher" method="_RXCj5O8yEeOflObM3pPwYg">
              <ownedParameter xmi:id="_RTF4Ae8yEeOflObM3pPwYg" type="_RRMake8yEeOflObM3pPwYg" direction="return"/>
            </ownedOperation>
            <ownedOperation xmi:id="_Q_jQ8O8yEeOflObM3pPwYg" name="getDecryptionCipher" method="_RXDK8O8yEeOflObM3pPwYg">
              <ownedParameter xmi:id="_RTGfEO8yEeOflObM3pPwYg" type="_RRMake8yEeOflObM3pPwYg" direction="return"/>
            </ownedOperation>
            <ownedOperation xmi:id="_Q_j4AO8yEeOflObM3pPwYg" name="generateStandardKeySpec" visibility="private" method="_RXDK8u8yEeOflObM3pPwYg">
              <ownedParameter xmi:id="_RTGfEe8yEeOflObM3pPwYg" type="_RRPd4e8yEeOflObM3pPwYg" direction="return"/>
            </ownedOperation>
            <ownedOperation xmi:id="_Q_kfEO8yEeOflObM3pPwYg" name="generateSecretKey" visibility="private" method="_RXDK9O8yEeOflObM3pPwYg">
              <ownedParameter xmi:id="_RTGfEu8yEeOflObM3pPwYg" type="_RRNosu8yEeOflObM3pPwYg" direction="return"/>
            </ownedOperation>
            <ownedOperation xmi:id="_Q_lGIO8yEeOflObM3pPwYg" name="getMasterKeyPath" visibility="private" method="_RXDyAO8yEeOflObM3pPwYg">
              <ownedParameter xmi:id="_Q_ltMO8yEeOflObM3pPwYg" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedParameter>
            </ownedOperation>
            <ownedOperation xmi:id="_Q_mUQO8yEeOflObM3pPwYg" name="isMasterKeyLoaded" visibility="private" method="_RXDyAu8yEeOflObM3pPwYg">
              <ownedParameter xmi:id="_Q_mUQe8yEeOflObM3pPwYg" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
              </ownedParameter>
            </ownedOperation>
            <ownedOperation xmi:id="_RTEp4O8yEeOflObM3pPwYg" name="getInstance" isStatic="true" method="_RXBVwO8yEeOflObM3pPwYg">
              <ownedParameter xmi:id="_RTEp4e8yEeOflObM3pPwYg" name="ctx" type="_RPULQe8yEeOflObM3pPwYg"/>
              <ownedParameter xmi:id="_RTEp4u8yEeOflObM3pPwYg" type="_Q_cjQO8yEeOflObM3pPwYg" direction="return"/>
            </ownedOperation>
            <ownedOperation xmi:id="_RTFQ8O8yEeOflObM3pPwYg" name="KeyManager" visibility="private" method="_RXB80O8yEeOflObM3pPwYg">
              <eAnnotations xmi:id="_RTFQ8u8yEeOflObM3pPwYg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                <details xmi:id="_RTFQ8-8yEeOflObM3pPwYg" key="create"/>
              </eAnnotations>
              <ownedParameter xmi:id="_RTFQ8e8yEeOflObM3pPwYg" name="ctx" type="_RPULQe8yEeOflObM3pPwYg"/>
              <ownedParameter xmi:id="_RTFQ9O8yEeOflObM3pPwYg" type="_Q_cjQO8yEeOflObM3pPwYg" direction="return"/>
            </ownedOperation>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_RZBg4e8yEeOflObM3pPwYg" name="" memberEnd="_RZBg4u8yEeOflObM3pPwYg _RV1qAO8yEeOflObM3pPwYg">
            <ownedEnd xmi:id="_RZBg4u8yEeOflObM3pPwYg" name="" type="_Q_cjQO8yEeOflObM3pPwYg" association="_RZBg4e8yEeOflObM3pPwYg"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_RZCH8e8yEeOflObM3pPwYg" name="" memberEnd="_RZCH8u8yEeOflObM3pPwYg _RV2REe8yEeOflObM3pPwYg">
            <ownedEnd xmi:id="_RZCH8u8yEeOflObM3pPwYg" name="" type="_Q_cjQO8yEeOflObM3pPwYg" association="_RZCH8e8yEeOflObM3pPwYg"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_RZCvAe8yEeOflObM3pPwYg" name="" memberEnd="_RZCvAu8yEeOflObM3pPwYg _RV5UYu8yEeOflObM3pPwYg">
            <ownedEnd xmi:id="_RZCvAu8yEeOflObM3pPwYg" name="" type="_Q_cjQO8yEeOflObM3pPwYg" association="_RZCvAe8yEeOflObM3pPwYg"/>
          </packagedElement>
        </packagedElement>
      </packagedElement>
      <packagedElement xmi:type="uml:Package" xmi:id="_Q1xp4O8yEeOflObM3pPwYg" name="bitsinharmony">
        <packagedElement xmi:type="uml:Package" xmi:id="_Q1xp4e8yEeOflObM3pPwYg" name="recognito">
          <packagedElement xmi:type="uml:Class" xmi:id="_RQIqoe8yEeOflObM3pPwYg" name="Recognito"/>
        </packagedElement>
      </packagedElement>
    </packagedElement>
    <packagedElement xmi:type="uml:Package" xmi:id="_Qz7PwO8yEeOflObM3pPwYg" name="android">
      <packagedElement xmi:type="uml:Package" xmi:id="_Qz7Pwe8yEeOflObM3pPwYg" name="app">
        <packagedElement xmi:type="uml:Class" xmi:id="_RPE6sO8yEeOflObM3pPwYg" name="Activity"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_RQAu0O8yEeOflObM3pPwYg" name="Service"/>
      </packagedElement>
      <packagedElement xmi:type="uml:Package" xmi:id="_Qz720O8yEeOflObM3pPwYg" name="hardware">
        <packagedElement xmi:type="uml:Package" xmi:id="_Q1eH4O8yEeOflObM3pPwYg" name="Camera">
          <packagedElement xmi:type="uml:Interface" xmi:id="_RP8dYe8yEeOflObM3pPwYg" name="PictureCallback"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Class" xmi:id="_RPGI0e8yEeOflObM3pPwYg" name="Camera"/>
      </packagedElement>
      <packagedElement xmi:type="uml:Package" xmi:id="_Qz720e8yEeOflObM3pPwYg" name="os">
        <packagedElement xmi:type="uml:Class" xmi:id="_RPHW8e8yEeOflObM3pPwYg" name="Bundle"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_RPWnge8yEeOflObM3pPwYg" name="Handler"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_RPXOke8yEeOflObM3pPwYg" name="IBinder"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_RPX1oe8yEeOflObM3pPwYg" name="Message"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_RPYcse8yEeOflObM3pPwYg" name="Messenger"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_RPZDwe8yEeOflObM3pPwYg" name="RemoteException"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_RPoUUO8yEeOflObM3pPwYg" name="Build"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_RP9rge8yEeOflObM3pPwYg" name="Environment"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_RQq2Ie8yEeOflObM3pPwYg" name="HandlerThread"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_RQvuoO8yEeOflObM3pPwYg" name="Looper"/>
      </packagedElement>
      <packagedElement xmi:type="uml:Package" xmi:id="_Qz8d4O8yEeOflObM3pPwYg" name="view">
        <packagedElement xmi:type="uml:Package" xmi:id="_Qz8d4e8yEeOflObM3pPwYg" name="View">
          <packagedElement xmi:type="uml:Class" xmi:id="_RPJMIO8yEeOflObM3pPwYg" name="OnClickListener"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Class" xmi:id="_RPH-Ae8yEeOflObM3pPwYg" name="View"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_RPvCAO8yEeOflObM3pPwYg" name="WindowManager"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_RP2WwO8yEeOflObM3pPwYg" name="SurfaceHolder"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_RP290O8yEeOflObM3pPwYg" name="SurfaceView"/>
      </packagedElement>
      <packagedElement xmi:type="uml:Package" xmi:id="_Qz9E8O8yEeOflObM3pPwYg" name="widget">
        <packagedElement xmi:type="uml:Class" xmi:id="_RPJzMe8yEeOflObM3pPwYg" name="Button"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_RPKaQe8yEeOflObM3pPwYg" name="FrameLayout"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_RPZq0e8yEeOflObM3pPwYg" name="TextView"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_RPjb0e8yEeOflObM3pPwYg" name="EditText"/>
      </packagedElement>
      <packagedElement xmi:type="uml:Package" xmi:id="_Q0OxwO8yEeOflObM3pPwYg" name="util">
        <packagedElement xmi:type="uml:Class" xmi:id="_RPOEoO8yEeOflObM3pPwYg" name="Log"/>
      </packagedElement>
      <packagedElement xmi:type="uml:Package" xmi:id="_Q0bmEO8yEeOflObM3pPwYg" name="content">
        <packagedElement xmi:type="uml:Package" xmi:id="_Q2YG0e8yEeOflObM3pPwYg" name="res">
          <packagedElement xmi:type="uml:Class" xmi:id="_RQa-ge8yEeOflObM3pPwYg" name="Configuration"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Package" xmi:id="_Q2dmYO8yEeOflObM3pPwYg" name="pm">
          <packagedElement xmi:type="uml:Class" xmi:id="_RQfP8O8yEeOflObM3pPwYg" name="PackageManager"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Class" xmi:id="_RPTkMe8yEeOflObM3pPwYg" name="ComponentName"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_RPULQe8yEeOflObM3pPwYg" name="Context"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_RPVZYO8yEeOflObM3pPwYg" name="Intent"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_RPWAce8yEeOflObM3pPwYg" name="ServiceConnection"/>
      </packagedElement>
      <packagedElement xmi:type="uml:Package" xmi:id="_Q1NpMO8yEeOflObM3pPwYg" name="annotation">
        <packagedElement xmi:type="uml:Class" xmi:id="_RPyFUO8yEeOflObM3pPwYg" name="TargetApi"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_RQ0AEO8yEeOflObM3pPwYg" name="SuppressLint"/>
      </packagedElement>
      <packagedElement xmi:type="uml:Package" xmi:id="_Q1dg0O8yEeOflObM3pPwYg" name="graphics">
        <packagedElement xmi:type="uml:Class" xmi:id="_RP7PQO8yEeOflObM3pPwYg" name="Bitmap"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_RP7PQu8yEeOflObM3pPwYg" name="BitmapFactory"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_RP72Ue8yEeOflObM3pPwYg" name="Matrix"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_RQblke8yEeOflObM3pPwYg" name="SurfaceTexture"/>
      </packagedElement>
      <packagedElement xmi:type="uml:Package" xmi:id="_Q1eH4e8yEeOflObM3pPwYg" name="media">
        <packagedElement xmi:type="uml:Class" xmi:id="_RP9Ece8yEeOflObM3pPwYg" name="FaceDetector"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_RQ774O8yEeOflObM3pPwYg" name="AudioFormat"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_RQ8i8e8yEeOflObM3pPwYg" name="AudioRecord"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_RQ9KAe8yEeOflObM3pPwYg" name="MediaRecorder"/>
      </packagedElement>
      <packagedElement xmi:type="uml:Package" xmi:id="_Q13JcO8yEeOflObM3pPwYg" name="location">
        <packagedElement xmi:type="uml:Class" xmi:id="_RQOxQO8yEeOflObM3pPwYg" name="Location"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_RQpoAO8yEeOflObM3pPwYg" name="Criteria"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_RQqPEO8yEeOflObM3pPwYg" name="LocationListener"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_RQqPEu8yEeOflObM3pPwYg" name="LocationManager"/>
      </packagedElement>
      <packagedElement xmi:type="uml:Package" xmi:id="_Q3gIMO8yEeOflObM3pPwYg" name="security">
        <packagedElement xmi:type="uml:Class" xmi:id="_RRPd4e8yEeOflObM3pPwYg" name="KeyPairGeneratorSpec"/>
      </packagedElement>
    </packagedElement>
    <packagedElement xmi:type="uml:Package" xmi:id="_Q0aX8O8yEeOflObM3pPwYg" name="java">
      <packagedElement xmi:type="uml:Package" xmi:id="_Q0aX8e8yEeOflObM3pPwYg" name="lang">
        <packagedElement xmi:type="uml:Package" xmi:id="_Q0a_AO8yEeOflObM3pPwYg" name="ref">
          <packagedElement xmi:type="uml:Class" xmi:id="_RPRvAO8yEeOflObM3pPwYg" name="WeakReference"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Class" xmi:id="_RSO8YO8yEeOflObM3pPwYg" name="Class"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_RSc-0O8yEeOflObM3pPwYg" name="Thread"/>
        <packagedElement xmi:type="uml:Interface" xmi:id="_RSwg0O8yEeOflObM3pPwYg" name="Runnable"/>
      </packagedElement>
      <packagedElement xmi:type="uml:Package" xmi:id="_Q011wO8yEeOflObM3pPwYg" name="io">
        <packagedElement xmi:type="uml:Class" xmi:id="_RPi0wO8yEeOflObM3pPwYg" name="File"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_RP1vsO8yEeOflObM3pPwYg" name="IOException"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_RP6BIO8yEeOflObM3pPwYg" name="FileNotFoundException"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_RP6oMO8yEeOflObM3pPwYg" name="FileOutputStream"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_RQLG4O8yEeOflObM3pPwYg" name="FileInputStream"/>
      </packagedElement>
      <packagedElement xmi:type="uml:Package" xmi:id="_Q1wbwO8yEeOflObM3pPwYg" name="util">
        <packagedElement xmi:type="uml:Package" xmi:id="_Q1xC0O8yEeOflObM3pPwYg" name="Map">
          <packagedElement xmi:type="uml:Interface" xmi:id="_RQIDke8yEeOflObM3pPwYg" name="Entry"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Package" xmi:id="_Q2XfwO8yEeOflObM3pPwYg" name="concurrent">
          <packagedElement xmi:type="uml:Package" xmi:id="_Q2YG0O8yEeOflObM3pPwYg" name="atomic">
            <packagedElement xmi:type="uml:Class" xmi:id="_RQaXcO8yEeOflObM3pPwYg" name="AtomicBoolean"/>
          </packagedElement>
        </packagedElement>
        <packagedElement xmi:type="uml:Interface" xmi:id="_RQHcgO8yEeOflObM3pPwYg" name="Map"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_RQLt8e8yEeOflObM3pPwYg" name="ArrayList"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_RQMVAe8yEeOflObM3pPwYg" name="LinkedList"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_RQM8Ee8yEeOflObM3pPwYg" name="Scanner"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_RQUQ0O8yEeOflObM3pPwYg" name="Random"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_RQi6UO8yEeOflObM3pPwYg" name="HashMap"/>
        <packagedElement xmi:type="uml:DataType" xmi:id="_RRLzge8yEeOflObM3pPwYg" name="Calendar"/>
      </packagedElement>
      <packagedElement xmi:type="uml:Package" xmi:id="_Q3cd0O8yEeOflObM3pPwYg" name="math">
        <packagedElement xmi:type="uml:DataType" xmi:id="_RREewO8yEeOflObM3pPwYg" name="BigInteger"/>
      </packagedElement>
      <packagedElement xmi:type="uml:Package" xmi:id="_Q3dE4O8yEeOflObM3pPwYg" name="security">
        <packagedElement xmi:type="uml:Package" xmi:id="_Q3dr8O8yEeOflObM3pPwYg" name="cert">
          <packagedElement xmi:type="uml:Class" xmi:id="_RRJ-Ue8yEeOflObM3pPwYg" name="CertificateException"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Package" xmi:id="_Q3eTAO8yEeOflObM3pPwYg" name="interfaces">
          <packagedElement xmi:type="uml:Interface" xmi:id="_RRKlYe8yEeOflObM3pPwYg" name="RSAPrivateKey"/>
          <packagedElement xmi:type="uml:Interface" xmi:id="_RRLMce8yEeOflObM3pPwYg" name="RSAPublicKey"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Class" xmi:id="_RRFF0e8yEeOflObM3pPwYg" name="InvalidAlgorithmParameterException"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_RRFs4e8yEeOflObM3pPwYg" name="InvalidKeyException"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_RRGT8e8yEeOflObM3pPwYg" name="KeyPair"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_RRG7Ae8yEeOflObM3pPwYg" name="KeyPairGenerator"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_RRHiEe8yEeOflObM3pPwYg" name="KeyStore"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_RRIJIe8yEeOflObM3pPwYg" name="KeyStoreException"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_RRIwMe8yEeOflObM3pPwYg" name="NoSuchAlgorithmException"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_RRJXQO8yEeOflObM3pPwYg" name="NoSuchProviderException"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_RRJXQu8yEeOflObM3pPwYg" name="UnrecoverableEntryException"/>
      </packagedElement>
    </packagedElement>
    <packagedElement xmi:type="uml:Package" xmi:id="_Q0tS4O8yEeOflObM3pPwYg" name="View">
      <packagedElement xmi:type="uml:Class" xmi:id="_RPa48O8yEeOflObM3pPwYg" name="OnClickListener"/>
      <packagedElement xmi:type="uml:Class" xmi:id="_RPzTcO8yEeOflObM3pPwYg" name="OnSystemUiVisibilityChangeListener"/>
    </packagedElement>
    <packagedElement xmi:type="uml:Package" xmi:id="_Q1YBQO8yEeOflObM3pPwYg" name="SurfaceHolder">
      <packagedElement xmi:type="uml:Interface" xmi:id="_Q7yyUO8yEeOflObM3pPwYg" name="Callback"/>
    </packagedElement>
    <packagedElement xmi:type="uml:Package" xmi:id="_Q117UO8yEeOflObM3pPwYg" name="javax">
      <packagedElement xmi:type="uml:Package" xmi:id="_Q12iYO8yEeOflObM3pPwYg" name="crypto">
        <packagedElement xmi:type="uml:Package" xmi:id="_Q3e6EO8yEeOflObM3pPwYg" name="spec">
          <packagedElement xmi:type="uml:Class" xmi:id="_RROPwe8yEeOflObM3pPwYg" name="SecretKeySpec"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Class" xmi:id="_RQNjIe8yEeOflObM3pPwYg" name="CipherInputStream"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_RQOKMO8yEeOflObM3pPwYg" name="CipherOutputStream"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_RRMake8yEeOflObM3pPwYg" name="Cipher"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_RRNBoe8yEeOflObM3pPwYg" name="KeyGenerator"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_RRNosO8yEeOflObM3pPwYg" name="NoSuchPaddingException"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_RRNosu8yEeOflObM3pPwYg" name="SecretKey"/>
      </packagedElement>
      <packagedElement xmi:type="uml:Package" xmi:id="_Q3e6Ee8yEeOflObM3pPwYg" name="security">
        <packagedElement xmi:type="uml:Package" xmi:id="_Q3fhIO8yEeOflObM3pPwYg" name="auth">
          <packagedElement xmi:type="uml:Package" xmi:id="_Q3fhIe8yEeOflObM3pPwYg" name="x500">
            <packagedElement xmi:type="uml:Class" xmi:id="_RRO20e8yEeOflObM3pPwYg" name="X500Principal"/>
          </packagedElement>
        </packagedElement>
      </packagedElement>
    </packagedElement>
    <packagedElement xmi:type="uml:Package" xmi:id="_Q2SAMO8yEeOflObM3pPwYg" name="facerecognition">
      <packagedElement xmi:type="uml:Package" xmi:id="_Q2SAMe8yEeOflObM3pPwYg" name="javafaces">
        <packagedElement xmi:type="uml:Class" xmi:id="_RQXUIO8yEeOflObM3pPwYg" name="FaceRec"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_RQX7MO8yEeOflObM3pPwYg" name="MatchResult"/>
      </packagedElement>
    </packagedElement>
    <profileApplication xmi:id="_PuVgsO8yEeOflObM3pPwYg">
      <eAnnotations xmi:id="_PuZLEO8yEeOflObM3pPwYg" source="http://www.eclipse.org/uml2/2.0.0/UML">
        <references xmi:type="ecore:EPackage" href="pathmap://UMLLAB_PROFILES/UMLLab.profile.uml#UMLLabProfile-Annotation_2-UMLLabProfile"/>
      </eAnnotations>
      <appliedProfile href="pathmap://UMLLAB_PROFILES/UMLLab.profile.uml#UMLLabProfile"/>
    </profileApplication>
  </uml:Model>
  <UMLLabProfile:TargetLanguage xmi:id="_PufRsO8yEeOflObM3pPwYg" base_Package="_PkN7YO8yEeOflObM3pPwYg">
    <languageName>java</languageName>
  </UMLLabProfile:TargetLanguage>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Q6PTIO8yEeOflObM3pPwYg" base_Element="_Q6M24O8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Annotations xmi:id="_Q6RIUO8yEeOflObM3pPwYg" base_Element="_Q6M24O8yEeOflObM3pPwYg">
    <annotations xmi:id="_Q6VZwO8yEeOflObM3pPwYg" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Q6g_8O8yEeOflObM3pPwYg" base_Element="_Q6gY4O8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Annotations xmi:id="_Q6hnAO8yEeOflObM3pPwYg" base_Element="_Q6gY4O8yEeOflObM3pPwYg">
    <annotations xmi:id="_Q6hnAe8yEeOflObM3pPwYg" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Q6smIO8yEeOflObM3pPwYg" base_Element="_Q6r_EO8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Annotations xmi:id="_Q6tNMO8yEeOflObM3pPwYg" base_Element="_Q6r_EO8yEeOflObM3pPwYg">
    <annotations xmi:id="_Q6tNMe8yEeOflObM3pPwYg" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Q6ubUO8yEeOflObM3pPwYg" base_Element="_Q6tNMu8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Annotations xmi:id="_Q6vCYO8yEeOflObM3pPwYg" base_Element="_Q6tNMu8yEeOflObM3pPwYg">
    <annotations xmi:id="_Q6vCYe8yEeOflObM3pPwYg" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Q7hFgO8yEeOflObM3pPwYg" base_Element="_Q7gecO8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Annotations xmi:id="_Q7hFge8yEeOflObM3pPwYg" base_Element="_Q7gecO8yEeOflObM3pPwYg">
    <annotations xmi:id="_Q7hFgu8yEeOflObM3pPwYg" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Q7iToO8yEeOflObM3pPwYg" base_Element="_Q7hskO8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Annotations xmi:id="_Q7i6sO8yEeOflObM3pPwYg" base_Element="_Q7hskO8yEeOflObM3pPwYg">
    <annotations xmi:id="_Q7i6se8yEeOflObM3pPwYg" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Q7jhwO8yEeOflObM3pPwYg" base_Element="_Q7i6su8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Annotations xmi:id="_Q7jhwe8yEeOflObM3pPwYg" base_Element="_Q7i6su8yEeOflObM3pPwYg">
    <annotations xmi:id="_Q7jhwu8yEeOflObM3pPwYg" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Q7kI0e8yEeOflObM3pPwYg" base_Element="_Q7kI0O8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Annotations xmi:id="_Q7kv4O8yEeOflObM3pPwYg" base_Element="_Q7kI0O8yEeOflObM3pPwYg">
    <annotations xmi:id="_Q7kv4e8yEeOflObM3pPwYg" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Q7nzMO8yEeOflObM3pPwYg" base_Element="_Q7mlEO8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Annotations xmi:id="_Q7qPcO8yEeOflObM3pPwYg" base_Element="_Q7pBUO8yEeOflObM3pPwYg">
    <annotations xmi:id="_Q7qPce8yEeOflObM3pPwYg" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:Annotations xmi:id="_Q7q2gO8yEeOflObM3pPwYg" base_Element="_Q7qPcu8yEeOflObM3pPwYg">
    <annotations xmi:id="_Q7q2ge8yEeOflObM3pPwYg" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:Annotations xmi:id="_Q7rdke8yEeOflObM3pPwYg" base_Element="_Q7rdkO8yEeOflObM3pPwYg">
    <annotations xmi:id="_Q7sEoO8yEeOflObM3pPwYg" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:Annotations xmi:id="_Q7srsO8yEeOflObM3pPwYg" base_Element="_Q7sEoe8yEeOflObM3pPwYg">
    <annotations xmi:id="_Q7srse8yEeOflObM3pPwYg" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:Annotations xmi:id="_Q7t50O8yEeOflObM3pPwYg" base_Element="_Q7mlEO8yEeOflObM3pPwYg">
    <annotations xmi:id="_Q7t50e8yEeOflObM3pPwYg" name="TargetApi">
      <annotationParameters xmi:id="_Q7ug4O8yEeOflObM3pPwYg" skipName="true" skipArray="true">
        <valueSpecifications xmi:type="uml:LiteralString" xmi:id="_RXTpoO8yEeOflObM3pPwYg" value="Build.VERSION_CODES.HONEYCOMB"/>
      </annotationParameters>
    </annotations>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:Reference xmi:id="_Q70AcO8yEeOflObM3pPwYg" base_Element="_Q7yyUO8yEeOflObM3pPwYg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Q8D4EO8yEeOflObM3pPwYg" base_Element="_Q8DRAO8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Annotations xmi:id="_Q8EfIO8yEeOflObM3pPwYg" base_Element="_Q8DRAO8yEeOflObM3pPwYg">
    <annotations xmi:id="_Q8EfIe8yEeOflObM3pPwYg" name="SuppressWarnings">
      <annotationParameters xmi:id="_Q8EfIu8yEeOflObM3pPwYg" skipName="true" skipArray="true">
        <valueSpecifications xmi:type="uml:LiteralString" xmi:id="_RXUQse8yEeOflObM3pPwYg" value="&quot;unused&quot;"/>
      </annotationParameters>
    </annotations>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Q8wboO8yEeOflObM3pPwYg" base_Element="_Q8vNgO8yEeOflObM3pPwYg"/>
  <UMLLabProfile:StyledElement xmi:id="_Q8y34O8yEeOflObM3pPwYg" base_Element="_Q8yQ0O8yEeOflObM3pPwYg"/>
  <UMLLabProfile:StyledElement xmi:id="_Q8ze8e8yEeOflObM3pPwYg" base_Element="_Q8ze8O8yEeOflObM3pPwYg"/>
  <UMLLabProfile:StyledElement xmi:id="_Q80GAe8yEeOflObM3pPwYg" base_Element="_Q80GAO8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Annotations xmi:id="_Q80tEO8yEeOflObM3pPwYg" base_Element="_Q8vNgO8yEeOflObM3pPwYg">
    <annotations xmi:id="_Q80tEe8yEeOflObM3pPwYg" name="SuppressWarnings">
      <annotationParameters xmi:id="_Q81UIO8yEeOflObM3pPwYg" skipName="true" skipArray="true">
        <valueSpecifications xmi:type="uml:LiteralString" xmi:id="_RXWF4O8yEeOflObM3pPwYg" value="&quot;unused&quot;"/>
      </annotationParameters>
    </annotations>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Q9ATQO8yEeOflObM3pPwYg" base_Element="_Q8_FIO8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Annotations xmi:id="_Q9A6UO8yEeOflObM3pPwYg" base_Element="_Q8_FIO8yEeOflObM3pPwYg">
    <annotations xmi:id="_Q9A6Ue8yEeOflObM3pPwYg" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Q9BhYO8yEeOflObM3pPwYg" base_Element="_Q9A6Uu8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Annotations xmi:id="_Q9CIcO8yEeOflObM3pPwYg" base_Element="_Q9A6Uu8yEeOflObM3pPwYg">
    <annotations xmi:id="_Q9CvgO8yEeOflObM3pPwYg" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Q9FLwO8yEeOflObM3pPwYg" base_Element="_Q9Ekse8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Annotations xmi:id="_Q9Fy0O8yEeOflObM3pPwYg" base_Element="_Q9Ekse8yEeOflObM3pPwYg">
    <annotations xmi:id="_Q9Fy0e8yEeOflObM3pPwYg" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Q9eNUO8yEeOflObM3pPwYg" base_Element="_Q9dmQO8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Annotations xmi:id="_Q9e0YO8yEeOflObM3pPwYg" base_Element="_Q9dmQO8yEeOflObM3pPwYg">
    <annotations xmi:id="_Q9e0Ye8yEeOflObM3pPwYg" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Q9fbcO8yEeOflObM3pPwYg" base_Element="_Q9e0Yu8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Annotations xmi:id="_Q9gCgO8yEeOflObM3pPwYg" base_Element="_Q9e0Yu8yEeOflObM3pPwYg">
    <annotations xmi:id="_Q9gCge8yEeOflObM3pPwYg" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Q9olYO8yEeOflObM3pPwYg" base_Element="_Q9n-UO8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Annotations xmi:id="_Q9pMcO8yEeOflObM3pPwYg" base_Element="_Q9n-UO8yEeOflObM3pPwYg">
    <annotations xmi:id="_Q9pMce8yEeOflObM3pPwYg" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Q9qakO8yEeOflObM3pPwYg" base_Element="_Q9pzgO8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Annotations xmi:id="_Q9qake8yEeOflObM3pPwYg" base_Element="_Q9pzgO8yEeOflObM3pPwYg">
    <annotations xmi:id="_Q9rBoO8yEeOflObM3pPwYg" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Q9whMO8yEeOflObM3pPwYg" base_Element="_Q9v6Iu8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Annotations xmi:id="_Q9xIQO8yEeOflObM3pPwYg" base_Element="_Q9v6Iu8yEeOflObM3pPwYg">
    <annotations xmi:id="_Q9xvUO8yEeOflObM3pPwYg" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Q-GfcO8yEeOflObM3pPwYg" base_Element="_Q-FRUO8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Annotations xmi:id="_Q-HGgO8yEeOflObM3pPwYg" base_Element="_Q-FRUO8yEeOflObM3pPwYg">
    <annotations xmi:id="_Q-HGge8yEeOflObM3pPwYg" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Q-YzUO8yEeOflObM3pPwYg" base_Element="_Q-YMQO8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Annotations xmi:id="_Q-ZaYO8yEeOflObM3pPwYg" base_Element="_Q-YMQO8yEeOflObM3pPwYg">
    <annotations xmi:id="_Q-ZaYe8yEeOflObM3pPwYg" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Q-aogO8yEeOflObM3pPwYg" base_Element="_Q-aBcO8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Annotations xmi:id="_Q-aoge8yEeOflObM3pPwYg" base_Element="_Q-aBcO8yEeOflObM3pPwYg">
    <annotations xmi:id="_Q-aogu8yEeOflObM3pPwYg" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Q-eS4O8yEeOflObM3pPwYg" base_Element="_Q-dr0O8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Annotations xmi:id="_Q-e58O8yEeOflObM3pPwYg" base_Element="_Q-dr0O8yEeOflObM3pPwYg">
    <annotations xmi:id="_Q-e58e8yEeOflObM3pPwYg" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Q-s8YO8yEeOflObM3pPwYg" base_Element="_Q-sVUO8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Annotations xmi:id="_Q-uxkO8yEeOflObM3pPwYg" base_Element="_Q-sVUO8yEeOflObM3pPwYg">
    <annotations xmi:id="_Q-uxke8yEeOflObM3pPwYg" name="SuppressLint">
      <annotationParameters xmi:id="_Q-uxku8yEeOflObM3pPwYg" skipName="true" skipArray="true">
        <valueSpecifications xmi:type="uml:LiteralString" xmi:id="_RXZwQe8yEeOflObM3pPwYg" value="&quot;HandlerLeak&quot;"/>
      </annotationParameters>
    </annotations>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Q-zDAe8yEeOflObM3pPwYg" base_Element="_Q-zDAO8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Annotations xmi:id="_Q-zqEO8yEeOflObM3pPwYg" base_Element="_Q-zDAO8yEeOflObM3pPwYg">
    <annotations xmi:id="_Q-zqEe8yEeOflObM3pPwYg" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Q_UncO8yEeOflObM3pPwYg" base_Element="_Q_UAYu8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Annotations xmi:id="_Q_Unce8yEeOflObM3pPwYg" base_Element="_Q_UAYu8yEeOflObM3pPwYg">
    <annotations xmi:id="_Q_VOgO8yEeOflObM3pPwYg" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:Reference xmi:id="_RPGI0O8yEeOflObM3pPwYg" base_Element="_RPE6sO8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RPHW8O8yEeOflObM3pPwYg" base_Element="_RPGI0e8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RPH-AO8yEeOflObM3pPwYg" base_Element="_RPHW8e8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RPIlEO8yEeOflObM3pPwYg" base_Element="_RPH-Ae8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RPJzMO8yEeOflObM3pPwYg" base_Element="_RPJMIO8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RPKaQO8yEeOflObM3pPwYg" base_Element="_RPJzMe8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RPLBUO8yEeOflObM3pPwYg" base_Element="_RPKaQe8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RPPSwO8yEeOflObM3pPwYg" base_Element="_RPOEoO8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RPS9IO8yEeOflObM3pPwYg" base_Element="_RPRvAO8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RPTkMO8yEeOflObM3pPwYg" base_Element="_RPS9Ie8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RPULQO8yEeOflObM3pPwYg" base_Element="_RPTkMe8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RPUyUO8yEeOflObM3pPwYg" base_Element="_RPULQe8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RPWAcO8yEeOflObM3pPwYg" base_Element="_RPVZYO8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RPWngO8yEeOflObM3pPwYg" base_Element="_RPWAce8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RPXOkO8yEeOflObM3pPwYg" base_Element="_RPWnge8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RPX1oO8yEeOflObM3pPwYg" base_Element="_RPXOke8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RPYcsO8yEeOflObM3pPwYg" base_Element="_RPX1oe8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RPZDwO8yEeOflObM3pPwYg" base_Element="_RPYcse8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RPZq0O8yEeOflObM3pPwYg" base_Element="_RPZDwe8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RPaR4O8yEeOflObM3pPwYg" base_Element="_RPZq0e8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RPbgAO8yEeOflObM3pPwYg" base_Element="_RPa48O8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RPjb0O8yEeOflObM3pPwYg" base_Element="_RPi0wO8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RPkC4O8yEeOflObM3pPwYg" base_Element="_RPjb0e8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RPo7YO8yEeOflObM3pPwYg" base_Element="_RPoUUO8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RPwQIO8yEeOflObM3pPwYg" base_Element="_RPvCAO8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RPysYO8yEeOflObM3pPwYg" base_Element="_RPyFUO8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RPz6gO8yEeOflObM3pPwYg" base_Element="_RPzTcO8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RP1vse8yEeOflObM3pPwYg" base_Element="_RP1vsO8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RP2Wwe8yEeOflObM3pPwYg" base_Element="_RP2WwO8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RP290e8yEeOflObM3pPwYg" base_Element="_RP290O8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RP6BIe8yEeOflObM3pPwYg" base_Element="_RP6BIO8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RP6oMe8yEeOflObM3pPwYg" base_Element="_RP6oMO8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RP7PQe8yEeOflObM3pPwYg" base_Element="_RP7PQO8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RP72UO8yEeOflObM3pPwYg" base_Element="_RP7PQu8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RP8dYO8yEeOflObM3pPwYg" base_Element="_RP72Ue8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RP9EcO8yEeOflObM3pPwYg" base_Element="_RP8dYe8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RP9rgO8yEeOflObM3pPwYg" base_Element="_RP9Ece8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RP-SkO8yEeOflObM3pPwYg" base_Element="_RP9rge8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RQBV4O8yEeOflObM3pPwYg" base_Element="_RQAu0O8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RQIDkO8yEeOflObM3pPwYg" base_Element="_RQHcgO8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RQIqoO8yEeOflObM3pPwYg" base_Element="_RQIDke8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RQJRsO8yEeOflObM3pPwYg" base_Element="_RQIqoe8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RQLt8O8yEeOflObM3pPwYg" base_Element="_RQLG4O8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RQMVAO8yEeOflObM3pPwYg" base_Element="_RQLt8e8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RQM8EO8yEeOflObM3pPwYg" base_Element="_RQMVAe8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RQNjIO8yEeOflObM3pPwYg" base_Element="_RQM8Ee8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RQNjIu8yEeOflObM3pPwYg" base_Element="_RQNjIe8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RQOKMe8yEeOflObM3pPwYg" base_Element="_RQOKMO8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RQOxQe8yEeOflObM3pPwYg" base_Element="_RQOxQO8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RQUQ0e8yEeOflObM3pPwYg" base_Element="_RQUQ0O8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RQXUIe8yEeOflObM3pPwYg" base_Element="_RQXUIO8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RQX7Me8yEeOflObM3pPwYg" base_Element="_RQX7MO8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RQa-gO8yEeOflObM3pPwYg" base_Element="_RQaXcO8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RQblkO8yEeOflObM3pPwYg" base_Element="_RQa-ge8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RQcMoO8yEeOflObM3pPwYg" base_Element="_RQblke8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RQf3AO8yEeOflObM3pPwYg" base_Element="_RQfP8O8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RQjhYO8yEeOflObM3pPwYg" base_Element="_RQi6UO8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RQpoAe8yEeOflObM3pPwYg" base_Element="_RQpoAO8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RQqPEe8yEeOflObM3pPwYg" base_Element="_RQqPEO8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RQq2IO8yEeOflObM3pPwYg" base_Element="_RQqPEu8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RQrdMO8yEeOflObM3pPwYg" base_Element="_RQq2Ie8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RQwVsO8yEeOflObM3pPwYg" base_Element="_RQvuoO8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RQ0nIO8yEeOflObM3pPwYg" base_Element="_RQ0AEO8yEeOflObM3pPwYg"/>
  <UMLLabProfile:StyledElement xmi:id="_RQ2cU-8yEeOflObM3pPwYg" base_Element="_RQ11QO8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RQ8i8O8yEeOflObM3pPwYg" base_Element="_RQ774O8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RQ9KAO8yEeOflObM3pPwYg" base_Element="_RQ8i8e8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RQ9xEO8yEeOflObM3pPwYg" base_Element="_RQ9KAe8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RRFF0O8yEeOflObM3pPwYg" base_Element="_RREewO8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RRFs4O8yEeOflObM3pPwYg" base_Element="_RRFF0e8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RRGT8O8yEeOflObM3pPwYg" base_Element="_RRFs4e8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RRG7AO8yEeOflObM3pPwYg" base_Element="_RRGT8e8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RRHiEO8yEeOflObM3pPwYg" base_Element="_RRG7Ae8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RRIJIO8yEeOflObM3pPwYg" base_Element="_RRHiEe8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RRIwMO8yEeOflObM3pPwYg" base_Element="_RRIJIe8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RRIwMu8yEeOflObM3pPwYg" base_Element="_RRIwMe8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RRJXQe8yEeOflObM3pPwYg" base_Element="_RRJXQO8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RRJ-UO8yEeOflObM3pPwYg" base_Element="_RRJXQu8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RRKlYO8yEeOflObM3pPwYg" base_Element="_RRJ-Ue8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RRLMcO8yEeOflObM3pPwYg" base_Element="_RRKlYe8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RRLzgO8yEeOflObM3pPwYg" base_Element="_RRLMce8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RRMakO8yEeOflObM3pPwYg" base_Element="_RRLzge8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RRNBoO8yEeOflObM3pPwYg" base_Element="_RRMake8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RRNBou8yEeOflObM3pPwYg" base_Element="_RRNBoe8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RRNose8yEeOflObM3pPwYg" base_Element="_RRNosO8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RROPwO8yEeOflObM3pPwYg" base_Element="_RRNosu8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RRO20O8yEeOflObM3pPwYg" base_Element="_RROPwe8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RRPd4O8yEeOflObM3pPwYg" base_Element="_RRO20e8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RRQE8O8yEeOflObM3pPwYg" base_Element="_RRPd4e8yEeOflObM3pPwYg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_RRriwO8yEeOflObM3pPwYg" base_Element="_RRq7sO8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Annotations xmi:id="_RRsJ0O8yEeOflObM3pPwYg" base_Element="_RRq7sO8yEeOflObM3pPwYg">
    <annotations xmi:id="_RRsJ0e8yEeOflObM3pPwYg" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_RRvNIO8yEeOflObM3pPwYg" base_Element="_RRumEO8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Annotations xmi:id="_RRvNIe8yEeOflObM3pPwYg" base_Element="_RRumEO8yEeOflObM3pPwYg">
    <annotations xmi:id="_RRvNIu8yEeOflObM3pPwYg" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_RRyQce8yEeOflObM3pPwYg" base_Element="_RRxpYO8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Annotations xmi:id="_RRy3gO8yEeOflObM3pPwYg" base_Element="_RRxpYO8yEeOflObM3pPwYg">
    <annotations xmi:id="_RRy3ge8yEeOflObM3pPwYg" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_RR0FoO8yEeOflObM3pPwYg" base_Element="_RRy3gu8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Annotations xmi:id="_RR0ssO8yEeOflObM3pPwYg" base_Element="_RRy3gu8yEeOflObM3pPwYg">
    <annotations xmi:id="_RR0sse8yEeOflObM3pPwYg" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_RR2h4O8yEeOflObM3pPwYg" base_Element="_RR160O8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Annotations xmi:id="_RR3I8O8yEeOflObM3pPwYg" base_Element="_RR160O8yEeOflObM3pPwYg">
    <annotations xmi:id="_RR3I8e8yEeOflObM3pPwYg" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:StyledElement xmi:id="_RSEkVe8yEeOflObM3pPwYg" base_Element="_RSD9QO8yEeOflObM3pPwYg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_RSMgIO8yEeOflObM3pPwYg" base_Element="_RSL5EO8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Array xmi:id="_RSNHMO8yEeOflObM3pPwYg" base_Element="_RSL5Ee8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Annotations xmi:id="_RSNHMe8yEeOflObM3pPwYg" base_Element="_RSL5EO8yEeOflObM3pPwYg">
    <annotations xmi:id="_RSNHMu8yEeOflObM3pPwYg" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:Reference xmi:id="_RSPjcO8yEeOflObM3pPwYg" base_Element="_RSO8YO8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Generics xmi:id="_RSRYoO8yEeOflObM3pPwYg" genericsValue="?" base_Element="_RSQxku8yEeOflObM3pPwYg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_RSTN0u8yEeOflObM3pPwYg" base_Element="_RSTN0O8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Annotations xmi:id="_RST04O8yEeOflObM3pPwYg" base_Element="_RSTN0O8yEeOflObM3pPwYg">
    <annotations xmi:id="_RST04e8yEeOflObM3pPwYg" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:Generics xmi:id="_RSZUcO8yEeOflObM3pPwYg" genericsValue="Location" base_Element="_RSYtYe8yEeOflObM3pPwYg"/>
  <UMLLabProfile:StyledElement xmi:id="_RSbwtO8yEeOflObM3pPwYg" base_Element="_RSbJoO8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RSdl4O8yEeOflObM3pPwYg" base_Element="_RSc-0O8yEeOflObM3pPwYg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_RSpMEO8yEeOflObM3pPwYg" base_Element="_RSolAO8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Annotations xmi:id="_RSpMEe8yEeOflObM3pPwYg" base_Element="_RSolAO8yEeOflObM3pPwYg">
    <annotations xmi:id="_RSpMEu8yEeOflObM3pPwYg" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_RSqaMu8yEeOflObM3pPwYg" base_Element="_RSqaMO8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Annotations xmi:id="_RSrBQO8yEeOflObM3pPwYg" base_Element="_RSqaMO8yEeOflObM3pPwYg">
    <annotations xmi:id="_RSrBQe8yEeOflObM3pPwYg" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:Reference xmi:id="_RSxH4O8yEeOflObM3pPwYg" base_Element="_RSwg0O8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Annotations xmi:id="_RS5DsO8yEeOflObM3pPwYg" base_Element="_RS4coO8yEeOflObM3pPwYg">
    <annotations xmi:id="_RS5Dse8yEeOflObM3pPwYg" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_RTT6ce8yEeOflObM3pPwYg" base_Element="_RTTTYO8yEeOflObM3pPwYg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_RTUhgu8yEeOflObM3pPwYg" base_Element="_RTUhgO8yEeOflObM3pPwYg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_RTVIke8yEeOflObM3pPwYg" base_Element="_RTUhg-8yEeOflObM3pPwYg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_RTVvoO8yEeOflObM3pPwYg" base_Element="_RTVIku8yEeOflObM3pPwYg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_RTW9wO8yEeOflObM3pPwYg" base_Element="_RTWWsu8yEeOflObM3pPwYg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_RTXk0O8yEeOflObM3pPwYg" base_Element="_RTW9we8yEeOflObM3pPwYg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_RTYL4O8yEeOflObM3pPwYg" base_Element="_RTXk0e8yEeOflObM3pPwYg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_RTYL4-8yEeOflObM3pPwYg" base_Element="_RTYL4e8yEeOflObM3pPwYg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_RTYy8u8yEeOflObM3pPwYg" base_Element="_RTYy8O8yEeOflObM3pPwYg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_RTaoIO8yEeOflObM3pPwYg" base_Element="_RTaBEO8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Annotations xmi:id="_RTaoIe8yEeOflObM3pPwYg" base_Element="_RTaBEO8yEeOflObM3pPwYg">
    <annotations xmi:id="_RTaoIu8yEeOflObM3pPwYg" name="SuppressWarnings">
      <annotationParameters xmi:id="_RTaoI-8yEeOflObM3pPwYg" skipName="true" skipArray="true">
        <valueSpecifications xmi:type="uml:LiteralString" xmi:id="_RXRNYO8yEeOflObM3pPwYg" value="&quot;unused&quot;"/>
      </annotationParameters>
    </annotations>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_RTb2QO8yEeOflObM3pPwYg" base_Element="_RTbPMO8yEeOflObM3pPwYg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_RTcdUO8yEeOflObM3pPwYg" base_Element="_RTb2Qe8yEeOflObM3pPwYg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_RTdEYe8yEeOflObM3pPwYg" base_Element="_RTcdUe8yEeOflObM3pPwYg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_RTdrcu8yEeOflObM3pPwYg" base_Element="_RTdrcO8yEeOflObM3pPwYg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_RTe5kO8yEeOflObM3pPwYg" base_Element="_RTeSgO8yEeOflObM3pPwYg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_RTfgoe8yEeOflObM3pPwYg" base_Element="_RTe5ke8yEeOflObM3pPwYg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_RTguwO8yEeOflObM3pPwYg" base_Element="_RTgHsO8yEeOflObM3pPwYg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_RThV0O8yEeOflObM3pPwYg" base_Element="_RTguwe8yEeOflObM3pPwYg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_RTh84O8yEeOflObM3pPwYg" base_Element="_RThV0e8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Generics xmi:id="_RTjLAO8yEeOflObM3pPwYg" genericsValue="PicoMainActivity" base_Element="_RTh84e8yEeOflObM3pPwYg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_RTjyEO8yEeOflObM3pPwYg" base_Element="_RTh84e8yEeOflObM3pPwYg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_RTlAMe8yEeOflObM3pPwYg" base_Element="_RTkZIO8yEeOflObM3pPwYg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_RTxNcO8yEeOflObM3pPwYg" base_Element="_RTwmYe8yEeOflObM3pPwYg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_RTx0gO8yEeOflObM3pPwYg" base_Element="_RTxNce8yEeOflObM3pPwYg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_RTx0gu8yEeOflObM3pPwYg" base_Element="_RTx0ge8yEeOflObM3pPwYg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_RTybku8yEeOflObM3pPwYg" base_Element="_RTybkO8yEeOflObM3pPwYg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_RTzpsO8yEeOflObM3pPwYg" base_Element="_RTzCoO8yEeOflObM3pPwYg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_RT030u8yEeOflObM3pPwYg" base_Element="_RT030O8yEeOflObM3pPwYg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_RT5wUO8yEeOflObM3pPwYg" base_Element="_RT5JQu8yEeOflObM3pPwYg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_RT6XYO8yEeOflObM3pPwYg" base_Element="_RT5wUe8yEeOflObM3pPwYg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_RT7lge8yEeOflObM3pPwYg" base_Element="_RT6-cO8yEeOflObM3pPwYg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_RT8Mke8yEeOflObM3pPwYg" base_Element="_RT7lgu8yEeOflObM3pPwYg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_RT8zoe8yEeOflObM3pPwYg" base_Element="_RT8Mku8yEeOflObM3pPwYg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_RT-o0e8yEeOflObM3pPwYg" base_Element="_RT-BwO8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Generics xmi:id="_RT_P4O8yEeOflObM3pPwYg" genericsValue="?" base_Element="_RT-o0u8yEeOflObM3pPwYg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_RT_28e8yEeOflObM3pPwYg" base_Element="_RT-o0u8yEeOflObM3pPwYg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_RUAeAe8yEeOflObM3pPwYg" base_Element="_RT_28u8yEeOflObM3pPwYg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_RUBFEe8yEeOflObM3pPwYg" base_Element="_RUAeAu8yEeOflObM3pPwYg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_RUCTMO8yEeOflObM3pPwYg" base_Element="_RUBsIO8yEeOflObM3pPwYg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_RUC6Qe8yEeOflObM3pPwYg" base_Element="_RUCTMe8yEeOflObM3pPwYg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_RUEIYO8yEeOflObM3pPwYg" base_Element="_RUDhUO8yEeOflObM3pPwYg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_RUFWgO8yEeOflObM3pPwYg" base_Element="_RUEvcO8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Generics xmi:id="_RUHLsO8yEeOflObM3pPwYg" genericsValue="AuthMech" base_Element="_RUF9ke8yEeOflObM3pPwYg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_RUHLse8yEeOflObM3pPwYg" base_Element="_RUF9ke8yEeOflObM3pPwYg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_RUKPAO8yEeOflObM3pPwYg" base_Element="_RUJn8O8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Generics xmi:id="_RULdIO8yEeOflObM3pPwYg" genericsValue="String" base_Element="_RUK2EO8yEeOflObM3pPwYg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_RUMEMO8yEeOflObM3pPwYg" base_Element="_RUK2EO8yEeOflObM3pPwYg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_RUOgcO8yEeOflObM3pPwYg" base_Element="_RUN5YO8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Generics xmi:id="_RUPHgO8yEeOflObM3pPwYg" genericsValue="Location" base_Element="_RUOgce8yEeOflObM3pPwYg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_RUPuke8yEeOflObM3pPwYg" base_Element="_RUOgce8yEeOflObM3pPwYg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_RURjwO8yEeOflObM3pPwYg" base_Element="_RUQ8sO8yEeOflObM3pPwYg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_RUSK0e8yEeOflObM3pPwYg" base_Element="_RURjwe8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Generics xmi:id="_RUVOIO8yEeOflObM3pPwYg" genericsValue="AuthMech" base_Element="_RUUnEO8yEeOflObM3pPwYg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_RUXDUO8yEeOflObM3pPwYg" base_Element="_RUV1MO8yEeOflObM3pPwYg">
    <associatedElement xmi:type="uml:Operation" xmi:id="_RUXDUe8yEeOflObM3pPwYg" name="getConfidence" method="_RWntIO8yEeOflObM3pPwYg">
      <ownedParameter xmi:id="_RUXqYO8yEeOflObM3pPwYg" direction="return">
        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
      </ownedParameter>
    </associatedElement>
  </UMLLabProfile:LegacyStyledElement>
  <UMLLabProfile:StyledElement xmi:id="_RUYRce8yEeOflObM3pPwYg" base_Element="_RUXqYe8yEeOflObM3pPwYg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_RUaGoO8yEeOflObM3pPwYg" base_Element="_RUZfkO8yEeOflObM3pPwYg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_RUatse8yEeOflObM3pPwYg" base_Element="_RUaGoe8yEeOflObM3pPwYg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_RUbUwe8yEeOflObM3pPwYg" base_Element="_RUatsu8yEeOflObM3pPwYg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_RUeYEO8yEeOflObM3pPwYg" base_Element="_RUdJ8O8yEeOflObM3pPwYg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_RUg0Ue8yEeOflObM3pPwYg" base_Element="_RUgNQO8yEeOflObM3pPwYg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_RUiCcO8yEeOflObM3pPwYg" base_Element="_RUhbYO8yEeOflObM3pPwYg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_RUipge8yEeOflObM3pPwYg" base_Element="_RUipgO8yEeOflObM3pPwYg">
    <associatedElement xmi:type="uml:Operation" xmi:id="_RUjQkO8yEeOflObM3pPwYg" name="getOwnerImage" visibility="private" method="_RWrXgO8yEeOflObM3pPwYg">
      <ownedParameter xmi:id="_RUj3oO8yEeOflObM3pPwYg" direction="return">
        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
      </ownedParameter>
    </associatedElement>
  </UMLLabProfile:LegacyStyledElement>
  <UMLLabProfile:LegacyStyledElement xmi:id="_RUm68e8yEeOflObM3pPwYg" base_Element="_RUmT4O8yEeOflObM3pPwYg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_RUowIO8yEeOflObM3pPwYg" base_Element="_RUoJEO8yEeOflObM3pPwYg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_RUpXMO8yEeOflObM3pPwYg" base_Element="_RUowIe8yEeOflObM3pPwYg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_RUqlUO8yEeOflObM3pPwYg" base_Element="_RUp-QO8yEeOflObM3pPwYg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_RUrMYe8yEeOflObM3pPwYg" base_Element="_RUqlUe8yEeOflObM3pPwYg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_RUrzcu8yEeOflObM3pPwYg" base_Element="_RUrzcO8yEeOflObM3pPwYg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_RUtooO8yEeOflObM3pPwYg" base_Element="_RUtBkO8yEeOflObM3pPwYg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_RUu2wO8yEeOflObM3pPwYg" base_Element="_RUuPse8yEeOflObM3pPwYg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_RUwE4O8yEeOflObM3pPwYg" base_Element="_RUvd0O8yEeOflObM3pPwYg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_RUyhIO8yEeOflObM3pPwYg" base_Element="_RUxTAe8yEeOflObM3pPwYg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_RU3Zoe8yEeOflObM3pPwYg" base_Element="_RU2ykO8yEeOflObM3pPwYg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_RU4nwO8yEeOflObM3pPwYg" base_Element="_RU4AsO8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Generics xmi:id="_RU514O8yEeOflObM3pPwYg" genericsValue="Messenger, Integer" base_Element="_RU5O0O8yEeOflObM3pPwYg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_RU6c8O8yEeOflObM3pPwYg" base_Element="_RU5O0O8yEeOflObM3pPwYg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_RU7rEO8yEeOflObM3pPwYg" base_Element="_RU6c8e8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Generics xmi:id="_RU_VcO8yEeOflObM3pPwYg" genericsValue="UAService" base_Element="_RU-HUe8yEeOflObM3pPwYg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_RU_8gO8yEeOflObM3pPwYg" base_Element="_RU-HUe8yEeOflObM3pPwYg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_RVBKoO8yEeOflObM3pPwYg" base_Element="_RVAjkO8yEeOflObM3pPwYg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_RVFcEO8yEeOflObM3pPwYg" base_Element="_RVE1AO8yEeOflObM3pPwYg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_RVGDIO8yEeOflObM3pPwYg" base_Element="_RVFcEe8yEeOflObM3pPwYg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_RVGqMe8yEeOflObM3pPwYg" base_Element="_RVGDIe8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Generics xmi:id="_RVH4UO8yEeOflObM3pPwYg" genericsValue="Location" base_Element="_RVHRQO8yEeOflObM3pPwYg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_RVIfYO8yEeOflObM3pPwYg" base_Element="_RVHRQO8yEeOflObM3pPwYg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_RVJtgO8yEeOflObM3pPwYg" base_Element="_RVJGcO8yEeOflObM3pPwYg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_RVK7oO8yEeOflObM3pPwYg" base_Element="_RVJtge8yEeOflObM3pPwYg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_RVLise8yEeOflObM3pPwYg" base_Element="_RVK7oe8yEeOflObM3pPwYg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_RVNX4O8yEeOflObM3pPwYg" base_Element="_RVMw0O8yEeOflObM3pPwYg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_RVQbMO8yEeOflObM3pPwYg" base_Element="_RVP0Ie8yEeOflObM3pPwYg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_RVTegO8yEeOflObM3pPwYg" base_Element="_RVS3cO8yEeOflObM3pPwYg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_RVUFkO8yEeOflObM3pPwYg" base_Element="_RVTege8yEeOflObM3pPwYg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_RVUsoO8yEeOflObM3pPwYg" base_Element="_RVUFke8yEeOflObM3pPwYg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_RVVTse8yEeOflObM3pPwYg" base_Element="_RVUsoe8yEeOflObM3pPwYg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_RVXv8O8yEeOflObM3pPwYg" base_Element="_RVXI4O8yEeOflObM3pPwYg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_RVYXAO8yEeOflObM3pPwYg" base_Element="_RVXv8e8yEeOflObM3pPwYg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_RVY-Ee8yEeOflObM3pPwYg" base_Element="_RVYXAe8yEeOflObM3pPwYg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_RVZlIe8yEeOflObM3pPwYg" base_Element="_RVY-Eu8yEeOflObM3pPwYg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_RVcocO8yEeOflObM3pPwYg" base_Element="_RVcBYO8yEeOflObM3pPwYg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_RVd2kO8yEeOflObM3pPwYg" base_Element="_RVdPgO8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Generics xmi:id="_RVfEsO8yEeOflObM3pPwYg" genericsValue="AuthMechService" base_Element="_RVd2ke8yEeOflObM3pPwYg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_RVhg8O8yEeOflObM3pPwYg" base_Element="_RVg54e8yEeOflObM3pPwYg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_RViIA-8yEeOflObM3pPwYg" base_Element="_RVhg8e8yEeOflObM3pPwYg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_RVivEu8yEeOflObM3pPwYg" base_Element="_RVivEO8yEeOflObM3pPwYg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_RVmZcO8yEeOflObM3pPwYg" base_Element="_RVlyYO8yEeOflObM3pPwYg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_RVnAge8yEeOflObM3pPwYg" base_Element="_RVmZce8yEeOflObM3pPwYg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_RVrR8O8yEeOflObM3pPwYg" base_Element="_RVqq4O8yEeOflObM3pPwYg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_RVsgEu8yEeOflObM3pPwYg" base_Element="_RVsgEO8yEeOflObM3pPwYg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_RVtuMO8yEeOflObM3pPwYg" base_Element="_RVtHIO8yEeOflObM3pPwYg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_RVu8UO8yEeOflObM3pPwYg" base_Element="_RVuVQO8yEeOflObM3pPwYg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_RVwxge8yEeOflObM3pPwYg" base_Element="_RVwKcO8yEeOflObM3pPwYg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_RVz00O8yEeOflObM3pPwYg" base_Element="_RVzNwO8yEeOflObM3pPwYg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_RV2REO8yEeOflObM3pPwYg" base_Element="_RV1qAO8yEeOflObM3pPwYg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_RV24IO8yEeOflObM3pPwYg" base_Element="_RV2REe8yEeOflObM3pPwYg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_RV3fMO8yEeOflObM3pPwYg" base_Element="_RV24Ie8yEeOflObM3pPwYg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_RV57cO8yEeOflObM3pPwYg" base_Element="_RV5UYu8yEeOflObM3pPwYg"/>
  <uml:OpaqueBehavior xmi:id="_RWntIO8yEeOflObM3pPwYg" name="getConfidence" specification="_RUXDUe8yEeOflObM3pPwYg">
    <ownedParameter xmi:id="_RWoUMO8yEeOflObM3pPwYg" direction="return">
      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
    </ownedParameter>
    <language>java</language>
    <body>Log.d(TAG, &quot;getConfidence()&quot;);&#xD;
		&#xD;
		this.calculateConfidence();&#xD;
		return this.confidence;&#xD;
	</body>
  </uml:OpaqueBehavior>
  <uml:OpaqueBehavior xmi:id="_RWrXgO8yEeOflObM3pPwYg" name="getOwnerImage" specification="_RUjQkO8yEeOflObM3pPwYg">
    <ownedParameter xmi:id="_RWrXge8yEeOflObM3pPwYg" direction="return">
      <name xsi:nil="true"/>
      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
    </ownedParameter>
    <language>java</language>
    <body>String owner = null;&#xD;
&#xD;
		Log.d(TAG, &quot;getOwnerImage+&quot;);&#xD;
&#xD;
		File dir = new File(this.trainDirectory);&#xD;
		for (File file : dir.listFiles()) {&#xD;
			if (file.isDirectory()) {&#xD;
				continue;&#xD;
			}&#xD;
&#xD;
			String fn = file.getName();&#xD;
			if (fn.startsWith(&quot;owner&quot;) &amp;&amp; fn.endsWith(&quot;.png&quot;)) {&#xD;
				owner = fn;&#xD;
				break;&#xD;
			}&#xD;
		}&#xD;
&#xD;
		Log.d(TAG, &quot;getOwnerImage- &quot; + owner);&#xD;
		return owner;&#xD;
	</body>
  </uml:OpaqueBehavior>
  <UMLLabProfile:Reference xmi:id="_RYCCYO8yEeOflObM3pPwYg" base_Element="_RYA0QO8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RYCpcO8yEeOflObM3pPwYg" base_Element="_RYCCYe8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RYD3kO8yEeOflObM3pPwYg" base_Element="_RYDQgO8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RYFFsO8yEeOflObM3pPwYg" base_Element="_RYEeoO8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RYGT0O8yEeOflObM3pPwYg" base_Element="_RYFFse8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RYG64O8yEeOflObM3pPwYg" base_Element="_RYGT0e8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RYIJAO8yEeOflObM3pPwYg" base_Element="_RYHh8O8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RYJXIO8yEeOflObM3pPwYg" base_Element="_RYIJAe8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RYJ-MO8yEeOflObM3pPwYg" base_Element="_RYJXIe8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RYLMUO8yEeOflObM3pPwYg" base_Element="_RYKlQO8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RYMacO8yEeOflObM3pPwYg" base_Element="_RYLMUe8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RYNBgO8yEeOflObM3pPwYg" base_Element="_RYMace8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RYOPoO8yEeOflObM3pPwYg" base_Element="_RYNokO8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RYPdwO8yEeOflObM3pPwYg" base_Element="_RYOPoe8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RYQE0O8yEeOflObM3pPwYg" base_Element="_RYPdwe8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RYRS8O8yEeOflObM3pPwYg" base_Element="_RYQr4O8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RYShEO8yEeOflObM3pPwYg" base_Element="_RYRS8e8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RYTvMO8yEeOflObM3pPwYg" base_Element="_RYShEe8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RYUWQO8yEeOflObM3pPwYg" base_Element="_RYTvMe8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RYVkYO8yEeOflObM3pPwYg" base_Element="_RYUWQe8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RYbrAO8yEeOflObM3pPwYg" base_Element="_RYac4e8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RYcSEO8yEeOflObM3pPwYg" base_Element="_RYbrAe8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RYdgMO8yEeOflObM3pPwYg" base_Element="_RYc5IO8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RYeHQO8yEeOflObM3pPwYg" base_Element="_RYdgMe8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RYfVYO8yEeOflObM3pPwYg" base_Element="_RYeHQe8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RYf8cO8yEeOflObM3pPwYg" base_Element="_RYfVYe8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RYgjgO8yEeOflObM3pPwYg" base_Element="_RYf8ce8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RYhxoO8yEeOflObM3pPwYg" base_Element="_RYhKkO8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RYi_wO8yEeOflObM3pPwYg" base_Element="_RYhxoe8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RYjm0O8yEeOflObM3pPwYg" base_Element="_RYi_we8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RYkN4O8yEeOflObM3pPwYg" base_Element="_RYjm0e8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RYk08u8yEeOflObM3pPwYg" base_Element="_RYk08O8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RYlcAu8yEeOflObM3pPwYg" base_Element="_RYlcAO8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RYmDEu8yEeOflObM3pPwYg" base_Element="_RYmDEO8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RYnRMu8yEeOflObM3pPwYg" base_Element="_RYnRMO8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RYn4Qu8yEeOflObM3pPwYg" base_Element="_RYn4QO8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RYofUu8yEeOflObM3pPwYg" base_Element="_RYofUO8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RYpGYu8yEeOflObM3pPwYg" base_Element="_RYpGYO8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RYptcO8yEeOflObM3pPwYg" base_Element="_RYpGY-8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RYqUgO8yEeOflObM3pPwYg" base_Element="_RYptce8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RYq7kO8yEeOflObM3pPwYg" base_Element="_RYqUge8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RYrioO8yEeOflObM3pPwYg" base_Element="_RYq7ke8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RYsJsu8yEeOflObM3pPwYg" base_Element="_RYsJsO8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RYswwe8yEeOflObM3pPwYg" base_Element="_RYsJs-8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RYtX0O8yEeOflObM3pPwYg" base_Element="_RYswwu8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RYt-4O8yEeOflObM3pPwYg" base_Element="_RYtX0e8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RYul8O8yEeOflObM3pPwYg" base_Element="_RYt-4e8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RYvNAO8yEeOflObM3pPwYg" base_Element="_RYul8e8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RYv0EO8yEeOflObM3pPwYg" base_Element="_RYvNAe8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RYwbIO8yEeOflObM3pPwYg" base_Element="_RYv0Ee8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RYxCMO8yEeOflObM3pPwYg" base_Element="_RYwbIe8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RYxpQO8yEeOflObM3pPwYg" base_Element="_RYxCMe8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RYyQUO8yEeOflObM3pPwYg" base_Element="_RYxpQe8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RYy3YO8yEeOflObM3pPwYg" base_Element="_RYyQUe8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RYzecO8yEeOflObM3pPwYg" base_Element="_RYy3Ye8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RY0FgO8yEeOflObM3pPwYg" base_Element="_RYzece8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RY0skO8yEeOflObM3pPwYg" base_Element="_RY0Fge8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RY1ToO8yEeOflObM3pPwYg" base_Element="_RY0ske8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RY16sO8yEeOflObM3pPwYg" base_Element="_RY1Toe8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RY2hwO8yEeOflObM3pPwYg" base_Element="_RY16se8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RY2hw-8yEeOflObM3pPwYg" base_Element="_RY2hwe8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RY3I0u8yEeOflObM3pPwYg" base_Element="_RY3I0O8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RY3v4u8yEeOflObM3pPwYg" base_Element="_RY3v4O8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RY4W8O8yEeOflObM3pPwYg" base_Element="_RY3v4-8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RY4-AO8yEeOflObM3pPwYg" base_Element="_RY4W8e8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RY5lEO8yEeOflObM3pPwYg" base_Element="_RY4-Ae8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RY6MIO8yEeOflObM3pPwYg" base_Element="_RY5lEe8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RY6zMO8yEeOflObM3pPwYg" base_Element="_RY6MIe8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RY7aQO8yEeOflObM3pPwYg" base_Element="_RY6zMe8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RY8BUO8yEeOflObM3pPwYg" base_Element="_RY7aQe8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RY8oYO8yEeOflObM3pPwYg" base_Element="_RY8BUe8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RY92gO8yEeOflObM3pPwYg" base_Element="_RY8oYe8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RY-dkO8yEeOflObM3pPwYg" base_Element="_RY92ge8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RY_rsO8yEeOflObM3pPwYg" base_Element="_RY_EoO8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RZASwO8yEeOflObM3pPwYg" base_Element="_RY_rse8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RZA50O8yEeOflObM3pPwYg" base_Element="_RZASwe8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RZCH8O8yEeOflObM3pPwYg" base_Element="_RZBg4e8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RZCvAO8yEeOflObM3pPwYg" base_Element="_RZCH8e8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_RZDWEO8yEeOflObM3pPwYg" base_Element="_RZCvAe8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Reference xmi:id="_ixVzUO_9EeOro6Du1a1f1w" base_Element="_ixVMQO_9EeOro6Du1a1f1w"/>
  <UMLLabProfile:Generics xmi:id="_lqvpYO_9EeOro6Du1a1f1w" genericsValue="Byte" base_Element="_RTnccO8yEeOflObM3pPwYg"/>
  <UMLLabProfile:Array xmi:id="_lq4MQu_9EeOro6Du1a1f1w" dimensions="1" base_Element="_lq3lMO_9EeOro6Du1a1f1w"/>
  <UMLLabProfile:Generics xmi:id="_lq7PkO_9EeOro6Du1a1f1w" genericsValue="VoiceDAO" base_Element="_lq6BcO_9EeOro6Du1a1f1w"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_lrpoUe_9EeOro6Du1a1f1w" base_Element="_lrpoUO_9EeOro6Du1a1f1w">
    <associatedElement xmi:type="uml:Operation" xmi:id="_lrq2cO_9EeOro6Du1a1f1w" name="getData" method="_lrvu8O_9EeOro6Du1a1f1w">
      <ownedParameter xmi:id="_lrq2ce_9EeOro6Du1a1f1w" direction="return">
        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#byte"/>
        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_lrq2cu_9EeOro6Du1a1f1w" value="*"/>
      </ownedParameter>
    </associatedElement>
  </UMLLabProfile:LegacyStyledElement>
  <UMLLabProfile:Array xmi:id="_lrqPYe_9EeOro6Du1a1f1w" dimensions="1" base_Element="_lrpoUO_9EeOro6Du1a1f1w"/>
  <UMLLabProfile:Array xmi:id="_lrq2c-_9EeOro6Du1a1f1w" base_Element="_lrq2cO_9EeOro6Du1a1f1w"/>
  <uml:OpaqueBehavior xmi:id="_lrvu8O_9EeOro6Du1a1f1w" name="getData" specification="_lrq2cO_9EeOro6Du1a1f1w">
    <ownedParameter xmi:id="_lrwWAO_9EeOro6Du1a1f1w" direction="return">
      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#byte"/>
      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_lrwWAe_9EeOro6Du1a1f1w" value="*"/>
    </ownedParameter>
    <language>java</language>
    <body>byte[] result = new byte[this.threadData.size()];&#xD;
&#xD;
			for (int i = 0; i &lt; result.length; i++) {&#xD;
				result[i] = this.threadData.get(i);&#xD;
			}&#xD;
&#xD;
			return result;&#xD;
		</body>
  </uml:OpaqueBehavior>
  <UMLLabProfile:Reference xmi:id="_lr444O_9EeOro6Du1a1f1w" base_Element="_lr4R0O_9EeOro6Du1a1f1w"/>
</xmi:XMI>
